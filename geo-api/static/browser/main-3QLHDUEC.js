var Gh=Object.create;var Co=Object.defineProperty,qh=Object.defineProperties,Yh=Object.getOwnPropertyDescriptor,Kh=Object.getOwnPropertyDescriptors,Qh=Object.getOwnPropertyNames,Ou=Object.getOwnPropertySymbols,Jh=Object.getPrototypeOf,Lu=Object.prototype.hasOwnProperty,Xh=Object.prototype.propertyIsEnumerable;var ku=(t,n,i)=>n in t?Co(t,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[n]=i,ye=(t,n)=>{for(var i in n||={})Lu.call(n,i)&&ku(t,i,n[i]);if(Ou)for(var i of Ou(n))Xh.call(n,i)&&ku(t,i,n[i]);return t},Ue=(t,n)=>qh(t,Kh(n));var ep=(t,n)=>()=>(n||t((n={exports:{}}).exports,n),n.exports);var tp=(t,n,i,o)=>{if(n&&typeof n=="object"||typeof n=="function")for(let a of Qh(n))!Lu.call(t,a)&&a!==i&&Co(t,a,{get:()=>n[a],enumerable:!(o=Yh(n,a))||o.enumerable});return t};var np=(t,n,i)=>(i=t!=null?Gh(Jh(t)):{},tp(n||!t||!t.__esModule?Co(i,"default",{value:t,enumerable:!0}):i,t));var _f=ep((Hi,yf)=>{"use strict";(function(t,n){typeof Hi=="object"&&typeof yf<"u"?n(Hi):typeof define=="function"&&define.amd?define(["exports"],n):(t=typeof globalThis<"u"?globalThis:t||self,n(t.leaflet={}))})(Hi,function(t){"use strict";var n="1.9.4";function i(e){var r,s,u,l;for(s=1,u=arguments.length;s<u;s++){l=arguments[s];for(r in l)e[r]=l[r]}return e}var o=Object.create||function(){function e(){}return function(r){return e.prototype=r,new e}}();function a(e,r){var s=Array.prototype.slice;if(e.bind)return e.bind.apply(e,s.call(arguments,1));var u=s.call(arguments,2);return function(){return e.apply(r,u.length?u.concat(s.call(arguments)):arguments)}}var c=0;function d(e){return"_leaflet_id"in e||(e._leaflet_id=++c),e._leaflet_id}function h(e,r,s){var u,l,f,g;return g=function(){u=!1,l&&(f.apply(s,l),l=!1)},f=function(){u?l=arguments:(e.apply(s,arguments),setTimeout(g,r),u=!0)},f}function p(e,r,s){var u=r[1],l=r[0],f=u-l;return e===u&&s?e:((e-l)%f+f)%f+l}function m(){return!1}function _(e,r){if(r===!1)return e;var s=Math.pow(10,r===void 0?6:r);return Math.round(e*s)/s}function E(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function b(e){return E(e).split(/\s+/)}function D(e,r){Object.prototype.hasOwnProperty.call(e,"options")||(e.options=e.options?o(e.options):{});for(var s in r)e.options[s]=r[s];return e.options}function j(e,r,s){var u=[];for(var l in e)u.push(encodeURIComponent(s?l.toUpperCase():l)+"="+encodeURIComponent(e[l]));return(!r||r.indexOf("?")===-1?"?":"&")+u.join("&")}var M=/\{ *([\w_ -]+) *\}/g;function Z(e,r){return e.replace(M,function(s,u){var l=r[u];if(l===void 0)throw new Error("No value provided for variable "+s);return typeof l=="function"&&(l=l(r)),l})}var W=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};function Ft(e,r){for(var s=0;s<e.length;s++)if(e[s]===r)return s;return-1}var ae="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function _t(e){return window["webkit"+e]||window["moz"+e]||window["ms"+e]}var ur=0;function cr(e){var r=+new Date,s=Math.max(0,16-(r-ur));return ur=r+s,window.setTimeout(e,s)}var Ui=window.requestAnimationFrame||_t("RequestAnimationFrame")||cr,Ea=window.cancelAnimationFrame||_t("CancelAnimationFrame")||_t("CancelRequestAnimationFrame")||function(e){window.clearTimeout(e)};function pe(e,r,s){if(s&&Ui===cr)e.call(r);else return Ui.call(window,a(e,r))}function we(e){e&&Ea.call(window,e)}var wf={__proto__:null,extend:i,create:o,bind:a,get lastId(){return c},stamp:d,throttle:h,wrapNum:p,falseFn:m,formatNum:_,trim:E,splitWords:b,setOptions:D,getParamString:j,template:Z,isArray:W,indexOf:Ft,emptyImageUrl:ae,requestFn:Ui,cancelFn:Ea,requestAnimFrame:pe,cancelAnimFrame:we};function Ye(){}Ye.extend=function(e){var r=function(){D(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},s=r.__super__=this.prototype,u=o(s);u.constructor=r,r.prototype=u;for(var l in this)Object.prototype.hasOwnProperty.call(this,l)&&l!=="prototype"&&l!=="__super__"&&(r[l]=this[l]);return e.statics&&i(r,e.statics),e.includes&&(Ef(e.includes),i.apply(null,[u].concat(e.includes))),i(u,e),delete u.statics,delete u.includes,u.options&&(u.options=s.options?o(s.options):{},i(u.options,e.options)),u._initHooks=[],u.callInitHooks=function(){if(!this._initHooksCalled){s.callInitHooks&&s.callInitHooks.call(this),this._initHooksCalled=!0;for(var f=0,g=u._initHooks.length;f<g;f++)u._initHooks[f].call(this)}},r},Ye.include=function(e){var r=this.prototype.options;return i(this.prototype,e),e.options&&(this.prototype.options=r,this.mergeOptions(e.options)),this},Ye.mergeOptions=function(e){return i(this.prototype.options,e),this},Ye.addInitHook=function(e){var r=Array.prototype.slice.call(arguments,1),s=typeof e=="function"?e:function(){this[e].apply(this,r)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(s),this};function Ef(e){if(!(typeof L>"u"||!L||!L.Mixin)){e=W(e)?e:[e];for(var r=0;r<e.length;r++)e[r]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var De={on:function(e,r,s){if(typeof e=="object")for(var u in e)this._on(u,e[u],r);else{e=b(e);for(var l=0,f=e.length;l<f;l++)this._on(e[l],r,s)}return this},off:function(e,r,s){if(!arguments.length)delete this._events;else if(typeof e=="object")for(var u in e)this._off(u,e[u],r);else{e=b(e);for(var l=arguments.length===1,f=0,g=e.length;f<g;f++)l?this._off(e[f]):this._off(e[f],r,s)}return this},_on:function(e,r,s,u){if(typeof r!="function"){console.warn("wrong listener type: "+typeof r);return}if(this._listens(e,r,s)===!1){s===this&&(s=void 0);var l={fn:r,ctx:s};u&&(l.once=!0),this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(l)}},_off:function(e,r,s){var u,l,f;if(this._events&&(u=this._events[e],!!u)){if(arguments.length===1){if(this._firingCount)for(l=0,f=u.length;l<f;l++)u[l].fn=m;delete this._events[e];return}if(typeof r!="function"){console.warn("wrong listener type: "+typeof r);return}var g=this._listens(e,r,s);if(g!==!1){var v=u[g];this._firingCount&&(v.fn=m,this._events[e]=u=u.slice()),u.splice(g,1)}}},fire:function(e,r,s){if(!this.listens(e,s))return this;var u=i({},r,{type:e,target:this,sourceTarget:r&&r.sourceTarget||this});if(this._events){var l=this._events[e];if(l){this._firingCount=this._firingCount+1||1;for(var f=0,g=l.length;f<g;f++){var v=l[f],y=v.fn;v.once&&this.off(e,y,v.ctx),y.call(v.ctx||this,u)}this._firingCount--}}return s&&this._propagateEvent(u),this},listens:function(e,r,s,u){typeof e!="string"&&console.warn('"string" type argument expected');var l=r;typeof r!="function"&&(u=!!r,l=void 0,s=void 0);var f=this._events&&this._events[e];if(f&&f.length&&this._listens(e,l,s)!==!1)return!0;if(u){for(var g in this._eventParents)if(this._eventParents[g].listens(e,r,s,u))return!0}return!1},_listens:function(e,r,s){if(!this._events)return!1;var u=this._events[e]||[];if(!r)return!!u.length;s===this&&(s=void 0);for(var l=0,f=u.length;l<f;l++)if(u[l].fn===r&&u[l].ctx===s)return l;return!1},once:function(e,r,s){if(typeof e=="object")for(var u in e)this._on(u,e[u],r,!0);else{e=b(e);for(var l=0,f=e.length;l<f;l++)this._on(e[l],r,s,!0)}return this},addEventParent:function(e){return this._eventParents=this._eventParents||{},this._eventParents[d(e)]=e,this},removeEventParent:function(e){return this._eventParents&&delete this._eventParents[d(e)],this},_propagateEvent:function(e){for(var r in this._eventParents)this._eventParents[r].fire(e.type,i({layer:e.target,propagatedFrom:e.target},e),!0)}};De.addEventListener=De.on,De.removeEventListener=De.clearAllEventListeners=De.off,De.addOneTimeEventListener=De.once,De.fireEvent=De.fire,De.hasEventListeners=De.listens;var fn=Ye.extend(De);function S(e,r,s){this.x=s?Math.round(e):e,this.y=s?Math.round(r):r}var Ia=Math.trunc||function(e){return e>0?Math.floor(e):Math.ceil(e)};S.prototype={clone:function(){return new S(this.x,this.y)},add:function(e){return this.clone()._add(x(e))},_add:function(e){return this.x+=e.x,this.y+=e.y,this},subtract:function(e){return this.clone()._subtract(x(e))},_subtract:function(e){return this.x-=e.x,this.y-=e.y,this},divideBy:function(e){return this.clone()._divideBy(e)},_divideBy:function(e){return this.x/=e,this.y/=e,this},multiplyBy:function(e){return this.clone()._multiplyBy(e)},_multiplyBy:function(e){return this.x*=e,this.y*=e,this},scaleBy:function(e){return new S(this.x*e.x,this.y*e.y)},unscaleBy:function(e){return new S(this.x/e.x,this.y/e.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Ia(this.x),this.y=Ia(this.y),this},distanceTo:function(e){e=x(e);var r=e.x-this.x,s=e.y-this.y;return Math.sqrt(r*r+s*s)},equals:function(e){return e=x(e),e.x===this.x&&e.y===this.y},contains:function(e){return e=x(e),Math.abs(e.x)<=Math.abs(this.x)&&Math.abs(e.y)<=Math.abs(this.y)},toString:function(){return"Point("+_(this.x)+", "+_(this.y)+")"}};function x(e,r,s){return e instanceof S?e:W(e)?new S(e[0],e[1]):e==null?e:typeof e=="object"&&"x"in e&&"y"in e?new S(e.x,e.y):new S(e,r,s)}function te(e,r){if(e)for(var s=r?[e,r]:e,u=0,l=s.length;u<l;u++)this.extend(s[u])}te.prototype={extend:function(e){var r,s;if(!e)return this;if(e instanceof S||typeof e[0]=="number"||"x"in e)r=s=x(e);else if(e=ge(e),r=e.min,s=e.max,!r||!s)return this;return!this.min&&!this.max?(this.min=r.clone(),this.max=s.clone()):(this.min.x=Math.min(r.x,this.min.x),this.max.x=Math.max(s.x,this.max.x),this.min.y=Math.min(r.y,this.min.y),this.max.y=Math.max(s.y,this.max.y)),this},getCenter:function(e){return x((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,e)},getBottomLeft:function(){return x(this.min.x,this.max.y)},getTopRight:function(){return x(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(e){var r,s;return typeof e[0]=="number"||e instanceof S?e=x(e):e=ge(e),e instanceof te?(r=e.min,s=e.max):r=s=e,r.x>=this.min.x&&s.x<=this.max.x&&r.y>=this.min.y&&s.y<=this.max.y},intersects:function(e){e=ge(e);var r=this.min,s=this.max,u=e.min,l=e.max,f=l.x>=r.x&&u.x<=s.x,g=l.y>=r.y&&u.y<=s.y;return f&&g},overlaps:function(e){e=ge(e);var r=this.min,s=this.max,u=e.min,l=e.max,f=l.x>r.x&&u.x<s.x,g=l.y>r.y&&u.y<s.y;return f&&g},isValid:function(){return!!(this.min&&this.max)},pad:function(e){var r=this.min,s=this.max,u=Math.abs(r.x-s.x)*e,l=Math.abs(r.y-s.y)*e;return ge(x(r.x-u,r.y-l),x(s.x+u,s.y+l))},equals:function(e){return e?(e=ge(e),this.min.equals(e.getTopLeft())&&this.max.equals(e.getBottomRight())):!1}};function ge(e,r){return!e||e instanceof te?e:new te(e,r)}function me(e,r){if(e)for(var s=r?[e,r]:e,u=0,l=s.length;u<l;u++)this.extend(s[u])}me.prototype={extend:function(e){var r=this._southWest,s=this._northEast,u,l;if(e instanceof q)u=e,l=e;else if(e instanceof me){if(u=e._southWest,l=e._northEast,!u||!l)return this}else return e?this.extend(H(e)||ie(e)):this;return!r&&!s?(this._southWest=new q(u.lat,u.lng),this._northEast=new q(l.lat,l.lng)):(r.lat=Math.min(u.lat,r.lat),r.lng=Math.min(u.lng,r.lng),s.lat=Math.max(l.lat,s.lat),s.lng=Math.max(l.lng,s.lng)),this},pad:function(e){var r=this._southWest,s=this._northEast,u=Math.abs(r.lat-s.lat)*e,l=Math.abs(r.lng-s.lng)*e;return new me(new q(r.lat-u,r.lng-l),new q(s.lat+u,s.lng+l))},getCenter:function(){return new q((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new q(this.getNorth(),this.getWest())},getSouthEast:function(){return new q(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(e){typeof e[0]=="number"||e instanceof q||"lat"in e?e=H(e):e=ie(e);var r=this._southWest,s=this._northEast,u,l;return e instanceof me?(u=e.getSouthWest(),l=e.getNorthEast()):u=l=e,u.lat>=r.lat&&l.lat<=s.lat&&u.lng>=r.lng&&l.lng<=s.lng},intersects:function(e){e=ie(e);var r=this._southWest,s=this._northEast,u=e.getSouthWest(),l=e.getNorthEast(),f=l.lat>=r.lat&&u.lat<=s.lat,g=l.lng>=r.lng&&u.lng<=s.lng;return f&&g},overlaps:function(e){e=ie(e);var r=this._southWest,s=this._northEast,u=e.getSouthWest(),l=e.getNorthEast(),f=l.lat>r.lat&&u.lat<s.lat,g=l.lng>r.lng&&u.lng<s.lng;return f&&g},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(e,r){return e?(e=ie(e),this._southWest.equals(e.getSouthWest(),r)&&this._northEast.equals(e.getNorthEast(),r)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ie(e,r){return e instanceof me?e:new me(e,r)}function q(e,r,s){if(isNaN(e)||isNaN(r))throw new Error("Invalid LatLng object: ("+e+", "+r+")");this.lat=+e,this.lng=+r,s!==void 0&&(this.alt=+s)}q.prototype={equals:function(e,r){if(!e)return!1;e=H(e);var s=Math.max(Math.abs(this.lat-e.lat),Math.abs(this.lng-e.lng));return s<=(r===void 0?1e-9:r)},toString:function(e){return"LatLng("+_(this.lat,e)+", "+_(this.lng,e)+")"},distanceTo:function(e){return it.distance(this,H(e))},wrap:function(){return it.wrapLatLng(this)},toBounds:function(e){var r=180*e/40075017,s=r/Math.cos(Math.PI/180*this.lat);return ie([this.lat-r,this.lng-s],[this.lat+r,this.lng+s])},clone:function(){return new q(this.lat,this.lng,this.alt)}};function H(e,r,s){return e instanceof q?e:W(e)&&typeof e[0]!="object"?e.length===3?new q(e[0],e[1],e[2]):e.length===2?new q(e[0],e[1]):null:e==null?e:typeof e=="object"&&"lat"in e?new q(e.lat,"lng"in e?e.lng:e.lon,e.alt):r===void 0?null:new q(e,r,s)}var Ke={latLngToPoint:function(e,r){var s=this.projection.project(e),u=this.scale(r);return this.transformation._transform(s,u)},pointToLatLng:function(e,r){var s=this.scale(r),u=this.transformation.untransform(e,s);return this.projection.unproject(u)},project:function(e){return this.projection.project(e)},unproject:function(e){return this.projection.unproject(e)},scale:function(e){return 256*Math.pow(2,e)},zoom:function(e){return Math.log(e/256)/Math.LN2},getProjectedBounds:function(e){if(this.infinite)return null;var r=this.projection.bounds,s=this.scale(e),u=this.transformation.transform(r.min,s),l=this.transformation.transform(r.max,s);return new te(u,l)},infinite:!1,wrapLatLng:function(e){var r=this.wrapLng?p(e.lng,this.wrapLng,!0):e.lng,s=this.wrapLat?p(e.lat,this.wrapLat,!0):e.lat,u=e.alt;return new q(s,r,u)},wrapLatLngBounds:function(e){var r=e.getCenter(),s=this.wrapLatLng(r),u=r.lat-s.lat,l=r.lng-s.lng;if(u===0&&l===0)return e;var f=e.getSouthWest(),g=e.getNorthEast(),v=new q(f.lat-u,f.lng-l),y=new q(g.lat-u,g.lng-l);return new me(v,y)}},it=i({},Ke,{wrapLng:[-180,180],R:6371e3,distance:function(e,r){var s=Math.PI/180,u=e.lat*s,l=r.lat*s,f=Math.sin((r.lat-e.lat)*s/2),g=Math.sin((r.lng-e.lng)*s/2),v=f*f+Math.cos(u)*Math.cos(l)*g*g,y=2*Math.atan2(Math.sqrt(v),Math.sqrt(1-v));return this.R*y}}),ba=6378137,$i={R:ba,MAX_LATITUDE:85.0511287798,project:function(e){var r=Math.PI/180,s=this.MAX_LATITUDE,u=Math.max(Math.min(s,e.lat),-s),l=Math.sin(u*r);return new S(this.R*e.lng*r,this.R*Math.log((1+l)/(1-l))/2)},unproject:function(e){var r=180/Math.PI;return new q((2*Math.atan(Math.exp(e.y/this.R))-Math.PI/2)*r,e.x*r/this.R)},bounds:function(){var e=ba*Math.PI;return new te([-e,-e],[e,e])}()};function Zi(e,r,s,u){if(W(e)){this._a=e[0],this._b=e[1],this._c=e[2],this._d=e[3];return}this._a=e,this._b=r,this._c=s,this._d=u}Zi.prototype={transform:function(e,r){return this._transform(e.clone(),r)},_transform:function(e,r){return r=r||1,e.x=r*(this._a*e.x+this._b),e.y=r*(this._c*e.y+this._d),e},untransform:function(e,r){return r=r||1,new S((e.x/r-this._b)/this._a,(e.y/r-this._d)/this._c)}};function hn(e,r,s,u){return new Zi(e,r,s,u)}var Wi=i({},it,{code:"EPSG:3857",projection:$i,transformation:function(){var e=.5/(Math.PI*$i.R);return hn(e,.5,-e,.5)}()}),If=i({},Wi,{code:"EPSG:900913"});function Ca(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function Ta(e,r){var s="",u,l,f,g,v,y;for(u=0,f=e.length;u<f;u++){for(v=e[u],l=0,g=v.length;l<g;l++)y=v[l],s+=(l?"L":"M")+y.x+" "+y.y;s+=r?C.svg?"z":"x":""}return s||"M0 0"}var Gi=document.documentElement.style,lr="ActiveXObject"in window,bf=lr&&!document.addEventListener,Ma="msLaunchUri"in navigator&&!("documentMode"in document),qi=je("webkit"),xa=je("android"),Sa=je("android 2")||je("android 3"),Cf=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Tf=xa&&je("Google")&&Cf<537&&!("AudioNode"in window),Yi=!!window.opera,Na=!Ma&&je("chrome"),Aa=je("gecko")&&!qi&&!Yi&&!lr,Mf=!Na&&je("safari"),Pa=je("phantom"),Ra="OTransition"in Gi,xf=navigator.platform.indexOf("Win")===0,Oa=lr&&"transition"in Gi,Ki="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Sa,ka="MozPerspective"in Gi,Sf=!window.L_DISABLE_3D&&(Oa||Ki||ka)&&!Ra&&!Pa,pn=typeof orientation<"u"||je("mobile"),Nf=pn&&qi,Af=pn&&Ki,La=!window.PointerEvent&&window.MSPointerEvent,Fa=!!(window.PointerEvent||La),Ba="ontouchstart"in window||!!window.TouchEvent,Pf=!window.L_NO_TOUCH&&(Ba||Fa),Rf=pn&&Yi,Of=pn&&Aa,kf=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Lf=function(){var e=!1;try{var r=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassiveEventSupport",m,r),window.removeEventListener("testPassiveEventSupport",m,r)}catch{}return e}(),Ff=function(){return!!document.createElement("canvas").getContext}(),Qi=!!(document.createElementNS&&Ca("svg").createSVGRect),Bf=!!Qi&&function(){var e=document.createElement("div");return e.innerHTML="<svg/>",(e.firstChild&&e.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),jf=!Qi&&function(){try{var e=document.createElement("div");e.innerHTML='<v:shape adj="1"/>';var r=e.firstChild;return r.style.behavior="url(#default#VML)",r&&typeof r.adj=="object"}catch{return!1}}(),Vf=navigator.platform.indexOf("Mac")===0,Hf=navigator.platform.indexOf("Linux")===0;function je(e){return navigator.userAgent.toLowerCase().indexOf(e)>=0}var C={ie:lr,ielt9:bf,edge:Ma,webkit:qi,android:xa,android23:Sa,androidStock:Tf,opera:Yi,chrome:Na,gecko:Aa,safari:Mf,phantom:Pa,opera12:Ra,win:xf,ie3d:Oa,webkit3d:Ki,gecko3d:ka,any3d:Sf,mobile:pn,mobileWebkit:Nf,mobileWebkit3d:Af,msPointer:La,pointer:Fa,touch:Pf,touchNative:Ba,mobileOpera:Rf,mobileGecko:Of,retina:kf,passiveEvents:Lf,canvas:Ff,svg:Qi,vml:jf,inlineSvg:Bf,mac:Vf,linux:Hf},ja=C.msPointer?"MSPointerDown":"pointerdown",Va=C.msPointer?"MSPointerMove":"pointermove",Ha=C.msPointer?"MSPointerUp":"pointerup",za=C.msPointer?"MSPointerCancel":"pointercancel",Ji={touchstart:ja,touchmove:Va,touchend:Ha,touchcancel:za},Ua={touchstart:Gf,touchmove:dr,touchend:dr,touchcancel:dr},Bt={},$a=!1;function zf(e,r,s){return r==="touchstart"&&Wf(),Ua[r]?(s=Ua[r].bind(this,s),e.addEventListener(Ji[r],s,!1),s):(console.warn("wrong event specified:",r),m)}function Uf(e,r,s){if(!Ji[r]){console.warn("wrong event specified:",r);return}e.removeEventListener(Ji[r],s,!1)}function $f(e){Bt[e.pointerId]=e}function Zf(e){Bt[e.pointerId]&&(Bt[e.pointerId]=e)}function Za(e){delete Bt[e.pointerId]}function Wf(){$a||(document.addEventListener(ja,$f,!0),document.addEventListener(Va,Zf,!0),document.addEventListener(Ha,Za,!0),document.addEventListener(za,Za,!0),$a=!0)}function dr(e,r){if(r.pointerType!==(r.MSPOINTER_TYPE_MOUSE||"mouse")){r.touches=[];for(var s in Bt)r.touches.push(Bt[s]);r.changedTouches=[r],e(r)}}function Gf(e,r){r.MSPOINTER_TYPE_TOUCH&&r.pointerType===r.MSPOINTER_TYPE_TOUCH&&le(r),dr(e,r)}function qf(e){var r={},s,u;for(u in e)s=e[u],r[u]=s&&s.bind?s.bind(e):s;return e=r,r.type="dblclick",r.detail=2,r.isTrusted=!1,r._simulated=!0,r}var Yf=200;function Kf(e,r){e.addEventListener("dblclick",r);var s=0,u;function l(f){if(f.detail!==1){u=f.detail;return}if(!(f.pointerType==="mouse"||f.sourceCapabilities&&!f.sourceCapabilities.firesTouchEvents)){var g=Ka(f);if(!(g.some(function(y){return y instanceof HTMLLabelElement&&y.attributes.for})&&!g.some(function(y){return y instanceof HTMLInputElement||y instanceof HTMLSelectElement}))){var v=Date.now();v-s<=Yf?(u++,u===2&&r(qf(f))):u=1,s=v}}}return e.addEventListener("click",l),{dblclick:r,simDblclick:l}}function Qf(e,r){e.removeEventListener("dblclick",r.dblclick),e.removeEventListener("click",r.simDblclick)}var Xi=pr(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),gn=pr(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Wa=gn==="webkitTransition"||gn==="OTransition"?gn+"End":"transitionend";function Ga(e){return typeof e=="string"?document.getElementById(e):e}function mn(e,r){var s=e.style[r]||e.currentStyle&&e.currentStyle[r];if((!s||s==="auto")&&document.defaultView){var u=document.defaultView.getComputedStyle(e,null);s=u?u[r]:null}return s==="auto"?null:s}function $(e,r,s){var u=document.createElement(e);return u.className=r||"",s&&s.appendChild(u),u}function ne(e){var r=e.parentNode;r&&r.removeChild(e)}function fr(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function jt(e){var r=e.parentNode;r&&r.lastChild!==e&&r.appendChild(e)}function Vt(e){var r=e.parentNode;r&&r.firstChild!==e&&r.insertBefore(e,r.firstChild)}function eo(e,r){if(e.classList!==void 0)return e.classList.contains(r);var s=hr(e);return s.length>0&&new RegExp("(^|\\s)"+r+"(\\s|$)").test(s)}function P(e,r){if(e.classList!==void 0)for(var s=b(r),u=0,l=s.length;u<l;u++)e.classList.add(s[u]);else if(!eo(e,r)){var f=hr(e);to(e,(f?f+" ":"")+r)}}function re(e,r){e.classList!==void 0?e.classList.remove(r):to(e,E((" "+hr(e)+" ").replace(" "+r+" "," ")))}function to(e,r){e.className.baseVal===void 0?e.className=r:e.className.baseVal=r}function hr(e){return e.correspondingElement&&(e=e.correspondingElement),e.className.baseVal===void 0?e.className:e.className.baseVal}function Ee(e,r){"opacity"in e.style?e.style.opacity=r:"filter"in e.style&&Jf(e,r)}function Jf(e,r){var s=!1,u="DXImageTransform.Microsoft.Alpha";try{s=e.filters.item(u)}catch{if(r===1)return}r=Math.round(r*100),s?(s.Enabled=r!==100,s.Opacity=r):e.style.filter+=" progid:"+u+"(opacity="+r+")"}function pr(e){for(var r=document.documentElement.style,s=0;s<e.length;s++)if(e[s]in r)return e[s];return!1}function Dt(e,r,s){var u=r||new S(0,0);e.style[Xi]=(C.ie3d?"translate("+u.x+"px,"+u.y+"px)":"translate3d("+u.x+"px,"+u.y+"px,0)")+(s?" scale("+s+")":"")}function oe(e,r){e._leaflet_pos=r,C.any3d?Dt(e,r):(e.style.left=r.x+"px",e.style.top=r.y+"px")}function wt(e){return e._leaflet_pos||new S(0,0)}var vn,yn,no;if("onselectstart"in document)vn=function(){N(window,"selectstart",le)},yn=function(){Q(window,"selectstart",le)};else{var _n=pr(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);vn=function(){if(_n){var e=document.documentElement.style;no=e[_n],e[_n]="none"}},yn=function(){_n&&(document.documentElement.style[_n]=no,no=void 0)}}function ro(){N(window,"dragstart",le)}function io(){Q(window,"dragstart",le)}var gr,oo;function so(e){for(;e.tabIndex===-1;)e=e.parentNode;e.style&&(mr(),gr=e,oo=e.style.outlineStyle,e.style.outlineStyle="none",N(window,"keydown",mr))}function mr(){gr&&(gr.style.outlineStyle=oo,gr=void 0,oo=void 0,Q(window,"keydown",mr))}function qa(e){do e=e.parentNode;while((!e.offsetWidth||!e.offsetHeight)&&e!==document.body);return e}function ao(e){var r=e.getBoundingClientRect();return{x:r.width/e.offsetWidth||1,y:r.height/e.offsetHeight||1,boundingClientRect:r}}var Xf={__proto__:null,TRANSFORM:Xi,TRANSITION:gn,TRANSITION_END:Wa,get:Ga,getStyle:mn,create:$,remove:ne,empty:fr,toFront:jt,toBack:Vt,hasClass:eo,addClass:P,removeClass:re,setClass:to,getClass:hr,setOpacity:Ee,testProp:pr,setTransform:Dt,setPosition:oe,getPosition:wt,get disableTextSelection(){return vn},get enableTextSelection(){return yn},disableImageDrag:ro,enableImageDrag:io,preventOutline:so,restoreOutline:mr,getSizedParentNode:qa,getScale:ao};function N(e,r,s,u){if(r&&typeof r=="object")for(var l in r)co(e,l,r[l],s);else{r=b(r);for(var f=0,g=r.length;f<g;f++)co(e,r[f],s,u)}return this}var Ve="_leaflet_events";function Q(e,r,s,u){if(arguments.length===1)Ya(e),delete e[Ve];else if(r&&typeof r=="object")for(var l in r)lo(e,l,r[l],s);else if(r=b(r),arguments.length===2)Ya(e,function(v){return Ft(r,v)!==-1});else for(var f=0,g=r.length;f<g;f++)lo(e,r[f],s,u);return this}function Ya(e,r){for(var s in e[Ve]){var u=s.split(/\d/)[0];(!r||r(u))&&lo(e,u,null,null,s)}}var uo={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function co(e,r,s,u){var l=r+d(s)+(u?"_"+d(u):"");if(e[Ve]&&e[Ve][l])return this;var f=function(v){return s.call(u||e,v||window.event)},g=f;!C.touchNative&&C.pointer&&r.indexOf("touch")===0?f=zf(e,r,f):C.touch&&r==="dblclick"?f=Kf(e,f):"addEventListener"in e?r==="touchstart"||r==="touchmove"||r==="wheel"||r==="mousewheel"?e.addEventListener(uo[r]||r,f,C.passiveEvents?{passive:!1}:!1):r==="mouseenter"||r==="mouseleave"?(f=function(v){v=v||window.event,ho(e,v)&&g(v)},e.addEventListener(uo[r],f,!1)):e.addEventListener(r,g,!1):e.attachEvent("on"+r,f),e[Ve]=e[Ve]||{},e[Ve][l]=f}function lo(e,r,s,u,l){l=l||r+d(s)+(u?"_"+d(u):"");var f=e[Ve]&&e[Ve][l];if(!f)return this;!C.touchNative&&C.pointer&&r.indexOf("touch")===0?Uf(e,r,f):C.touch&&r==="dblclick"?Qf(e,f):"removeEventListener"in e?e.removeEventListener(uo[r]||r,f,!1):e.detachEvent("on"+r,f),e[Ve][l]=null}function Et(e){return e.stopPropagation?e.stopPropagation():e.originalEvent?e.originalEvent._stopped=!0:e.cancelBubble=!0,this}function fo(e){return co(e,"wheel",Et),this}function Dn(e){return N(e,"mousedown touchstart dblclick contextmenu",Et),e._leaflet_disable_click=!0,this}function le(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,this}function It(e){return le(e),Et(e),this}function Ka(e){if(e.composedPath)return e.composedPath();for(var r=[],s=e.target;s;)r.push(s),s=s.parentNode;return r}function Qa(e,r){if(!r)return new S(e.clientX,e.clientY);var s=ao(r),u=s.boundingClientRect;return new S((e.clientX-u.left)/s.x-r.clientLeft,(e.clientY-u.top)/s.y-r.clientTop)}var eh=C.linux&&C.chrome?window.devicePixelRatio:C.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Ja(e){return C.edge?e.wheelDeltaY/2:e.deltaY&&e.deltaMode===0?-e.deltaY/eh:e.deltaY&&e.deltaMode===1?-e.deltaY*20:e.deltaY&&e.deltaMode===2?-e.deltaY*60:e.deltaX||e.deltaZ?0:e.wheelDelta?(e.wheelDeltaY||e.wheelDelta)/2:e.detail&&Math.abs(e.detail)<32765?-e.detail*20:e.detail?e.detail/-32765*60:0}function ho(e,r){var s=r.relatedTarget;if(!s)return!0;try{for(;s&&s!==e;)s=s.parentNode}catch{return!1}return s!==e}var th={__proto__:null,on:N,off:Q,stopPropagation:Et,disableScrollPropagation:fo,disableClickPropagation:Dn,preventDefault:le,stop:It,getPropagationPath:Ka,getMousePosition:Qa,getWheelDelta:Ja,isExternalTarget:ho,addListener:N,removeListener:Q},Xa=fn.extend({run:function(e,r,s,u){this.stop(),this._el=e,this._inProgress=!0,this._duration=s||.25,this._easeOutPower=1/Math.max(u||.5,.2),this._startPos=wt(e),this._offset=r.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=pe(this._animate,this),this._step()},_step:function(e){var r=+new Date-this._startTime,s=this._duration*1e3;r<s?this._runFrame(this._easeOut(r/s),e):(this._runFrame(1),this._complete())},_runFrame:function(e,r){var s=this._startPos.add(this._offset.multiplyBy(e));r&&s._round(),oe(this._el,s),this.fire("step")},_complete:function(){we(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(e){return 1-Math.pow(1-e,this._easeOutPower)}}),z=fn.extend({options:{crs:Wi,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(e,r){r=D(this,r),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(e),this._initLayout(),this._onResize=a(this._onResize,this),this._initEvents(),r.maxBounds&&this.setMaxBounds(r.maxBounds),r.zoom!==void 0&&(this._zoom=this._limitZoom(r.zoom)),r.center&&r.zoom!==void 0&&this.setView(H(r.center),r.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=gn&&C.any3d&&!C.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),N(this._proxy,Wa,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(e,r,s){if(r=r===void 0?this._zoom:this._limitZoom(r),e=this._limitCenter(H(e),r,this.options.maxBounds),s=s||{},this._stop(),this._loaded&&!s.reset&&s!==!0){s.animate!==void 0&&(s.zoom=i({animate:s.animate},s.zoom),s.pan=i({animate:s.animate,duration:s.duration},s.pan));var u=this._zoom!==r?this._tryAnimatedZoom&&this._tryAnimatedZoom(e,r,s.zoom):this._tryAnimatedPan(e,s.pan);if(u)return clearTimeout(this._sizeTimer),this}return this._resetView(e,r,s.pan&&s.pan.noMoveStart),this},setZoom:function(e,r){return this._loaded?this.setView(this.getCenter(),e,{zoom:r}):(this._zoom=e,this)},zoomIn:function(e,r){return e=e||(C.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+e,r)},zoomOut:function(e,r){return e=e||(C.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-e,r)},setZoomAround:function(e,r,s){var u=this.getZoomScale(r),l=this.getSize().divideBy(2),f=e instanceof S?e:this.latLngToContainerPoint(e),g=f.subtract(l).multiplyBy(1-1/u),v=this.containerPointToLatLng(l.add(g));return this.setView(v,r,{zoom:s})},_getBoundsCenterZoom:function(e,r){r=r||{},e=e.getBounds?e.getBounds():ie(e);var s=x(r.paddingTopLeft||r.padding||[0,0]),u=x(r.paddingBottomRight||r.padding||[0,0]),l=this.getBoundsZoom(e,!1,s.add(u));if(l=typeof r.maxZoom=="number"?Math.min(r.maxZoom,l):l,l===1/0)return{center:e.getCenter(),zoom:l};var f=u.subtract(s).divideBy(2),g=this.project(e.getSouthWest(),l),v=this.project(e.getNorthEast(),l),y=this.unproject(g.add(v).divideBy(2).add(f),l);return{center:y,zoom:l}},fitBounds:function(e,r){if(e=ie(e),!e.isValid())throw new Error("Bounds are not valid.");var s=this._getBoundsCenterZoom(e,r);return this.setView(s.center,s.zoom,r)},fitWorld:function(e){return this.fitBounds([[-90,-180],[90,180]],e)},panTo:function(e,r){return this.setView(e,this._zoom,{pan:r})},panBy:function(e,r){if(e=x(e).round(),r=r||{},!e.x&&!e.y)return this.fire("moveend");if(r.animate!==!0&&!this.getSize().contains(e))return this._resetView(this.unproject(this.project(this.getCenter()).add(e)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Xa,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),r.noMoveStart||this.fire("movestart"),r.animate!==!1){P(this._mapPane,"leaflet-pan-anim");var s=this._getMapPanePos().subtract(e).round();this._panAnim.run(this._mapPane,s,r.duration||.25,r.easeLinearity)}else this._rawPanBy(e),this.fire("move").fire("moveend");return this},flyTo:function(e,r,s){if(s=s||{},s.animate===!1||!C.any3d)return this.setView(e,r,s);this._stop();var u=this.project(this.getCenter()),l=this.project(e),f=this.getSize(),g=this._zoom;e=H(e),r=r===void 0?g:r;var v=Math.max(f.x,f.y),y=v*this.getZoomScale(g,r),w=l.distanceTo(u)||1,I=1.42,T=I*I;function k(se){var xr=se?-1:1,Uh=se?y:v,$h=y*y-v*v+xr*T*T*w*w,Zh=2*Uh*T*w,bo=$h/Zh,Ru=Math.sqrt(bo*bo+1)-bo,Wh=Ru<1e-9?-18:Math.log(Ru);return Wh}function fe(se){return(Math.exp(se)-Math.exp(-se))/2}function ce(se){return(Math.exp(se)+Math.exp(-se))/2}function be(se){return fe(se)/ce(se)}var ve=k(0);function Wt(se){return v*(ce(ve)/ce(ve+I*se))}function jh(se){return v*(ce(ve)*be(ve+I*se)-fe(ve))/T}function Vh(se){return 1-Math.pow(1-se,1.5)}var Hh=Date.now(),Au=(k(1)-ve)/I,zh=s.duration?1e3*s.duration:1e3*Au*.8;function Pu(){var se=(Date.now()-Hh)/zh,xr=Vh(se)*Au;se<=1?(this._flyToFrame=pe(Pu,this),this._move(this.unproject(u.add(l.subtract(u).multiplyBy(jh(xr)/w)),g),this.getScaleZoom(v/Wt(xr),g),{flyTo:!0})):this._move(e,r)._moveEnd(!0)}return this._moveStart(!0,s.noMoveStart),Pu.call(this),this},flyToBounds:function(e,r){var s=this._getBoundsCenterZoom(e,r);return this.flyTo(s.center,s.zoom,r)},setMaxBounds:function(e){return e=ie(e),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),e.isValid()?(this.options.maxBounds=e,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(e){var r=this.options.minZoom;return this.options.minZoom=e,this._loaded&&r!==e&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(e):this},setMaxZoom:function(e){var r=this.options.maxZoom;return this.options.maxZoom=e,this._loaded&&r!==e&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(e):this},panInsideBounds:function(e,r){this._enforcingBounds=!0;var s=this.getCenter(),u=this._limitCenter(s,this._zoom,ie(e));return s.equals(u)||this.panTo(u,r),this._enforcingBounds=!1,this},panInside:function(e,r){r=r||{};var s=x(r.paddingTopLeft||r.padding||[0,0]),u=x(r.paddingBottomRight||r.padding||[0,0]),l=this.project(this.getCenter()),f=this.project(e),g=this.getPixelBounds(),v=ge([g.min.add(s),g.max.subtract(u)]),y=v.getSize();if(!v.contains(f)){this._enforcingBounds=!0;var w=f.subtract(v.getCenter()),I=v.extend(f).getSize().subtract(y);l.x+=w.x<0?-I.x:I.x,l.y+=w.y<0?-I.y:I.y,this.panTo(this.unproject(l),r),this._enforcingBounds=!1}return this},invalidateSize:function(e){if(!this._loaded)return this;e=i({animate:!1,pan:!0},e===!0?{animate:!0}:e);var r=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var s=this.getSize(),u=r.divideBy(2).round(),l=s.divideBy(2).round(),f=u.subtract(l);return!f.x&&!f.y?this:(e.animate&&e.pan?this.panBy(f):(e.pan&&this._rawPanBy(f),this.fire("move"),e.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(a(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:r,newSize:s}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(e){if(e=this._locateOptions=i({timeout:1e4,watch:!1},e),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var r=a(this._handleGeolocationResponse,this),s=a(this._handleGeolocationError,this);return e.watch?this._locationWatchId=navigator.geolocation.watchPosition(r,s,e):navigator.geolocation.getCurrentPosition(r,s,e),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(e){if(this._container._leaflet_id){var r=e.code,s=e.message||(r===1?"permission denied":r===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:r,message:"Geolocation error: "+s+"."})}},_handleGeolocationResponse:function(e){if(this._container._leaflet_id){var r=e.coords.latitude,s=e.coords.longitude,u=new q(r,s),l=u.toBounds(e.coords.accuracy*2),f=this._locateOptions;if(f.setView){var g=this.getBoundsZoom(l);this.setView(u,f.maxZoom?Math.min(g,f.maxZoom):g)}var v={latlng:u,bounds:l,timestamp:e.timestamp};for(var y in e.coords)typeof e.coords[y]=="number"&&(v[y]=e.coords[y]);this.fire("locationfound",v)}},addHandler:function(e,r){if(!r)return this;var s=this[e]=new r(this);return this._handlers.push(s),this.options[e]&&s.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),ne(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(we(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var e;for(e in this._layers)this._layers[e].remove();for(e in this._panes)ne(this._panes[e]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(e,r){var s="leaflet-pane"+(e?" leaflet-"+e.replace("Pane","")+"-pane":""),u=$("div",s,r||this._mapPane);return e&&(this._panes[e]=u),u},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var e=this.getPixelBounds(),r=this.unproject(e.getBottomLeft()),s=this.unproject(e.getTopRight());return new me(r,s)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(e,r,s){e=ie(e),s=x(s||[0,0]);var u=this.getZoom()||0,l=this.getMinZoom(),f=this.getMaxZoom(),g=e.getNorthWest(),v=e.getSouthEast(),y=this.getSize().subtract(s),w=ge(this.project(v,u),this.project(g,u)).getSize(),I=C.any3d?this.options.zoomSnap:1,T=y.x/w.x,k=y.y/w.y,fe=r?Math.max(T,k):Math.min(T,k);return u=this.getScaleZoom(fe,u),I&&(u=Math.round(u/(I/100))*(I/100),u=r?Math.ceil(u/I)*I:Math.floor(u/I)*I),Math.max(l,Math.min(f,u))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new S(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(e,r){var s=this._getTopLeftPoint(e,r);return new te(s,s.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(e){return this.options.crs.getProjectedBounds(e===void 0?this.getZoom():e)},getPane:function(e){return typeof e=="string"?this._panes[e]:e},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(e,r){var s=this.options.crs;return r=r===void 0?this._zoom:r,s.scale(e)/s.scale(r)},getScaleZoom:function(e,r){var s=this.options.crs;r=r===void 0?this._zoom:r;var u=s.zoom(e*s.scale(r));return isNaN(u)?1/0:u},project:function(e,r){return r=r===void 0?this._zoom:r,this.options.crs.latLngToPoint(H(e),r)},unproject:function(e,r){return r=r===void 0?this._zoom:r,this.options.crs.pointToLatLng(x(e),r)},layerPointToLatLng:function(e){var r=x(e).add(this.getPixelOrigin());return this.unproject(r)},latLngToLayerPoint:function(e){var r=this.project(H(e))._round();return r._subtract(this.getPixelOrigin())},wrapLatLng:function(e){return this.options.crs.wrapLatLng(H(e))},wrapLatLngBounds:function(e){return this.options.crs.wrapLatLngBounds(ie(e))},distance:function(e,r){return this.options.crs.distance(H(e),H(r))},containerPointToLayerPoint:function(e){return x(e).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(e){return x(e).add(this._getMapPanePos())},containerPointToLatLng:function(e){var r=this.containerPointToLayerPoint(x(e));return this.layerPointToLatLng(r)},latLngToContainerPoint:function(e){return this.layerPointToContainerPoint(this.latLngToLayerPoint(H(e)))},mouseEventToContainerPoint:function(e){return Qa(e,this._container)},mouseEventToLayerPoint:function(e){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e))},mouseEventToLatLng:function(e){return this.layerPointToLatLng(this.mouseEventToLayerPoint(e))},_initContainer:function(e){var r=this._container=Ga(e);if(r){if(r._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");N(r,"scroll",this._onScroll,this),this._containerId=d(r)},_initLayout:function(){var e=this._container;this._fadeAnimated=this.options.fadeAnimation&&C.any3d,P(e,"leaflet-container"+(C.touch?" leaflet-touch":"")+(C.retina?" leaflet-retina":"")+(C.ielt9?" leaflet-oldie":"")+(C.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var r=mn(e,"position");r!=="absolute"&&r!=="relative"&&r!=="fixed"&&r!=="sticky"&&(e.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var e=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),oe(this._mapPane,new S(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(P(e.markerPane,"leaflet-zoom-hide"),P(e.shadowPane,"leaflet-zoom-hide"))},_resetView:function(e,r,s){oe(this._mapPane,new S(0,0));var u=!this._loaded;this._loaded=!0,r=this._limitZoom(r),this.fire("viewprereset");var l=this._zoom!==r;this._moveStart(l,s)._move(e,r)._moveEnd(l),this.fire("viewreset"),u&&this.fire("load")},_moveStart:function(e,r){return e&&this.fire("zoomstart"),r||this.fire("movestart"),this},_move:function(e,r,s,u){r===void 0&&(r=this._zoom);var l=this._zoom!==r;return this._zoom=r,this._lastCenter=e,this._pixelOrigin=this._getNewPixelOrigin(e),u?s&&s.pinch&&this.fire("zoom",s):((l||s&&s.pinch)&&this.fire("zoom",s),this.fire("move",s)),this},_moveEnd:function(e){return e&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return we(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(e){oe(this._mapPane,this._getMapPanePos().subtract(e))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){this._targets={},this._targets[d(this._container)]=this;var r=e?Q:N;r(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&r(window,"resize",this._onResize,this),C.any3d&&this.options.transform3DLimit&&(e?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){we(this._resizeRequest),this._resizeRequest=pe(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var e=this._getMapPanePos();Math.max(Math.abs(e.x),Math.abs(e.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(e,r){for(var s=[],u,l=r==="mouseout"||r==="mouseover",f=e.target||e.srcElement,g=!1;f;){if(u=this._targets[d(f)],u&&(r==="click"||r==="preclick")&&this._draggableMoved(u)){g=!0;break}if(u&&u.listens(r,!0)&&(l&&!ho(f,e)||(s.push(u),l))||f===this._container)break;f=f.parentNode}return!s.length&&!g&&!l&&this.listens(r,!0)&&(s=[this]),s},_isClickDisabled:function(e){for(;e&&e!==this._container;){if(e._leaflet_disable_click)return!0;e=e.parentNode}},_handleDOMEvent:function(e){var r=e.target||e.srcElement;if(!(!this._loaded||r._leaflet_disable_events||e.type==="click"&&this._isClickDisabled(r))){var s=e.type;s==="mousedown"&&so(r),this._fireDOMEvent(e,s)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(e,r,s){if(e.type==="click"){var u=i({},e);u.type="preclick",this._fireDOMEvent(u,u.type,s)}var l=this._findEventTargets(e,r);if(s){for(var f=[],g=0;g<s.length;g++)s[g].listens(r,!0)&&f.push(s[g]);l=f.concat(l)}if(l.length){r==="contextmenu"&&le(e);var v=l[0],y={originalEvent:e};if(e.type!=="keypress"&&e.type!=="keydown"&&e.type!=="keyup"){var w=v.getLatLng&&(!v._radius||v._radius<=10);y.containerPoint=w?this.latLngToContainerPoint(v.getLatLng()):this.mouseEventToContainerPoint(e),y.layerPoint=this.containerPointToLayerPoint(y.containerPoint),y.latlng=w?v.getLatLng():this.layerPointToLatLng(y.layerPoint)}for(g=0;g<l.length;g++)if(l[g].fire(r,y,!0),y.originalEvent._stopped||l[g].options.bubblingMouseEvents===!1&&Ft(this._mouseEvents,r)!==-1)return}},_draggableMoved:function(e){return e=e.dragging&&e.dragging.enabled()?e:this,e.dragging&&e.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var e=0,r=this._handlers.length;e<r;e++)this._handlers[e].disable()},whenReady:function(e,r){return this._loaded?e.call(r||this,{target:this}):this.on("load",e,r),this},_getMapPanePos:function(){return wt(this._mapPane)||new S(0,0)},_moved:function(){var e=this._getMapPanePos();return e&&!e.equals([0,0])},_getTopLeftPoint:function(e,r){var s=e&&r!==void 0?this._getNewPixelOrigin(e,r):this.getPixelOrigin();return s.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(e,r){var s=this.getSize()._divideBy(2);return this.project(e,r)._subtract(s)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(e,r,s){var u=this._getNewPixelOrigin(s,r);return this.project(e,r)._subtract(u)},_latLngBoundsToNewLayerBounds:function(e,r,s){var u=this._getNewPixelOrigin(s,r);return ge([this.project(e.getSouthWest(),r)._subtract(u),this.project(e.getNorthWest(),r)._subtract(u),this.project(e.getSouthEast(),r)._subtract(u),this.project(e.getNorthEast(),r)._subtract(u)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(e){return this.latLngToLayerPoint(e).subtract(this._getCenterLayerPoint())},_limitCenter:function(e,r,s){if(!s)return e;var u=this.project(e,r),l=this.getSize().divideBy(2),f=new te(u.subtract(l),u.add(l)),g=this._getBoundsOffset(f,s,r);return Math.abs(g.x)<=1&&Math.abs(g.y)<=1?e:this.unproject(u.add(g),r)},_limitOffset:function(e,r){if(!r)return e;var s=this.getPixelBounds(),u=new te(s.min.add(e),s.max.add(e));return e.add(this._getBoundsOffset(u,r))},_getBoundsOffset:function(e,r,s){var u=ge(this.project(r.getNorthEast(),s),this.project(r.getSouthWest(),s)),l=u.min.subtract(e.min),f=u.max.subtract(e.max),g=this._rebound(l.x,-f.x),v=this._rebound(l.y,-f.y);return new S(g,v)},_rebound:function(e,r){return e+r>0?Math.round(e-r)/2:Math.max(0,Math.ceil(e))-Math.max(0,Math.floor(r))},_limitZoom:function(e){var r=this.getMinZoom(),s=this.getMaxZoom(),u=C.any3d?this.options.zoomSnap:1;return u&&(e=Math.round(e/u)*u),Math.max(r,Math.min(s,e))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){re(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(e,r){var s=this._getCenterOffset(e)._trunc();return(r&&r.animate)!==!0&&!this.getSize().contains(s)?!1:(this.panBy(s,r),!0)},_createAnimProxy:function(){var e=this._proxy=$("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(e),this.on("zoomanim",function(r){var s=Xi,u=this._proxy.style[s];Dt(this._proxy,this.project(r.center,r.zoom),this.getZoomScale(r.zoom,1)),u===this._proxy.style[s]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ne(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var e=this.getCenter(),r=this.getZoom();Dt(this._proxy,this.project(e,r),this.getZoomScale(r,1))},_catchTransitionEnd:function(e){this._animatingZoom&&e.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(e,r,s){if(this._animatingZoom)return!0;if(s=s||{},!this._zoomAnimated||s.animate===!1||this._nothingToAnimate()||Math.abs(r-this._zoom)>this.options.zoomAnimationThreshold)return!1;var u=this.getZoomScale(r),l=this._getCenterOffset(e)._divideBy(1-1/u);return s.animate!==!0&&!this.getSize().contains(l)?!1:(pe(function(){this._moveStart(!0,s.noMoveStart||!1)._animateZoom(e,r,!0)},this),!0)},_animateZoom:function(e,r,s,u){this._mapPane&&(s&&(this._animatingZoom=!0,this._animateToCenter=e,this._animateToZoom=r,P(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:e,zoom:r,noUpdate:u}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(a(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&re(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function nh(e,r){return new z(e,r)}var Ae=Ye.extend({options:{position:"topright"},initialize:function(e){D(this,e)},getPosition:function(){return this.options.position},setPosition:function(e){var r=this._map;return r&&r.removeControl(this),this.options.position=e,r&&r.addControl(this),this},getContainer:function(){return this._container},addTo:function(e){this.remove(),this._map=e;var r=this._container=this.onAdd(e),s=this.getPosition(),u=e._controlCorners[s];return P(r,"leaflet-control"),s.indexOf("bottom")!==-1?u.insertBefore(r,u.firstChild):u.appendChild(r),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ne(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(e){this._map&&e&&e.screenX>0&&e.screenY>0&&this._map.getContainer().focus()}}),wn=function(e){return new Ae(e)};z.include({addControl:function(e){return e.addTo(this),this},removeControl:function(e){return e.remove(),this},_initControlPos:function(){var e=this._controlCorners={},r="leaflet-",s=this._controlContainer=$("div",r+"control-container",this._container);function u(l,f){var g=r+l+" "+r+f;e[l+f]=$("div",g,s)}u("top","left"),u("top","right"),u("bottom","left"),u("bottom","right")},_clearControlPos:function(){for(var e in this._controlCorners)ne(this._controlCorners[e]);ne(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var eu=Ae.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(e,r,s,u){return s<u?-1:u<s?1:0}},initialize:function(e,r,s){D(this,s),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var u in e)this._addLayer(e[u],u);for(u in r)this._addLayer(r[u],u,!0)},onAdd:function(e){this._initLayout(),this._update(),this._map=e,e.on("zoomend",this._checkDisabledLayers,this);for(var r=0;r<this._layers.length;r++)this._layers[r].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(e){return Ae.prototype.addTo.call(this,e),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(e,r){return this._addLayer(e,r),this._map?this._update():this},addOverlay:function(e,r){return this._addLayer(e,r,!0),this._map?this._update():this},removeLayer:function(e){e.off("add remove",this._onLayerChange,this);var r=this._getLayer(d(e));return r&&this._layers.splice(this._layers.indexOf(r),1),this._map?this._update():this},expand:function(){P(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var e=this._map.getSize().y-(this._container.offsetTop+50);return e<this._section.clientHeight?(P(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=e+"px"):re(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return re(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var e="leaflet-control-layers",r=this._container=$("div",e),s=this.options.collapsed;r.setAttribute("aria-haspopup",!0),Dn(r),fo(r);var u=this._section=$("section",e+"-list");s&&(this._map.on("click",this.collapse,this),N(r,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var l=this._layersLink=$("a",e+"-toggle",r);l.href="#",l.title="Layers",l.setAttribute("role","button"),N(l,{keydown:function(f){f.keyCode===13&&this._expandSafely()},click:function(f){le(f),this._expandSafely()}},this),s||this.expand(),this._baseLayersList=$("div",e+"-base",u),this._separator=$("div",e+"-separator",u),this._overlaysList=$("div",e+"-overlays",u),r.appendChild(u)},_getLayer:function(e){for(var r=0;r<this._layers.length;r++)if(this._layers[r]&&d(this._layers[r].layer)===e)return this._layers[r]},_addLayer:function(e,r,s){this._map&&e.on("add remove",this._onLayerChange,this),this._layers.push({layer:e,name:r,overlay:s}),this.options.sortLayers&&this._layers.sort(a(function(u,l){return this.options.sortFunction(u.layer,l.layer,u.name,l.name)},this)),this.options.autoZIndex&&e.setZIndex&&(this._lastZIndex++,e.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;fr(this._baseLayersList),fr(this._overlaysList),this._layerControlInputs=[];var e,r,s,u,l=0;for(s=0;s<this._layers.length;s++)u=this._layers[s],this._addItem(u),r=r||u.overlay,e=e||!u.overlay,l+=u.overlay?0:1;return this.options.hideSingleBase&&(e=e&&l>1,this._baseLayersList.style.display=e?"":"none"),this._separator.style.display=r&&e?"":"none",this},_onLayerChange:function(e){this._handlingClick||this._update();var r=this._getLayer(d(e.target)),s=r.overlay?e.type==="add"?"overlayadd":"overlayremove":e.type==="add"?"baselayerchange":null;s&&this._map.fire(s,r)},_createRadioElement:function(e,r){var s='<input type="radio" class="leaflet-control-layers-selector" name="'+e+'"'+(r?' checked="checked"':"")+"/>",u=document.createElement("div");return u.innerHTML=s,u.firstChild},_addItem:function(e){var r=document.createElement("label"),s=this._map.hasLayer(e.layer),u;e.overlay?(u=document.createElement("input"),u.type="checkbox",u.className="leaflet-control-layers-selector",u.defaultChecked=s):u=this._createRadioElement("leaflet-base-layers_"+d(this),s),this._layerControlInputs.push(u),u.layerId=d(e.layer),N(u,"click",this._onInputClick,this);var l=document.createElement("span");l.innerHTML=" "+e.name;var f=document.createElement("span");r.appendChild(f),f.appendChild(u),f.appendChild(l);var g=e.overlay?this._overlaysList:this._baseLayersList;return g.appendChild(r),this._checkDisabledLayers(),r},_onInputClick:function(){if(!this._preventClick){var e=this._layerControlInputs,r,s,u=[],l=[];this._handlingClick=!0;for(var f=e.length-1;f>=0;f--)r=e[f],s=this._getLayer(r.layerId).layer,r.checked?u.push(s):r.checked||l.push(s);for(f=0;f<l.length;f++)this._map.hasLayer(l[f])&&this._map.removeLayer(l[f]);for(f=0;f<u.length;f++)this._map.hasLayer(u[f])||this._map.addLayer(u[f]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var e=this._layerControlInputs,r,s,u=this._map.getZoom(),l=e.length-1;l>=0;l--)r=e[l],s=this._getLayer(r.layerId).layer,r.disabled=s.options.minZoom!==void 0&&u<s.options.minZoom||s.options.maxZoom!==void 0&&u>s.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var e=this._section;this._preventClick=!0,N(e,"click",le),this.expand();var r=this;setTimeout(function(){Q(e,"click",le),r._preventClick=!1})}}),rh=function(e,r,s){return new eu(e,r,s)},po=Ae.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(e){var r="leaflet-control-zoom",s=$("div",r+" leaflet-bar"),u=this.options;return this._zoomInButton=this._createButton(u.zoomInText,u.zoomInTitle,r+"-in",s,this._zoomIn),this._zoomOutButton=this._createButton(u.zoomOutText,u.zoomOutTitle,r+"-out",s,this._zoomOut),this._updateDisabled(),e.on("zoomend zoomlevelschange",this._updateDisabled,this),s},onRemove:function(e){e.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(e){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(e.shiftKey?3:1))},_zoomOut:function(e){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(e.shiftKey?3:1))},_createButton:function(e,r,s,u,l){var f=$("a",s,u);return f.innerHTML=e,f.href="#",f.title=r,f.setAttribute("role","button"),f.setAttribute("aria-label",r),Dn(f),N(f,"click",It),N(f,"click",l,this),N(f,"click",this._refocusOnMap,this),f},_updateDisabled:function(){var e=this._map,r="leaflet-disabled";re(this._zoomInButton,r),re(this._zoomOutButton,r),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||e._zoom===e.getMinZoom())&&(P(this._zoomOutButton,r),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||e._zoom===e.getMaxZoom())&&(P(this._zoomInButton,r),this._zoomInButton.setAttribute("aria-disabled","true"))}});z.mergeOptions({zoomControl:!0}),z.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new po,this.addControl(this.zoomControl))});var ih=function(e){return new po(e)},tu=Ae.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(e){var r="leaflet-control-scale",s=$("div",r),u=this.options;return this._addScales(u,r+"-line",s),e.on(u.updateWhenIdle?"moveend":"move",this._update,this),e.whenReady(this._update,this),s},onRemove:function(e){e.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(e,r,s){e.metric&&(this._mScale=$("div",r,s)),e.imperial&&(this._iScale=$("div",r,s))},_update:function(){var e=this._map,r=e.getSize().y/2,s=e.distance(e.containerPointToLatLng([0,r]),e.containerPointToLatLng([this.options.maxWidth,r]));this._updateScales(s)},_updateScales:function(e){this.options.metric&&e&&this._updateMetric(e),this.options.imperial&&e&&this._updateImperial(e)},_updateMetric:function(e){var r=this._getRoundNum(e),s=r<1e3?r+" m":r/1e3+" km";this._updateScale(this._mScale,s,r/e)},_updateImperial:function(e){var r=e*3.2808399,s,u,l;r>5280?(s=r/5280,u=this._getRoundNum(s),this._updateScale(this._iScale,u+" mi",u/s)):(l=this._getRoundNum(r),this._updateScale(this._iScale,l+" ft",l/r))},_updateScale:function(e,r,s){e.style.width=Math.round(this.options.maxWidth*s)+"px",e.innerHTML=r},_getRoundNum:function(e){var r=Math.pow(10,(Math.floor(e)+"").length-1),s=e/r;return s=s>=10?10:s>=5?5:s>=3?3:s>=2?2:1,r*s}}),oh=function(e){return new tu(e)},sh='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',go=Ae.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(C.inlineSvg?sh+" ":"")+"Leaflet</a>"},initialize:function(e){D(this,e),this._attributions={}},onAdd:function(e){e.attributionControl=this,this._container=$("div","leaflet-control-attribution"),Dn(this._container);for(var r in e._layers)e._layers[r].getAttribution&&this.addAttribution(e._layers[r].getAttribution());return this._update(),e.on("layeradd",this._addAttribution,this),this._container},onRemove:function(e){e.off("layeradd",this._addAttribution,this)},_addAttribution:function(e){e.layer.getAttribution&&(this.addAttribution(e.layer.getAttribution()),e.layer.once("remove",function(){this.removeAttribution(e.layer.getAttribution())},this))},setPrefix:function(e){return this.options.prefix=e,this._update(),this},addAttribution:function(e){return e?(this._attributions[e]||(this._attributions[e]=0),this._attributions[e]++,this._update(),this):this},removeAttribution:function(e){return e?(this._attributions[e]&&(this._attributions[e]--,this._update()),this):this},_update:function(){if(this._map){var e=[];for(var r in this._attributions)this._attributions[r]&&e.push(r);var s=[];this.options.prefix&&s.push(this.options.prefix),e.length&&s.push(e.join(", ")),this._container.innerHTML=s.join(' <span aria-hidden="true">|</span> ')}}});z.mergeOptions({attributionControl:!0}),z.addInitHook(function(){this.options.attributionControl&&new go().addTo(this)});var ah=function(e){return new go(e)};Ae.Layers=eu,Ae.Zoom=po,Ae.Scale=tu,Ae.Attribution=go,wn.layers=rh,wn.zoom=ih,wn.scale=oh,wn.attribution=ah;var He=Ye.extend({initialize:function(e){this._map=e},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});He.addTo=function(e,r){return e.addHandler(r,this),this};var uh={Events:De},nu=C.touch?"touchstart mousedown":"mousedown",ot=fn.extend({options:{clickTolerance:3},initialize:function(e,r,s,u){D(this,u),this._element=e,this._dragStartTarget=r||e,this._preventOutline=s},enable:function(){this._enabled||(N(this._dragStartTarget,nu,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(ot._dragging===this&&this.finishDrag(!0),Q(this._dragStartTarget,nu,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(e){if(this._enabled&&(this._moved=!1,!eo(this._element,"leaflet-zoom-anim"))){if(e.touches&&e.touches.length!==1){ot._dragging===this&&this.finishDrag();return}if(!(ot._dragging||e.shiftKey||e.which!==1&&e.button!==1&&!e.touches)&&(ot._dragging=this,this._preventOutline&&so(this._element),ro(),vn(),!this._moving)){this.fire("down");var r=e.touches?e.touches[0]:e,s=qa(this._element);this._startPoint=new S(r.clientX,r.clientY),this._startPos=wt(this._element),this._parentScale=ao(s);var u=e.type==="mousedown";N(document,u?"mousemove":"touchmove",this._onMove,this),N(document,u?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(e){if(this._enabled){if(e.touches&&e.touches.length>1){this._moved=!0;return}var r=e.touches&&e.touches.length===1?e.touches[0]:e,s=new S(r.clientX,r.clientY)._subtract(this._startPoint);!s.x&&!s.y||Math.abs(s.x)+Math.abs(s.y)<this.options.clickTolerance||(s.x/=this._parentScale.x,s.y/=this._parentScale.y,le(e),this._moved||(this.fire("dragstart"),this._moved=!0,P(document.body,"leaflet-dragging"),this._lastTarget=e.target||e.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),P(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(s),this._moving=!0,this._lastEvent=e,this._updatePosition())}},_updatePosition:function(){var e={originalEvent:this._lastEvent};this.fire("predrag",e),oe(this._element,this._newPos),this.fire("drag",e)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(e){re(document.body,"leaflet-dragging"),this._lastTarget&&(re(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Q(document,"mousemove touchmove",this._onMove,this),Q(document,"mouseup touchend touchcancel",this._onUp,this),io(),yn();var r=this._moved&&this._moving;this._moving=!1,ot._dragging=!1,r&&this.fire("dragend",{noInertia:e,distance:this._newPos.distanceTo(this._startPos)})}});function ru(e,r,s){var u,l=[1,4,2,8],f,g,v,y,w,I,T,k;for(f=0,I=e.length;f<I;f++)e[f]._code=bt(e[f],r);for(v=0;v<4;v++){for(T=l[v],u=[],f=0,I=e.length,g=I-1;f<I;g=f++)y=e[f],w=e[g],y._code&T?w._code&T||(k=vr(w,y,T,r,s),k._code=bt(k,r),u.push(k)):(w._code&T&&(k=vr(w,y,T,r,s),k._code=bt(k,r),u.push(k)),u.push(y));e=u}return e}function iu(e,r){var s,u,l,f,g,v,y,w,I;if(!e||e.length===0)throw new Error("latlngs not passed");Ie(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var T=H([0,0]),k=ie(e),fe=k.getNorthWest().distanceTo(k.getSouthWest())*k.getNorthEast().distanceTo(k.getNorthWest());fe<1700&&(T=mo(e));var ce=e.length,be=[];for(s=0;s<ce;s++){var ve=H(e[s]);be.push(r.project(H([ve.lat-T.lat,ve.lng-T.lng])))}for(v=y=w=0,s=0,u=ce-1;s<ce;u=s++)l=be[s],f=be[u],g=l.y*f.x-f.y*l.x,y+=(l.x+f.x)*g,w+=(l.y+f.y)*g,v+=g*3;v===0?I=be[0]:I=[y/v,w/v];var Wt=r.unproject(x(I));return H([Wt.lat+T.lat,Wt.lng+T.lng])}function mo(e){for(var r=0,s=0,u=0,l=0;l<e.length;l++){var f=H(e[l]);r+=f.lat,s+=f.lng,u++}return H([r/u,s/u])}var ch={__proto__:null,clipPolygon:ru,polygonCenter:iu,centroid:mo};function ou(e,r){if(!r||!e.length)return e.slice();var s=r*r;return e=fh(e,s),e=dh(e,s),e}function su(e,r,s){return Math.sqrt(En(e,r,s,!0))}function lh(e,r,s){return En(e,r,s)}function dh(e,r){var s=e.length,u=typeof Uint8Array<"u"?Uint8Array:Array,l=new u(s);l[0]=l[s-1]=1,vo(e,l,r,0,s-1);var f,g=[];for(f=0;f<s;f++)l[f]&&g.push(e[f]);return g}function vo(e,r,s,u,l){var f=0,g,v,y;for(v=u+1;v<=l-1;v++)y=En(e[v],e[u],e[l],!0),y>f&&(g=v,f=y);f>s&&(r[g]=1,vo(e,r,s,u,g),vo(e,r,s,g,l))}function fh(e,r){for(var s=[e[0]],u=1,l=0,f=e.length;u<f;u++)hh(e[u],e[l])>r&&(s.push(e[u]),l=u);return l<f-1&&s.push(e[f-1]),s}var au;function uu(e,r,s,u,l){var f=u?au:bt(e,s),g=bt(r,s),v,y,w;for(au=g;;){if(!(f|g))return[e,r];if(f&g)return!1;v=f||g,y=vr(e,r,v,s,l),w=bt(y,s),v===f?(e=y,f=w):(r=y,g=w)}}function vr(e,r,s,u,l){var f=r.x-e.x,g=r.y-e.y,v=u.min,y=u.max,w,I;return s&8?(w=e.x+f*(y.y-e.y)/g,I=y.y):s&4?(w=e.x+f*(v.y-e.y)/g,I=v.y):s&2?(w=y.x,I=e.y+g*(y.x-e.x)/f):s&1&&(w=v.x,I=e.y+g*(v.x-e.x)/f),new S(w,I,l)}function bt(e,r){var s=0;return e.x<r.min.x?s|=1:e.x>r.max.x&&(s|=2),e.y<r.min.y?s|=4:e.y>r.max.y&&(s|=8),s}function hh(e,r){var s=r.x-e.x,u=r.y-e.y;return s*s+u*u}function En(e,r,s,u){var l=r.x,f=r.y,g=s.x-l,v=s.y-f,y=g*g+v*v,w;return y>0&&(w=((e.x-l)*g+(e.y-f)*v)/y,w>1?(l=s.x,f=s.y):w>0&&(l+=g*w,f+=v*w)),g=e.x-l,v=e.y-f,u?g*g+v*v:new S(l,f)}function Ie(e){return!W(e[0])||typeof e[0][0]!="object"&&typeof e[0][0]<"u"}function cu(e){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Ie(e)}function lu(e,r){var s,u,l,f,g,v,y,w;if(!e||e.length===0)throw new Error("latlngs not passed");Ie(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var I=H([0,0]),T=ie(e),k=T.getNorthWest().distanceTo(T.getSouthWest())*T.getNorthEast().distanceTo(T.getNorthWest());k<1700&&(I=mo(e));var fe=e.length,ce=[];for(s=0;s<fe;s++){var be=H(e[s]);ce.push(r.project(H([be.lat-I.lat,be.lng-I.lng])))}for(s=0,u=0;s<fe-1;s++)u+=ce[s].distanceTo(ce[s+1])/2;if(u===0)w=ce[0];else for(s=0,f=0;s<fe-1;s++)if(g=ce[s],v=ce[s+1],l=g.distanceTo(v),f+=l,f>u){y=(f-u)/l,w=[v.x-y*(v.x-g.x),v.y-y*(v.y-g.y)];break}var ve=r.unproject(x(w));return H([ve.lat+I.lat,ve.lng+I.lng])}var ph={__proto__:null,simplify:ou,pointToSegmentDistance:su,closestPointOnSegment:lh,clipSegment:uu,_getEdgeIntersection:vr,_getBitCode:bt,_sqClosestPointOnSegment:En,isFlat:Ie,_flat:cu,polylineCenter:lu},yo={project:function(e){return new S(e.lng,e.lat)},unproject:function(e){return new q(e.y,e.x)},bounds:new te([-180,-90],[180,90])},_o={R:6378137,R_MINOR:6356752314245179e-9,bounds:new te([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(e){var r=Math.PI/180,s=this.R,u=e.lat*r,l=this.R_MINOR/s,f=Math.sqrt(1-l*l),g=f*Math.sin(u),v=Math.tan(Math.PI/4-u/2)/Math.pow((1-g)/(1+g),f/2);return u=-s*Math.log(Math.max(v,1e-10)),new S(e.lng*r*s,u)},unproject:function(e){for(var r=180/Math.PI,s=this.R,u=this.R_MINOR/s,l=Math.sqrt(1-u*u),f=Math.exp(-e.y/s),g=Math.PI/2-2*Math.atan(f),v=0,y=.1,w;v<15&&Math.abs(y)>1e-7;v++)w=l*Math.sin(g),w=Math.pow((1-w)/(1+w),l/2),y=Math.PI/2-2*Math.atan(f*w)-g,g+=y;return new q(g*r,e.x*r/s)}},gh={__proto__:null,LonLat:yo,Mercator:_o,SphericalMercator:$i},mh=i({},it,{code:"EPSG:3395",projection:_o,transformation:function(){var e=.5/(Math.PI*_o.R);return hn(e,.5,-e,.5)}()}),du=i({},it,{code:"EPSG:4326",projection:yo,transformation:hn(1/180,1,-1/180,.5)}),vh=i({},Ke,{projection:yo,transformation:hn(1,0,-1,0),scale:function(e){return Math.pow(2,e)},zoom:function(e){return Math.log(e)/Math.LN2},distance:function(e,r){var s=r.lng-e.lng,u=r.lat-e.lat;return Math.sqrt(s*s+u*u)},infinite:!0});Ke.Earth=it,Ke.EPSG3395=mh,Ke.EPSG3857=Wi,Ke.EPSG900913=If,Ke.EPSG4326=du,Ke.Simple=vh;var Pe=fn.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(e){return e.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(e){return e&&e.removeLayer(this),this},getPane:function(e){return this._map.getPane(e?this.options[e]||e:this.options.pane)},addInteractiveTarget:function(e){return this._map._targets[d(e)]=this,this},removeInteractiveTarget:function(e){return delete this._map._targets[d(e)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(e){var r=e.target;if(r.hasLayer(this)){if(this._map=r,this._zoomAnimated=r._zoomAnimated,this.getEvents){var s=this.getEvents();r.on(s,this),this.once("remove",function(){r.off(s,this)},this)}this.onAdd(r),this.fire("add"),r.fire("layeradd",{layer:this})}}});z.include({addLayer:function(e){if(!e._layerAdd)throw new Error("The provided object is not a Layer.");var r=d(e);return this._layers[r]?this:(this._layers[r]=e,e._mapToAdd=this,e.beforeAdd&&e.beforeAdd(this),this.whenReady(e._layerAdd,e),this)},removeLayer:function(e){var r=d(e);return this._layers[r]?(this._loaded&&e.onRemove(this),delete this._layers[r],this._loaded&&(this.fire("layerremove",{layer:e}),e.fire("remove")),e._map=e._mapToAdd=null,this):this},hasLayer:function(e){return d(e)in this._layers},eachLayer:function(e,r){for(var s in this._layers)e.call(r,this._layers[s]);return this},_addLayers:function(e){e=e?W(e)?e:[e]:[];for(var r=0,s=e.length;r<s;r++)this.addLayer(e[r])},_addZoomLimit:function(e){(!isNaN(e.options.maxZoom)||!isNaN(e.options.minZoom))&&(this._zoomBoundLayers[d(e)]=e,this._updateZoomLevels())},_removeZoomLimit:function(e){var r=d(e);this._zoomBoundLayers[r]&&(delete this._zoomBoundLayers[r],this._updateZoomLevels())},_updateZoomLevels:function(){var e=1/0,r=-1/0,s=this._getZoomSpan();for(var u in this._zoomBoundLayers){var l=this._zoomBoundLayers[u].options;e=l.minZoom===void 0?e:Math.min(e,l.minZoom),r=l.maxZoom===void 0?r:Math.max(r,l.maxZoom)}this._layersMaxZoom=r===-1/0?void 0:r,this._layersMinZoom=e===1/0?void 0:e,s!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ht=Pe.extend({initialize:function(e,r){D(this,r),this._layers={};var s,u;if(e)for(s=0,u=e.length;s<u;s++)this.addLayer(e[s])},addLayer:function(e){var r=this.getLayerId(e);return this._layers[r]=e,this._map&&this._map.addLayer(e),this},removeLayer:function(e){var r=e in this._layers?e:this.getLayerId(e);return this._map&&this._layers[r]&&this._map.removeLayer(this._layers[r]),delete this._layers[r],this},hasLayer:function(e){var r=typeof e=="number"?e:this.getLayerId(e);return r in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(e){var r=Array.prototype.slice.call(arguments,1),s,u;for(s in this._layers)u=this._layers[s],u[e]&&u[e].apply(u,r);return this},onAdd:function(e){this.eachLayer(e.addLayer,e)},onRemove:function(e){this.eachLayer(e.removeLayer,e)},eachLayer:function(e,r){for(var s in this._layers)e.call(r,this._layers[s]);return this},getLayer:function(e){return this._layers[e]},getLayers:function(){var e=[];return this.eachLayer(e.push,e),e},setZIndex:function(e){return this.invoke("setZIndex",e)},getLayerId:function(e){return d(e)}}),yh=function(e,r){return new Ht(e,r)},Qe=Ht.extend({addLayer:function(e){return this.hasLayer(e)?this:(e.addEventParent(this),Ht.prototype.addLayer.call(this,e),this.fire("layeradd",{layer:e}))},removeLayer:function(e){return this.hasLayer(e)?(e in this._layers&&(e=this._layers[e]),e.removeEventParent(this),Ht.prototype.removeLayer.call(this,e),this.fire("layerremove",{layer:e})):this},setStyle:function(e){return this.invoke("setStyle",e)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var e=new me;for(var r in this._layers){var s=this._layers[r];e.extend(s.getBounds?s.getBounds():s.getLatLng())}return e}}),_h=function(e,r){return new Qe(e,r)},zt=Ye.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(e){D(this,e)},createIcon:function(e){return this._createIcon("icon",e)},createShadow:function(e){return this._createIcon("shadow",e)},_createIcon:function(e,r){var s=this._getIconUrl(e);if(!s){if(e==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var u=this._createImg(s,r&&r.tagName==="IMG"?r:null);return this._setIconStyles(u,e),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),u},_setIconStyles:function(e,r){var s=this.options,u=s[r+"Size"];typeof u=="number"&&(u=[u,u]);var l=x(u),f=x(r==="shadow"&&s.shadowAnchor||s.iconAnchor||l&&l.divideBy(2,!0));e.className="leaflet-marker-"+r+" "+(s.className||""),f&&(e.style.marginLeft=-f.x+"px",e.style.marginTop=-f.y+"px"),l&&(e.style.width=l.x+"px",e.style.height=l.y+"px")},_createImg:function(e,r){return r=r||document.createElement("img"),r.src=e,r},_getIconUrl:function(e){return C.retina&&this.options[e+"RetinaUrl"]||this.options[e+"Url"]}});function Dh(e){return new zt(e)}var In=zt.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(e){return typeof In.imagePath!="string"&&(In.imagePath=this._detectIconPath()),(this.options.imagePath||In.imagePath)+zt.prototype._getIconUrl.call(this,e)},_stripUrl:function(e){var r=function(s,u,l){var f=u.exec(s);return f&&f[l]};return e=r(e,/^url\((['"])?(.+)\1\)$/,2),e&&r(e,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var e=$("div","leaflet-default-icon-path",document.body),r=mn(e,"background-image")||mn(e,"backgroundImage");if(document.body.removeChild(e),r=this._stripUrl(r),r)return r;var s=document.querySelector('link[href$="leaflet.css"]');return s?s.href.substring(0,s.href.length-11-1):""}}),fu=He.extend({initialize:function(e){this._marker=e},addHooks:function(){var e=this._marker._icon;this._draggable||(this._draggable=new ot(e,e,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),P(e,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&re(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(e){var r=this._marker,s=r._map,u=this._marker.options.autoPanSpeed,l=this._marker.options.autoPanPadding,f=wt(r._icon),g=s.getPixelBounds(),v=s.getPixelOrigin(),y=ge(g.min._subtract(v).add(l),g.max._subtract(v).subtract(l));if(!y.contains(f)){var w=x((Math.max(y.max.x,f.x)-y.max.x)/(g.max.x-y.max.x)-(Math.min(y.min.x,f.x)-y.min.x)/(g.min.x-y.min.x),(Math.max(y.max.y,f.y)-y.max.y)/(g.max.y-y.max.y)-(Math.min(y.min.y,f.y)-y.min.y)/(g.min.y-y.min.y)).multiplyBy(u);s.panBy(w,{animate:!1}),this._draggable._newPos._add(w),this._draggable._startPos._add(w),oe(r._icon,this._draggable._newPos),this._onDrag(e),this._panRequest=pe(this._adjustPan.bind(this,e))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(e){this._marker.options.autoPan&&(we(this._panRequest),this._panRequest=pe(this._adjustPan.bind(this,e)))},_onDrag:function(e){var r=this._marker,s=r._shadow,u=wt(r._icon),l=r._map.layerPointToLatLng(u);s&&oe(s,u),r._latlng=l,e.latlng=l,e.oldLatLng=this._oldLatLng,r.fire("move",e).fire("drag",e)},_onDragEnd:function(e){we(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",e)}}),yr=Pe.extend({options:{icon:new In,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(e,r){D(this,r),this._latlng=H(e)},onAdd:function(e){this._zoomAnimated=this._zoomAnimated&&e.options.markerZoomAnimation,this._zoomAnimated&&e.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(e){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&e.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(e){var r=this._latlng;return this._latlng=H(e),this.update(),this.fire("move",{oldLatLng:r,latlng:this._latlng})},setZIndexOffset:function(e){return this.options.zIndexOffset=e,this.update()},getIcon:function(){return this.options.icon},setIcon:function(e){return this.options.icon=e,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var e=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(e)}return this},_initIcon:function(){var e=this.options,r="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),s=e.icon.createIcon(this._icon),u=!1;s!==this._icon&&(this._icon&&this._removeIcon(),u=!0,e.title&&(s.title=e.title),s.tagName==="IMG"&&(s.alt=e.alt||"")),P(s,r),e.keyboard&&(s.tabIndex="0",s.setAttribute("role","button")),this._icon=s,e.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&N(s,"focus",this._panOnFocus,this);var l=e.icon.createShadow(this._shadow),f=!1;l!==this._shadow&&(this._removeShadow(),f=!0),l&&(P(l,r),l.alt=""),this._shadow=l,e.opacity<1&&this._updateOpacity(),u&&this.getPane().appendChild(this._icon),this._initInteraction(),l&&f&&this.getPane(e.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Q(this._icon,"focus",this._panOnFocus,this),ne(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ne(this._shadow),this._shadow=null},_setPos:function(e){this._icon&&oe(this._icon,e),this._shadow&&oe(this._shadow,e),this._zIndex=e.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(e){this._icon&&(this._icon.style.zIndex=this._zIndex+e)},_animateZoom:function(e){var r=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center).round();this._setPos(r)},_initInteraction:function(){if(this.options.interactive&&(P(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),fu)){var e=this.options.draggable;this.dragging&&(e=this.dragging.enabled(),this.dragging.disable()),this.dragging=new fu(this),e&&this.dragging.enable()}},setOpacity:function(e){return this.options.opacity=e,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var e=this.options.opacity;this._icon&&Ee(this._icon,e),this._shadow&&Ee(this._shadow,e)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var e=this._map;if(e){var r=this.options.icon.options,s=r.iconSize?x(r.iconSize):x(0,0),u=r.iconAnchor?x(r.iconAnchor):x(0,0);e.panInside(this._latlng,{paddingTopLeft:u,paddingBottomRight:s.subtract(u)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function wh(e,r){return new yr(e,r)}var st=Pe.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(e){this._renderer=e.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(e){return D(this,e),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&e&&Object.prototype.hasOwnProperty.call(e,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),_r=st.extend({options:{fill:!0,radius:10},initialize:function(e,r){D(this,r),this._latlng=H(e),this._radius=this.options.radius},setLatLng:function(e){var r=this._latlng;return this._latlng=H(e),this.redraw(),this.fire("move",{oldLatLng:r,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(e){return this.options.radius=this._radius=e,this.redraw()},getRadius:function(){return this._radius},setStyle:function(e){var r=e&&e.radius||this._radius;return st.prototype.setStyle.call(this,e),this.setRadius(r),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var e=this._radius,r=this._radiusY||e,s=this._clickTolerance(),u=[e+s,r+s];this._pxBounds=new te(this._point.subtract(u),this._point.add(u))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(e){return e.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Eh(e,r){return new _r(e,r)}var Do=_r.extend({initialize:function(e,r,s){if(typeof r=="number"&&(r=i({},s,{radius:r})),D(this,r),this._latlng=H(e),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(e){return this._mRadius=e,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var e=[this._radius,this._radiusY||this._radius];return new me(this._map.layerPointToLatLng(this._point.subtract(e)),this._map.layerPointToLatLng(this._point.add(e)))},setStyle:st.prototype.setStyle,_project:function(){var e=this._latlng.lng,r=this._latlng.lat,s=this._map,u=s.options.crs;if(u.distance===it.distance){var l=Math.PI/180,f=this._mRadius/it.R/l,g=s.project([r+f,e]),v=s.project([r-f,e]),y=g.add(v).divideBy(2),w=s.unproject(y).lat,I=Math.acos((Math.cos(f*l)-Math.sin(r*l)*Math.sin(w*l))/(Math.cos(r*l)*Math.cos(w*l)))/l;(isNaN(I)||I===0)&&(I=f/Math.cos(Math.PI/180*r)),this._point=y.subtract(s.getPixelOrigin()),this._radius=isNaN(I)?0:y.x-s.project([w,e-I]).x,this._radiusY=y.y-g.y}else{var T=u.unproject(u.project(this._latlng).subtract([this._mRadius,0]));this._point=s.latLngToLayerPoint(this._latlng),this._radius=this._point.x-s.latLngToLayerPoint(T).x}this._updateBounds()}});function Ih(e,r,s){return new Do(e,r,s)}var Je=st.extend({options:{smoothFactor:1,noClip:!1},initialize:function(e,r){D(this,r),this._setLatLngs(e)},getLatLngs:function(){return this._latlngs},setLatLngs:function(e){return this._setLatLngs(e),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(e){for(var r=1/0,s=null,u=En,l,f,g=0,v=this._parts.length;g<v;g++)for(var y=this._parts[g],w=1,I=y.length;w<I;w++){l=y[w-1],f=y[w];var T=u(e,l,f,!0);T<r&&(r=T,s=u(e,l,f))}return s&&(s.distance=Math.sqrt(r)),s},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return lu(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(e,r){return r=r||this._defaultShape(),e=H(e),r.push(e),this._bounds.extend(e),this.redraw()},_setLatLngs:function(e){this._bounds=new me,this._latlngs=this._convertLatLngs(e)},_defaultShape:function(){return Ie(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(e){for(var r=[],s=Ie(e),u=0,l=e.length;u<l;u++)s?(r[u]=H(e[u]),this._bounds.extend(r[u])):r[u]=this._convertLatLngs(e[u]);return r},_project:function(){var e=new te;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,e),this._bounds.isValid()&&e.isValid()&&(this._rawPxBounds=e,this._updateBounds())},_updateBounds:function(){var e=this._clickTolerance(),r=new S(e,e);this._rawPxBounds&&(this._pxBounds=new te([this._rawPxBounds.min.subtract(r),this._rawPxBounds.max.add(r)]))},_projectLatlngs:function(e,r,s){var u=e[0]instanceof q,l=e.length,f,g;if(u){for(g=[],f=0;f<l;f++)g[f]=this._map.latLngToLayerPoint(e[f]),s.extend(g[f]);r.push(g)}else for(f=0;f<l;f++)this._projectLatlngs(e[f],r,s)},_clipPoints:function(){var e=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(e))){if(this.options.noClip){this._parts=this._rings;return}var r=this._parts,s,u,l,f,g,v,y;for(s=0,l=0,f=this._rings.length;s<f;s++)for(y=this._rings[s],u=0,g=y.length;u<g-1;u++)v=uu(y[u],y[u+1],e,u,!0),v&&(r[l]=r[l]||[],r[l].push(v[0]),(v[1]!==y[u+1]||u===g-2)&&(r[l].push(v[1]),l++))}},_simplifyPoints:function(){for(var e=this._parts,r=this.options.smoothFactor,s=0,u=e.length;s<u;s++)e[s]=ou(e[s],r)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(e,r){var s,u,l,f,g,v,y=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(s=0,f=this._parts.length;s<f;s++)for(v=this._parts[s],u=0,g=v.length,l=g-1;u<g;l=u++)if(!(!r&&u===0)&&su(e,v[l],v[u])<=y)return!0;return!1}});function bh(e,r){return new Je(e,r)}Je._flat=cu;var Ut=Je.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return iu(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(e){var r=Je.prototype._convertLatLngs.call(this,e),s=r.length;return s>=2&&r[0]instanceof q&&r[0].equals(r[s-1])&&r.pop(),r},_setLatLngs:function(e){Je.prototype._setLatLngs.call(this,e),Ie(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Ie(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var e=this._renderer._bounds,r=this.options.weight,s=new S(r,r);if(e=new te(e.min.subtract(s),e.max.add(s)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(e))){if(this.options.noClip){this._parts=this._rings;return}for(var u=0,l=this._rings.length,f;u<l;u++)f=ru(this._rings[u],e,!0),f.length&&this._parts.push(f)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(e){var r=!1,s,u,l,f,g,v,y,w;if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(f=0,y=this._parts.length;f<y;f++)for(s=this._parts[f],g=0,w=s.length,v=w-1;g<w;v=g++)u=s[g],l=s[v],u.y>e.y!=l.y>e.y&&e.x<(l.x-u.x)*(e.y-u.y)/(l.y-u.y)+u.x&&(r=!r);return r||Je.prototype._containsPoint.call(this,e,!0)}});function Ch(e,r){return new Ut(e,r)}var Xe=Qe.extend({initialize:function(e,r){D(this,r),this._layers={},e&&this.addData(e)},addData:function(e){var r=W(e)?e:e.features,s,u,l;if(r){for(s=0,u=r.length;s<u;s++)l=r[s],(l.geometries||l.geometry||l.features||l.coordinates)&&this.addData(l);return this}var f=this.options;if(f.filter&&!f.filter(e))return this;var g=Dr(e,f);return g?(g.feature=Ir(e),g.defaultOptions=g.options,this.resetStyle(g),f.onEachFeature&&f.onEachFeature(e,g),this.addLayer(g)):this},resetStyle:function(e){return e===void 0?this.eachLayer(this.resetStyle,this):(e.options=i({},e.defaultOptions),this._setLayerStyle(e,this.options.style),this)},setStyle:function(e){return this.eachLayer(function(r){this._setLayerStyle(r,e)},this)},_setLayerStyle:function(e,r){e.setStyle&&(typeof r=="function"&&(r=r(e.feature)),e.setStyle(r))}});function Dr(e,r){var s=e.type==="Feature"?e.geometry:e,u=s?s.coordinates:null,l=[],f=r&&r.pointToLayer,g=r&&r.coordsToLatLng||wo,v,y,w,I;if(!u&&!s)return null;switch(s.type){case"Point":return v=g(u),hu(f,e,v,r);case"MultiPoint":for(w=0,I=u.length;w<I;w++)v=g(u[w]),l.push(hu(f,e,v,r));return new Qe(l);case"LineString":case"MultiLineString":return y=wr(u,s.type==="LineString"?0:1,g),new Je(y,r);case"Polygon":case"MultiPolygon":return y=wr(u,s.type==="Polygon"?1:2,g),new Ut(y,r);case"GeometryCollection":for(w=0,I=s.geometries.length;w<I;w++){var T=Dr({geometry:s.geometries[w],type:"Feature",properties:e.properties},r);T&&l.push(T)}return new Qe(l);case"FeatureCollection":for(w=0,I=s.features.length;w<I;w++){var k=Dr(s.features[w],r);k&&l.push(k)}return new Qe(l);default:throw new Error("Invalid GeoJSON object.")}}function hu(e,r,s,u){return e?e(r,s):new yr(s,u&&u.markersInheritOptions&&u)}function wo(e){return new q(e[1],e[0],e[2])}function wr(e,r,s){for(var u=[],l=0,f=e.length,g;l<f;l++)g=r?wr(e[l],r-1,s):(s||wo)(e[l]),u.push(g);return u}function Eo(e,r){return e=H(e),e.alt!==void 0?[_(e.lng,r),_(e.lat,r),_(e.alt,r)]:[_(e.lng,r),_(e.lat,r)]}function Er(e,r,s,u){for(var l=[],f=0,g=e.length;f<g;f++)l.push(r?Er(e[f],Ie(e[f])?0:r-1,s,u):Eo(e[f],u));return!r&&s&&l.length>0&&l.push(l[0].slice()),l}function $t(e,r){return e.feature?i({},e.feature,{geometry:r}):Ir(r)}function Ir(e){return e.type==="Feature"||e.type==="FeatureCollection"?e:{type:"Feature",properties:{},geometry:e}}var Io={toGeoJSON:function(e){return $t(this,{type:"Point",coordinates:Eo(this.getLatLng(),e)})}};yr.include(Io),Do.include(Io),_r.include(Io),Je.include({toGeoJSON:function(e){var r=!Ie(this._latlngs),s=Er(this._latlngs,r?1:0,!1,e);return $t(this,{type:(r?"Multi":"")+"LineString",coordinates:s})}}),Ut.include({toGeoJSON:function(e){var r=!Ie(this._latlngs),s=r&&!Ie(this._latlngs[0]),u=Er(this._latlngs,s?2:r?1:0,!0,e);return r||(u=[u]),$t(this,{type:(s?"Multi":"")+"Polygon",coordinates:u})}}),Ht.include({toMultiPoint:function(e){var r=[];return this.eachLayer(function(s){r.push(s.toGeoJSON(e).geometry.coordinates)}),$t(this,{type:"MultiPoint",coordinates:r})},toGeoJSON:function(e){var r=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(r==="MultiPoint")return this.toMultiPoint(e);var s=r==="GeometryCollection",u=[];return this.eachLayer(function(l){if(l.toGeoJSON){var f=l.toGeoJSON(e);if(s)u.push(f.geometry);else{var g=Ir(f);g.type==="FeatureCollection"?u.push.apply(u,g.features):u.push(g)}}}),s?$t(this,{geometries:u,type:"GeometryCollection"}):{type:"FeatureCollection",features:u}}});function pu(e,r){return new Xe(e,r)}var Th=pu,br=Pe.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(e,r,s){this._url=e,this._bounds=ie(r),D(this,s)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(P(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ne(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(e){return this.options.opacity=e,this._image&&this._updateOpacity(),this},setStyle:function(e){return e.opacity&&this.setOpacity(e.opacity),this},bringToFront:function(){return this._map&&jt(this._image),this},bringToBack:function(){return this._map&&Vt(this._image),this},setUrl:function(e){return this._url=e,this._image&&(this._image.src=e),this},setBounds:function(e){return this._bounds=ie(e),this._map&&this._reset(),this},getEvents:function(){var e={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var e=this._url.tagName==="IMG",r=this._image=e?this._url:$("img");if(P(r,"leaflet-image-layer"),this._zoomAnimated&&P(r,"leaflet-zoom-animated"),this.options.className&&P(r,this.options.className),r.onselectstart=m,r.onmousemove=m,r.onload=a(this.fire,this,"load"),r.onerror=a(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(r.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),e){this._url=r.src;return}r.src=this._url,r.alt=this.options.alt},_animateZoom:function(e){var r=this._map.getZoomScale(e.zoom),s=this._map._latLngBoundsToNewLayerBounds(this._bounds,e.zoom,e.center).min;Dt(this._image,s,r)},_reset:function(){var e=this._image,r=new te(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),s=r.getSize();oe(e,r.min),e.style.width=s.x+"px",e.style.height=s.y+"px"},_updateOpacity:function(){Ee(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var e=this.options.errorOverlayUrl;e&&this._url!==e&&(this._url=e,this._image.src=e)},getCenter:function(){return this._bounds.getCenter()}}),Mh=function(e,r,s){return new br(e,r,s)},gu=br.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var e=this._url.tagName==="VIDEO",r=this._image=e?this._url:$("video");if(P(r,"leaflet-image-layer"),this._zoomAnimated&&P(r,"leaflet-zoom-animated"),this.options.className&&P(r,this.options.className),r.onselectstart=m,r.onmousemove=m,r.onloadeddata=a(this.fire,this,"load"),e){for(var s=r.getElementsByTagName("source"),u=[],l=0;l<s.length;l++)u.push(s[l].src);this._url=s.length>0?u:[r.src];return}W(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(r.style,"objectFit")&&(r.style.objectFit="fill"),r.autoplay=!!this.options.autoplay,r.loop=!!this.options.loop,r.muted=!!this.options.muted,r.playsInline=!!this.options.playsInline;for(var f=0;f<this._url.length;f++){var g=$("source");g.src=this._url[f],r.appendChild(g)}}});function xh(e,r,s){return new gu(e,r,s)}var mu=br.extend({_initImage:function(){var e=this._image=this._url;P(e,"leaflet-image-layer"),this._zoomAnimated&&P(e,"leaflet-zoom-animated"),this.options.className&&P(e,this.options.className),e.onselectstart=m,e.onmousemove=m}});function Sh(e,r,s){return new mu(e,r,s)}var ze=Pe.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(e,r){e&&(e instanceof q||W(e))?(this._latlng=H(e),D(this,r)):(D(this,e),this._source=r),this.options.content&&(this._content=this.options.content)},openOn:function(e){return e=arguments.length?e:this._source._map,e.hasLayer(this)||e.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(e){return this._map?this.close():(arguments.length?this._source=e:e=this._source,this._prepareOpen(),this.openOn(e._map)),this},onAdd:function(e){this._zoomAnimated=e._zoomAnimated,this._container||this._initLayout(),e._fadeAnimated&&Ee(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),e._fadeAnimated&&Ee(this._container,1),this.bringToFront(),this.options.interactive&&(P(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(e){e._fadeAnimated?(Ee(this._container,0),this._removeTimeout=setTimeout(a(ne,void 0,this._container),200)):ne(this._container),this.options.interactive&&(re(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(e){return this._latlng=H(e),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(e){return this._content=e,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var e={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&jt(this._container),this},bringToBack:function(){return this._map&&Vt(this._container),this},_prepareOpen:function(e){var r=this._source;if(!r._map)return!1;if(r instanceof Qe){r=null;var s=this._source._layers;for(var u in s)if(s[u]._map){r=s[u];break}if(!r)return!1;this._source=r}if(!e)if(r.getCenter)e=r.getCenter();else if(r.getLatLng)e=r.getLatLng();else if(r.getBounds)e=r.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(e),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var e=this._contentNode,r=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof r=="string")e.innerHTML=r;else{for(;e.hasChildNodes();)e.removeChild(e.firstChild);e.appendChild(r)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var e=this._map.latLngToLayerPoint(this._latlng),r=x(this.options.offset),s=this._getAnchor();this._zoomAnimated?oe(this._container,e.add(s)):r=r.add(e).add(s);var u=this._containerBottom=-r.y,l=this._containerLeft=-Math.round(this._containerWidth/2)+r.x;this._container.style.bottom=u+"px",this._container.style.left=l+"px"}},_getAnchor:function(){return[0,0]}});z.include({_initOverlay:function(e,r,s,u){var l=r;return l instanceof e||(l=new e(u).setContent(r)),s&&l.setLatLng(s),l}}),Pe.include({_initOverlay:function(e,r,s,u){var l=s;return l instanceof e?(D(l,u),l._source=this):(l=r&&!u?r:new e(u,this),l.setContent(s)),l}});var Cr=ze.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(e){return e=arguments.length?e:this._source._map,!e.hasLayer(this)&&e._popup&&e._popup.options.autoClose&&e.removeLayer(e._popup),e._popup=this,ze.prototype.openOn.call(this,e)},onAdd:function(e){ze.prototype.onAdd.call(this,e),e.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof st||this._source.on("preclick",Et))},onRemove:function(e){ze.prototype.onRemove.call(this,e),e.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof st||this._source.off("preclick",Et))},getEvents:function(){var e=ze.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(e.preclick=this.close),this.options.keepInView&&(e.moveend=this._adjustPan),e},_initLayout:function(){var e="leaflet-popup",r=this._container=$("div",e+" "+(this.options.className||"")+" leaflet-zoom-animated"),s=this._wrapper=$("div",e+"-content-wrapper",r);if(this._contentNode=$("div",e+"-content",s),Dn(r),fo(this._contentNode),N(r,"contextmenu",Et),this._tipContainer=$("div",e+"-tip-container",r),this._tip=$("div",e+"-tip",this._tipContainer),this.options.closeButton){var u=this._closeButton=$("a",e+"-close-button",r);u.setAttribute("role","button"),u.setAttribute("aria-label","Close popup"),u.href="#close",u.innerHTML='<span aria-hidden="true">&#215;</span>',N(u,"click",function(l){le(l),this.close()},this)}},_updateLayout:function(){var e=this._contentNode,r=e.style;r.width="",r.whiteSpace="nowrap";var s=e.offsetWidth;s=Math.min(s,this.options.maxWidth),s=Math.max(s,this.options.minWidth),r.width=s+1+"px",r.whiteSpace="",r.height="";var u=e.offsetHeight,l=this.options.maxHeight,f="leaflet-popup-scrolled";l&&u>l?(r.height=l+"px",P(e,f)):re(e,f),this._containerWidth=this._container.offsetWidth},_animateZoom:function(e){var r=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center),s=this._getAnchor();oe(this._container,r.add(s))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var e=this._map,r=parseInt(mn(this._container,"marginBottom"),10)||0,s=this._container.offsetHeight+r,u=this._containerWidth,l=new S(this._containerLeft,-s-this._containerBottom);l._add(wt(this._container));var f=e.layerPointToContainerPoint(l),g=x(this.options.autoPanPadding),v=x(this.options.autoPanPaddingTopLeft||g),y=x(this.options.autoPanPaddingBottomRight||g),w=e.getSize(),I=0,T=0;f.x+u+y.x>w.x&&(I=f.x+u-w.x+y.x),f.x-I-v.x<0&&(I=f.x-v.x),f.y+s+y.y>w.y&&(T=f.y+s-w.y+y.y),f.y-T-v.y<0&&(T=f.y-v.y),(I||T)&&(this.options.keepInView&&(this._autopanning=!0),e.fire("autopanstart").panBy([I,T]))}},_getAnchor:function(){return x(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Nh=function(e,r){return new Cr(e,r)};z.mergeOptions({closePopupOnClick:!0}),z.include({openPopup:function(e,r,s){return this._initOverlay(Cr,e,r,s).openOn(this),this},closePopup:function(e){return e=arguments.length?e:this._popup,e&&e.close(),this}}),Pe.include({bindPopup:function(e,r){return this._popup=this._initOverlay(Cr,this._popup,e,r),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(e){return this._popup&&(this instanceof Qe||(this._popup._source=this),this._popup._prepareOpen(e||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(e){return this._popup&&this._popup.setContent(e),this},getPopup:function(){return this._popup},_openPopup:function(e){if(!(!this._popup||!this._map)){It(e);var r=e.layer||e.target;if(this._popup._source===r&&!(r instanceof st)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(e.latlng);return}this._popup._source=r,this.openPopup(e.latlng)}},_movePopup:function(e){this._popup.setLatLng(e.latlng)},_onKeyPress:function(e){e.originalEvent.keyCode===13&&this._openPopup(e)}});var Tr=ze.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(e){ze.prototype.onAdd.call(this,e),this.setOpacity(this.options.opacity),e.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(e){ze.prototype.onRemove.call(this,e),e.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var e=ze.prototype.getEvents.call(this);return this.options.permanent||(e.preclick=this.close),e},_initLayout:function(){var e="leaflet-tooltip",r=e+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=$("div",r),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+d(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(e){var r,s,u=this._map,l=this._container,f=u.latLngToContainerPoint(u.getCenter()),g=u.layerPointToContainerPoint(e),v=this.options.direction,y=l.offsetWidth,w=l.offsetHeight,I=x(this.options.offset),T=this._getAnchor();v==="top"?(r=y/2,s=w):v==="bottom"?(r=y/2,s=0):v==="center"?(r=y/2,s=w/2):v==="right"?(r=0,s=w/2):v==="left"?(r=y,s=w/2):g.x<f.x?(v="right",r=0,s=w/2):(v="left",r=y+(I.x+T.x)*2,s=w/2),e=e.subtract(x(r,s,!0)).add(I).add(T),re(l,"leaflet-tooltip-right"),re(l,"leaflet-tooltip-left"),re(l,"leaflet-tooltip-top"),re(l,"leaflet-tooltip-bottom"),P(l,"leaflet-tooltip-"+v),oe(l,e)},_updatePosition:function(){var e=this._map.latLngToLayerPoint(this._latlng);this._setPosition(e)},setOpacity:function(e){this.options.opacity=e,this._container&&Ee(this._container,e)},_animateZoom:function(e){var r=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center);this._setPosition(r)},_getAnchor:function(){return x(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Ah=function(e,r){return new Tr(e,r)};z.include({openTooltip:function(e,r,s){return this._initOverlay(Tr,e,r,s).openOn(this),this},closeTooltip:function(e){return e.close(),this}}),Pe.include({bindTooltip:function(e,r){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Tr,this._tooltip,e,r),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(e){if(!(!e&&this._tooltipHandlersAdded)){var r=e?"off":"on",s={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?s.add=this._openTooltip:(s.mouseover=this._openTooltip,s.mouseout=this.closeTooltip,s.click=this._openTooltip,this._map?this._addFocusListeners():s.add=this._addFocusListeners),this._tooltip.options.sticky&&(s.mousemove=this._moveTooltip),this[r](s),this._tooltipHandlersAdded=!e}},openTooltip:function(e){return this._tooltip&&(this instanceof Qe||(this._tooltip._source=this),this._tooltip._prepareOpen(e)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(e){return this._tooltip&&this._tooltip.setContent(e),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(e){var r=typeof e.getElement=="function"&&e.getElement();r&&(N(r,"focus",function(){this._tooltip._source=e,this.openTooltip()},this),N(r,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(e){var r=typeof e.getElement=="function"&&e.getElement();r&&r.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(e){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var r=this;this._map.once("moveend",function(){r._openOnceFlag=!1,r._openTooltip(e)});return}this._tooltip._source=e.layer||e.target,this.openTooltip(this._tooltip.options.sticky?e.latlng:void 0)}},_moveTooltip:function(e){var r=e.latlng,s,u;this._tooltip.options.sticky&&e.originalEvent&&(s=this._map.mouseEventToContainerPoint(e.originalEvent),u=this._map.containerPointToLayerPoint(s),r=this._map.layerPointToLatLng(u)),this._tooltip.setLatLng(r)}});var vu=zt.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(e){var r=e&&e.tagName==="DIV"?e:document.createElement("div"),s=this.options;if(s.html instanceof Element?(fr(r),r.appendChild(s.html)):r.innerHTML=s.html!==!1?s.html:"",s.bgPos){var u=x(s.bgPos);r.style.backgroundPosition=-u.x+"px "+-u.y+"px"}return this._setIconStyles(r,"icon"),r},createShadow:function(){return null}});function Ph(e){return new vu(e)}zt.Default=In;var bn=Pe.extend({options:{tileSize:256,opacity:1,updateWhenIdle:C.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(e){D(this,e)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(e){e._addZoomLimit(this)},onRemove:function(e){this._removeAllTiles(),ne(this._container),e._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(jt(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Vt(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(e){return this.options.opacity=e,this._updateOpacity(),this},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var e=this._clampZoom(this._map.getZoom());e!==this._tileZoom&&(this._tileZoom=e,this._updateLevels()),this._update()}return this},getEvents:function(){var e={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=h(this._onMoveEnd,this.options.updateInterval,this)),e.move=this._onMove),this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},createTile:function(){return document.createElement("div")},getTileSize:function(){var e=this.options.tileSize;return e instanceof S?e:new S(e,e)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(e){for(var r=this.getPane().children,s=-e(-1/0,1/0),u=0,l=r.length,f;u<l;u++)f=r[u].style.zIndex,r[u]!==this._container&&f&&(s=e(s,+f));isFinite(s)&&(this.options.zIndex=s+e(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!C.ielt9){Ee(this._container,this.options.opacity);var e=+new Date,r=!1,s=!1;for(var u in this._tiles){var l=this._tiles[u];if(!(!l.current||!l.loaded)){var f=Math.min(1,(e-l.loaded)/200);Ee(l.el,f),f<1?r=!0:(l.active?s=!0:this._onOpaqueTile(l),l.active=!0)}}s&&!this._noPrune&&this._pruneTiles(),r&&(we(this._fadeFrame),this._fadeFrame=pe(this._updateOpacity,this))}},_onOpaqueTile:m,_initContainer:function(){this._container||(this._container=$("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var e=this._tileZoom,r=this.options.maxZoom;if(e!==void 0){for(var s in this._levels)s=Number(s),this._levels[s].el.children.length||s===e?(this._levels[s].el.style.zIndex=r-Math.abs(e-s),this._onUpdateLevel(s)):(ne(this._levels[s].el),this._removeTilesAtZoom(s),this._onRemoveLevel(s),delete this._levels[s]);var u=this._levels[e],l=this._map;return u||(u=this._levels[e]={},u.el=$("div","leaflet-tile-container leaflet-zoom-animated",this._container),u.el.style.zIndex=r,u.origin=l.project(l.unproject(l.getPixelOrigin()),e).round(),u.zoom=e,this._setZoomTransform(u,l.getCenter(),l.getZoom()),m(u.el.offsetWidth),this._onCreateLevel(u)),this._level=u,u}},_onUpdateLevel:m,_onRemoveLevel:m,_onCreateLevel:m,_pruneTiles:function(){if(this._map){var e,r,s=this._map.getZoom();if(s>this.options.maxZoom||s<this.options.minZoom){this._removeAllTiles();return}for(e in this._tiles)r=this._tiles[e],r.retain=r.current;for(e in this._tiles)if(r=this._tiles[e],r.current&&!r.active){var u=r.coords;this._retainParent(u.x,u.y,u.z,u.z-5)||this._retainChildren(u.x,u.y,u.z,u.z+2)}for(e in this._tiles)this._tiles[e].retain||this._removeTile(e)}},_removeTilesAtZoom:function(e){for(var r in this._tiles)this._tiles[r].coords.z===e&&this._removeTile(r)},_removeAllTiles:function(){for(var e in this._tiles)this._removeTile(e)},_invalidateAll:function(){for(var e in this._levels)ne(this._levels[e].el),this._onRemoveLevel(Number(e)),delete this._levels[e];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(e,r,s,u){var l=Math.floor(e/2),f=Math.floor(r/2),g=s-1,v=new S(+l,+f);v.z=+g;var y=this._tileCoordsToKey(v),w=this._tiles[y];return w&&w.active?(w.retain=!0,!0):(w&&w.loaded&&(w.retain=!0),g>u?this._retainParent(l,f,g,u):!1)},_retainChildren:function(e,r,s,u){for(var l=2*e;l<2*e+2;l++)for(var f=2*r;f<2*r+2;f++){var g=new S(l,f);g.z=s+1;var v=this._tileCoordsToKey(g),y=this._tiles[v];if(y&&y.active){y.retain=!0;continue}else y&&y.loaded&&(y.retain=!0);s+1<u&&this._retainChildren(l,f,s+1,u)}},_resetView:function(e){var r=e&&(e.pinch||e.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),r,r)},_animateZoom:function(e){this._setView(e.center,e.zoom,!0,e.noUpdate)},_clampZoom:function(e){var r=this.options;return r.minNativeZoom!==void 0&&e<r.minNativeZoom?r.minNativeZoom:r.maxNativeZoom!==void 0&&r.maxNativeZoom<e?r.maxNativeZoom:e},_setView:function(e,r,s,u){var l=Math.round(r);this.options.maxZoom!==void 0&&l>this.options.maxZoom||this.options.minZoom!==void 0&&l<this.options.minZoom?l=void 0:l=this._clampZoom(l);var f=this.options.updateWhenZooming&&l!==this._tileZoom;(!u||f)&&(this._tileZoom=l,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),l!==void 0&&this._update(e),s||this._pruneTiles(),this._noPrune=!!s),this._setZoomTransforms(e,r)},_setZoomTransforms:function(e,r){for(var s in this._levels)this._setZoomTransform(this._levels[s],e,r)},_setZoomTransform:function(e,r,s){var u=this._map.getZoomScale(s,e.zoom),l=e.origin.multiplyBy(u).subtract(this._map._getNewPixelOrigin(r,s)).round();C.any3d?Dt(e.el,l,u):oe(e.el,l)},_resetGrid:function(){var e=this._map,r=e.options.crs,s=this._tileSize=this.getTileSize(),u=this._tileZoom,l=this._map.getPixelWorldBounds(this._tileZoom);l&&(this._globalTileRange=this._pxBoundsToTileRange(l)),this._wrapX=r.wrapLng&&!this.options.noWrap&&[Math.floor(e.project([0,r.wrapLng[0]],u).x/s.x),Math.ceil(e.project([0,r.wrapLng[1]],u).x/s.y)],this._wrapY=r.wrapLat&&!this.options.noWrap&&[Math.floor(e.project([r.wrapLat[0],0],u).y/s.x),Math.ceil(e.project([r.wrapLat[1],0],u).y/s.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(e){var r=this._map,s=r._animatingZoom?Math.max(r._animateToZoom,r.getZoom()):r.getZoom(),u=r.getZoomScale(s,this._tileZoom),l=r.project(e,this._tileZoom).floor(),f=r.getSize().divideBy(u*2);return new te(l.subtract(f),l.add(f))},_update:function(e){var r=this._map;if(r){var s=this._clampZoom(r.getZoom());if(e===void 0&&(e=r.getCenter()),this._tileZoom!==void 0){var u=this._getTiledPixelBounds(e),l=this._pxBoundsToTileRange(u),f=l.getCenter(),g=[],v=this.options.keepBuffer,y=new te(l.getBottomLeft().subtract([v,-v]),l.getTopRight().add([v,-v]));if(!(isFinite(l.min.x)&&isFinite(l.min.y)&&isFinite(l.max.x)&&isFinite(l.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var w in this._tiles){var I=this._tiles[w].coords;(I.z!==this._tileZoom||!y.contains(new S(I.x,I.y)))&&(this._tiles[w].current=!1)}if(Math.abs(s-this._tileZoom)>1){this._setView(e,s);return}for(var T=l.min.y;T<=l.max.y;T++)for(var k=l.min.x;k<=l.max.x;k++){var fe=new S(k,T);if(fe.z=this._tileZoom,!!this._isValidTile(fe)){var ce=this._tiles[this._tileCoordsToKey(fe)];ce?ce.current=!0:g.push(fe)}}if(g.sort(function(ve,Wt){return ve.distanceTo(f)-Wt.distanceTo(f)}),g.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var be=document.createDocumentFragment();for(k=0;k<g.length;k++)this._addTile(g[k],be);this._level.el.appendChild(be)}}}},_isValidTile:function(e){var r=this._map.options.crs;if(!r.infinite){var s=this._globalTileRange;if(!r.wrapLng&&(e.x<s.min.x||e.x>s.max.x)||!r.wrapLat&&(e.y<s.min.y||e.y>s.max.y))return!1}if(!this.options.bounds)return!0;var u=this._tileCoordsToBounds(e);return ie(this.options.bounds).overlaps(u)},_keyToBounds:function(e){return this._tileCoordsToBounds(this._keyToTileCoords(e))},_tileCoordsToNwSe:function(e){var r=this._map,s=this.getTileSize(),u=e.scaleBy(s),l=u.add(s),f=r.unproject(u,e.z),g=r.unproject(l,e.z);return[f,g]},_tileCoordsToBounds:function(e){var r=this._tileCoordsToNwSe(e),s=new me(r[0],r[1]);return this.options.noWrap||(s=this._map.wrapLatLngBounds(s)),s},_tileCoordsToKey:function(e){return e.x+":"+e.y+":"+e.z},_keyToTileCoords:function(e){var r=e.split(":"),s=new S(+r[0],+r[1]);return s.z=+r[2],s},_removeTile:function(e){var r=this._tiles[e];r&&(ne(r.el),delete this._tiles[e],this.fire("tileunload",{tile:r.el,coords:this._keyToTileCoords(e)}))},_initTile:function(e){P(e,"leaflet-tile");var r=this.getTileSize();e.style.width=r.x+"px",e.style.height=r.y+"px",e.onselectstart=m,e.onmousemove=m,C.ielt9&&this.options.opacity<1&&Ee(e,this.options.opacity)},_addTile:function(e,r){var s=this._getTilePos(e),u=this._tileCoordsToKey(e),l=this.createTile(this._wrapCoords(e),a(this._tileReady,this,e));this._initTile(l),this.createTile.length<2&&pe(a(this._tileReady,this,e,null,l)),oe(l,s),this._tiles[u]={el:l,coords:e,current:!0},r.appendChild(l),this.fire("tileloadstart",{tile:l,coords:e})},_tileReady:function(e,r,s){r&&this.fire("tileerror",{error:r,tile:s,coords:e});var u=this._tileCoordsToKey(e);s=this._tiles[u],s&&(s.loaded=+new Date,this._map._fadeAnimated?(Ee(s.el,0),we(this._fadeFrame),this._fadeFrame=pe(this._updateOpacity,this)):(s.active=!0,this._pruneTiles()),r||(P(s.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:s.el,coords:e})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),C.ielt9||!this._map._fadeAnimated?pe(this._pruneTiles,this):setTimeout(a(this._pruneTiles,this),250)))},_getTilePos:function(e){return e.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(e){var r=new S(this._wrapX?p(e.x,this._wrapX):e.x,this._wrapY?p(e.y,this._wrapY):e.y);return r.z=e.z,r},_pxBoundsToTileRange:function(e){var r=this.getTileSize();return new te(e.min.unscaleBy(r).floor(),e.max.unscaleBy(r).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var e in this._tiles)if(!this._tiles[e].loaded)return!1;return!0}});function Rh(e){return new bn(e)}var Zt=bn.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(e,r){this._url=e,r=D(this,r),r.detectRetina&&C.retina&&r.maxZoom>0?(r.tileSize=Math.floor(r.tileSize/2),r.zoomReverse?(r.zoomOffset--,r.minZoom=Math.min(r.maxZoom,r.minZoom+1)):(r.zoomOffset++,r.maxZoom=Math.max(r.minZoom,r.maxZoom-1)),r.minZoom=Math.max(0,r.minZoom)):r.zoomReverse?r.minZoom=Math.min(r.maxZoom,r.minZoom):r.maxZoom=Math.max(r.minZoom,r.maxZoom),typeof r.subdomains=="string"&&(r.subdomains=r.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(e,r){return this._url===e&&r===void 0&&(r=!0),this._url=e,r||this.redraw(),this},createTile:function(e,r){var s=document.createElement("img");return N(s,"load",a(this._tileOnLoad,this,r,s)),N(s,"error",a(this._tileOnError,this,r,s)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(s.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(s.referrerPolicy=this.options.referrerPolicy),s.alt="",s.src=this.getTileUrl(e),s},getTileUrl:function(e){var r={r:C.retina?"@2x":"",s:this._getSubdomain(e),x:e.x,y:e.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var s=this._globalTileRange.max.y-e.y;this.options.tms&&(r.y=s),r["-y"]=s}return Z(this._url,i(r,this.options))},_tileOnLoad:function(e,r){C.ielt9?setTimeout(a(e,this,null,r),0):e(null,r)},_tileOnError:function(e,r,s){var u=this.options.errorTileUrl;u&&r.getAttribute("src")!==u&&(r.src=u),e(s,r)},_onTileRemove:function(e){e.tile.onload=null},_getZoomForUrl:function(){var e=this._tileZoom,r=this.options.maxZoom,s=this.options.zoomReverse,u=this.options.zoomOffset;return s&&(e=r-e),e+u},_getSubdomain:function(e){var r=Math.abs(e.x+e.y)%this.options.subdomains.length;return this.options.subdomains[r]},_abortLoading:function(){var e,r;for(e in this._tiles)if(this._tiles[e].coords.z!==this._tileZoom&&(r=this._tiles[e].el,r.onload=m,r.onerror=m,!r.complete)){r.src=ae;var s=this._tiles[e].coords;ne(r),delete this._tiles[e],this.fire("tileabort",{tile:r,coords:s})}},_removeTile:function(e){var r=this._tiles[e];if(r)return r.el.setAttribute("src",ae),bn.prototype._removeTile.call(this,e)},_tileReady:function(e,r,s){if(!(!this._map||s&&s.getAttribute("src")===ae))return bn.prototype._tileReady.call(this,e,r,s)}});function yu(e,r){return new Zt(e,r)}var _u=Zt.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(e,r){this._url=e;var s=i({},this.defaultWmsParams);for(var u in r)u in this.options||(s[u]=r[u]);r=D(this,r);var l=r.detectRetina&&C.retina?2:1,f=this.getTileSize();s.width=f.x*l,s.height=f.y*l,this.wmsParams=s},onAdd:function(e){this._crs=this.options.crs||e.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var r=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[r]=this._crs.code,Zt.prototype.onAdd.call(this,e)},getTileUrl:function(e){var r=this._tileCoordsToNwSe(e),s=this._crs,u=ge(s.project(r[0]),s.project(r[1])),l=u.min,f=u.max,g=(this._wmsVersion>=1.3&&this._crs===du?[l.y,l.x,f.y,f.x]:[l.x,l.y,f.x,f.y]).join(","),v=Zt.prototype.getTileUrl.call(this,e);return v+j(this.wmsParams,v,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+g},setParams:function(e,r){return i(this.wmsParams,e),r||this.redraw(),this}});function Oh(e,r){return new _u(e,r)}Zt.WMS=_u,yu.wms=Oh;var et=Pe.extend({options:{padding:.1},initialize:function(e){D(this,e),d(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),P(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var e={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(e.zoomanim=this._onAnimZoom),e},_onAnimZoom:function(e){this._updateTransform(e.center,e.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(e,r){var s=this._map.getZoomScale(r,this._zoom),u=this._map.getSize().multiplyBy(.5+this.options.padding),l=this._map.project(this._center,r),f=u.multiplyBy(-s).add(l).subtract(this._map._getNewPixelOrigin(e,r));C.any3d?Dt(this._container,f,s):oe(this._container,f)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var e in this._layers)this._layers[e]._reset()},_onZoomEnd:function(){for(var e in this._layers)this._layers[e]._project()},_updatePaths:function(){for(var e in this._layers)this._layers[e]._update()},_update:function(){var e=this.options.padding,r=this._map.getSize(),s=this._map.containerPointToLayerPoint(r.multiplyBy(-e)).round();this._bounds=new te(s,s.add(r.multiplyBy(1+e*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Du=et.extend({options:{tolerance:0},getEvents:function(){var e=et.prototype.getEvents.call(this);return e.viewprereset=this._onViewPreReset,e},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){et.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var e=this._container=document.createElement("canvas");N(e,"mousemove",this._onMouseMove,this),N(e,"click dblclick mousedown mouseup contextmenu",this._onClick,this),N(e,"mouseout",this._handleMouseOut,this),e._leaflet_disable_events=!0,this._ctx=e.getContext("2d")},_destroyContainer:function(){we(this._redrawRequest),delete this._ctx,ne(this._container),Q(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var e;this._redrawBounds=null;for(var r in this._layers)e=this._layers[r],e._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){et.prototype._update.call(this);var e=this._bounds,r=this._container,s=e.getSize(),u=C.retina?2:1;oe(r,e.min),r.width=u*s.x,r.height=u*s.y,r.style.width=s.x+"px",r.style.height=s.y+"px",C.retina&&this._ctx.scale(2,2),this._ctx.translate(-e.min.x,-e.min.y),this.fire("update")}},_reset:function(){et.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(e){this._updateDashArray(e),this._layers[d(e)]=e;var r=e._order={layer:e,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=r),this._drawLast=r,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(e){this._requestRedraw(e)},_removePath:function(e){var r=e._order,s=r.next,u=r.prev;s?s.prev=u:this._drawLast=u,u?u.next=s:this._drawFirst=s,delete e._order,delete this._layers[d(e)],this._requestRedraw(e)},_updatePath:function(e){this._extendRedrawBounds(e),e._project(),e._update(),this._requestRedraw(e)},_updateStyle:function(e){this._updateDashArray(e),this._requestRedraw(e)},_updateDashArray:function(e){if(typeof e.options.dashArray=="string"){var r=e.options.dashArray.split(/[, ]+/),s=[],u,l;for(l=0;l<r.length;l++){if(u=Number(r[l]),isNaN(u))return;s.push(u)}e.options._dashArray=s}else e.options._dashArray=e.options.dashArray},_requestRedraw:function(e){this._map&&(this._extendRedrawBounds(e),this._redrawRequest=this._redrawRequest||pe(this._redraw,this))},_extendRedrawBounds:function(e){if(e._pxBounds){var r=(e.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new te,this._redrawBounds.extend(e._pxBounds.min.subtract([r,r])),this._redrawBounds.extend(e._pxBounds.max.add([r,r]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var e=this._redrawBounds;if(e){var r=e.getSize();this._ctx.clearRect(e.min.x,e.min.y,r.x,r.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var e,r=this._redrawBounds;if(this._ctx.save(),r){var s=r.getSize();this._ctx.beginPath(),this._ctx.rect(r.min.x,r.min.y,s.x,s.y),this._ctx.clip()}this._drawing=!0;for(var u=this._drawFirst;u;u=u.next)e=u.layer,(!r||e._pxBounds&&e._pxBounds.intersects(r))&&e._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(e,r){if(this._drawing){var s,u,l,f,g=e._parts,v=g.length,y=this._ctx;if(v){for(y.beginPath(),s=0;s<v;s++){for(u=0,l=g[s].length;u<l;u++)f=g[s][u],y[u?"lineTo":"moveTo"](f.x,f.y);r&&y.closePath()}this._fillStroke(y,e)}}},_updateCircle:function(e){if(!(!this._drawing||e._empty())){var r=e._point,s=this._ctx,u=Math.max(Math.round(e._radius),1),l=(Math.max(Math.round(e._radiusY),1)||u)/u;l!==1&&(s.save(),s.scale(1,l)),s.beginPath(),s.arc(r.x,r.y/l,u,0,Math.PI*2,!1),l!==1&&s.restore(),this._fillStroke(s,e)}},_fillStroke:function(e,r){var s=r.options;s.fill&&(e.globalAlpha=s.fillOpacity,e.fillStyle=s.fillColor||s.color,e.fill(s.fillRule||"evenodd")),s.stroke&&s.weight!==0&&(e.setLineDash&&e.setLineDash(r.options&&r.options._dashArray||[]),e.globalAlpha=s.opacity,e.lineWidth=s.weight,e.strokeStyle=s.color,e.lineCap=s.lineCap,e.lineJoin=s.lineJoin,e.stroke())},_onClick:function(e){for(var r=this._map.mouseEventToLayerPoint(e),s,u,l=this._drawFirst;l;l=l.next)s=l.layer,s.options.interactive&&s._containsPoint(r)&&(!(e.type==="click"||e.type==="preclick")||!this._map._draggableMoved(s))&&(u=s);this._fireEvent(u?[u]:!1,e)},_onMouseMove:function(e){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var r=this._map.mouseEventToLayerPoint(e);this._handleMouseHover(e,r)}},_handleMouseOut:function(e){var r=this._hoveredLayer;r&&(re(this._container,"leaflet-interactive"),this._fireEvent([r],e,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(e,r){if(!this._mouseHoverThrottled){for(var s,u,l=this._drawFirst;l;l=l.next)s=l.layer,s.options.interactive&&s._containsPoint(r)&&(u=s);u!==this._hoveredLayer&&(this._handleMouseOut(e),u&&(P(this._container,"leaflet-interactive"),this._fireEvent([u],e,"mouseover"),this._hoveredLayer=u)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,e),this._mouseHoverThrottled=!0,setTimeout(a(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(e,r,s){this._map._fireDOMEvent(r,s||r.type,e)},_bringToFront:function(e){var r=e._order;if(r){var s=r.next,u=r.prev;if(s)s.prev=u;else return;u?u.next=s:s&&(this._drawFirst=s),r.prev=this._drawLast,this._drawLast.next=r,r.next=null,this._drawLast=r,this._requestRedraw(e)}},_bringToBack:function(e){var r=e._order;if(r){var s=r.next,u=r.prev;if(u)u.next=s;else return;s?s.prev=u:u&&(this._drawLast=u),r.prev=null,r.next=this._drawFirst,this._drawFirst.prev=r,this._drawFirst=r,this._requestRedraw(e)}}});function wu(e){return C.canvas?new Du(e):null}var Cn=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(e){return document.createElement("<lvml:"+e+' class="lvml">')}}catch{}return function(e){return document.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),kh={_initContainer:function(){this._container=$("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(et.prototype._update.call(this),this.fire("update"))},_initPath:function(e){var r=e._container=Cn("shape");P(r,"leaflet-vml-shape "+(this.options.className||"")),r.coordsize="1 1",e._path=Cn("path"),r.appendChild(e._path),this._updateStyle(e),this._layers[d(e)]=e},_addPath:function(e){var r=e._container;this._container.appendChild(r),e.options.interactive&&e.addInteractiveTarget(r)},_removePath:function(e){var r=e._container;ne(r),e.removeInteractiveTarget(r),delete this._layers[d(e)]},_updateStyle:function(e){var r=e._stroke,s=e._fill,u=e.options,l=e._container;l.stroked=!!u.stroke,l.filled=!!u.fill,u.stroke?(r||(r=e._stroke=Cn("stroke")),l.appendChild(r),r.weight=u.weight+"px",r.color=u.color,r.opacity=u.opacity,u.dashArray?r.dashStyle=W(u.dashArray)?u.dashArray.join(" "):u.dashArray.replace(/( *, *)/g," "):r.dashStyle="",r.endcap=u.lineCap.replace("butt","flat"),r.joinstyle=u.lineJoin):r&&(l.removeChild(r),e._stroke=null),u.fill?(s||(s=e._fill=Cn("fill")),l.appendChild(s),s.color=u.fillColor||u.color,s.opacity=u.fillOpacity):s&&(l.removeChild(s),e._fill=null)},_updateCircle:function(e){var r=e._point.round(),s=Math.round(e._radius),u=Math.round(e._radiusY||s);this._setPath(e,e._empty()?"M0 0":"AL "+r.x+","+r.y+" "+s+","+u+" 0,"+65535*360)},_setPath:function(e,r){e._path.v=r},_bringToFront:function(e){jt(e._container)},_bringToBack:function(e){Vt(e._container)}},Mr=C.vml?Cn:Ca,Tn=et.extend({_initContainer:function(){this._container=Mr("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Mr("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ne(this._container),Q(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){et.prototype._update.call(this);var e=this._bounds,r=e.getSize(),s=this._container;(!this._svgSize||!this._svgSize.equals(r))&&(this._svgSize=r,s.setAttribute("width",r.x),s.setAttribute("height",r.y)),oe(s,e.min),s.setAttribute("viewBox",[e.min.x,e.min.y,r.x,r.y].join(" ")),this.fire("update")}},_initPath:function(e){var r=e._path=Mr("path");e.options.className&&P(r,e.options.className),e.options.interactive&&P(r,"leaflet-interactive"),this._updateStyle(e),this._layers[d(e)]=e},_addPath:function(e){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(e._path),e.addInteractiveTarget(e._path)},_removePath:function(e){ne(e._path),e.removeInteractiveTarget(e._path),delete this._layers[d(e)]},_updatePath:function(e){e._project(),e._update()},_updateStyle:function(e){var r=e._path,s=e.options;r&&(s.stroke?(r.setAttribute("stroke",s.color),r.setAttribute("stroke-opacity",s.opacity),r.setAttribute("stroke-width",s.weight),r.setAttribute("stroke-linecap",s.lineCap),r.setAttribute("stroke-linejoin",s.lineJoin),s.dashArray?r.setAttribute("stroke-dasharray",s.dashArray):r.removeAttribute("stroke-dasharray"),s.dashOffset?r.setAttribute("stroke-dashoffset",s.dashOffset):r.removeAttribute("stroke-dashoffset")):r.setAttribute("stroke","none"),s.fill?(r.setAttribute("fill",s.fillColor||s.color),r.setAttribute("fill-opacity",s.fillOpacity),r.setAttribute("fill-rule",s.fillRule||"evenodd")):r.setAttribute("fill","none"))},_updatePoly:function(e,r){this._setPath(e,Ta(e._parts,r))},_updateCircle:function(e){var r=e._point,s=Math.max(Math.round(e._radius),1),u=Math.max(Math.round(e._radiusY),1)||s,l="a"+s+","+u+" 0 1,0 ",f=e._empty()?"M0 0":"M"+(r.x-s)+","+r.y+l+s*2+",0 "+l+-s*2+",0 ";this._setPath(e,f)},_setPath:function(e,r){e._path.setAttribute("d",r)},_bringToFront:function(e){jt(e._path)},_bringToBack:function(e){Vt(e._path)}});C.vml&&Tn.include(kh);function Eu(e){return C.svg||C.vml?new Tn(e):null}z.include({getRenderer:function(e){var r=e.options.renderer||this._getPaneRenderer(e.options.pane)||this.options.renderer||this._renderer;return r||(r=this._renderer=this._createRenderer()),this.hasLayer(r)||this.addLayer(r),r},_getPaneRenderer:function(e){if(e==="overlayPane"||e===void 0)return!1;var r=this._paneRenderers[e];return r===void 0&&(r=this._createRenderer({pane:e}),this._paneRenderers[e]=r),r},_createRenderer:function(e){return this.options.preferCanvas&&wu(e)||Eu(e)}});var Iu=Ut.extend({initialize:function(e,r){Ut.prototype.initialize.call(this,this._boundsToLatLngs(e),r)},setBounds:function(e){return this.setLatLngs(this._boundsToLatLngs(e))},_boundsToLatLngs:function(e){return e=ie(e),[e.getSouthWest(),e.getNorthWest(),e.getNorthEast(),e.getSouthEast()]}});function Lh(e,r){return new Iu(e,r)}Tn.create=Mr,Tn.pointsToPath=Ta,Xe.geometryToLayer=Dr,Xe.coordsToLatLng=wo,Xe.coordsToLatLngs=wr,Xe.latLngToCoords=Eo,Xe.latLngsToCoords=Er,Xe.getFeature=$t,Xe.asFeature=Ir,z.mergeOptions({boxZoom:!0});var bu=He.extend({initialize:function(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane,this._resetStateTimeout=0,e.on("unload",this._destroy,this)},addHooks:function(){N(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Q(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ne(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(e){if(!e.shiftKey||e.which!==1&&e.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),vn(),ro(),this._startPoint=this._map.mouseEventToContainerPoint(e),N(document,{contextmenu:It,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(e){this._moved||(this._moved=!0,this._box=$("div","leaflet-zoom-box",this._container),P(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(e);var r=new te(this._point,this._startPoint),s=r.getSize();oe(this._box,r.min),this._box.style.width=s.x+"px",this._box.style.height=s.y+"px"},_finish:function(){this._moved&&(ne(this._box),re(this._container,"leaflet-crosshair")),yn(),io(),Q(document,{contextmenu:It,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(e){if(!(e.which!==1&&e.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(a(this._resetState,this),0);var r=new me(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(r).fire("boxzoomend",{boxZoomBounds:r})}},_onKeyDown:function(e){e.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});z.addInitHook("addHandler","boxZoom",bu),z.mergeOptions({doubleClickZoom:!0});var Cu=He.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(e){var r=this._map,s=r.getZoom(),u=r.options.zoomDelta,l=e.originalEvent.shiftKey?s-u:s+u;r.options.doubleClickZoom==="center"?r.setZoom(l):r.setZoomAround(e.containerPoint,l)}});z.addInitHook("addHandler","doubleClickZoom",Cu),z.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Tu=He.extend({addHooks:function(){if(!this._draggable){var e=this._map;this._draggable=new ot(e._mapPane,e._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),e.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),e.on("zoomend",this._onZoomEnd,this),e.whenReady(this._onZoomEnd,this))}P(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){re(this._map._container,"leaflet-grab"),re(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var e=this._map;if(e._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var r=ie(this._map.options.maxBounds);this._offsetLimit=ge(this._map.latLngToContainerPoint(r.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(r.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;e.fire("movestart").fire("dragstart"),e.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(e){if(this._map.options.inertia){var r=this._lastTime=+new Date,s=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(s),this._times.push(r),this._prunePositions(r)}this._map.fire("move",e).fire("drag",e)},_prunePositions:function(e){for(;this._positions.length>1&&e-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var e=this._map.getSize().divideBy(2),r=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=r.subtract(e).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(e,r){return e-(e-r)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var e=this._draggable._newPos.subtract(this._draggable._startPos),r=this._offsetLimit;e.x<r.min.x&&(e.x=this._viscousLimit(e.x,r.min.x)),e.y<r.min.y&&(e.y=this._viscousLimit(e.y,r.min.y)),e.x>r.max.x&&(e.x=this._viscousLimit(e.x,r.max.x)),e.y>r.max.y&&(e.y=this._viscousLimit(e.y,r.max.y)),this._draggable._newPos=this._draggable._startPos.add(e)}},_onPreDragWrap:function(){var e=this._worldWidth,r=Math.round(e/2),s=this._initialWorldOffset,u=this._draggable._newPos.x,l=(u-r+s)%e+r-s,f=(u+r+s)%e-r-s,g=Math.abs(l+s)<Math.abs(f+s)?l:f;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=g},_onDragEnd:function(e){var r=this._map,s=r.options,u=!s.inertia||e.noInertia||this._times.length<2;if(r.fire("dragend",e),u)r.fire("moveend");else{this._prunePositions(+new Date);var l=this._lastPos.subtract(this._positions[0]),f=(this._lastTime-this._times[0])/1e3,g=s.easeLinearity,v=l.multiplyBy(g/f),y=v.distanceTo([0,0]),w=Math.min(s.inertiaMaxSpeed,y),I=v.multiplyBy(w/y),T=w/(s.inertiaDeceleration*g),k=I.multiplyBy(-T/2).round();!k.x&&!k.y?r.fire("moveend"):(k=r._limitOffset(k,r.options.maxBounds),pe(function(){r.panBy(k,{duration:T,easeLinearity:g,noMoveStart:!0,animate:!0})}))}}});z.addInitHook("addHandler","dragging",Tu),z.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Mu=He.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(e){this._map=e,this._setPanDelta(e.options.keyboardPanDelta),this._setZoomDelta(e.options.zoomDelta)},addHooks:function(){var e=this._map._container;e.tabIndex<=0&&(e.tabIndex="0"),N(e,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Q(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var e=document.body,r=document.documentElement,s=e.scrollTop||r.scrollTop,u=e.scrollLeft||r.scrollLeft;this._map._container.focus(),window.scrollTo(u,s)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(e){var r=this._panKeys={},s=this.keyCodes,u,l;for(u=0,l=s.left.length;u<l;u++)r[s.left[u]]=[-1*e,0];for(u=0,l=s.right.length;u<l;u++)r[s.right[u]]=[e,0];for(u=0,l=s.down.length;u<l;u++)r[s.down[u]]=[0,e];for(u=0,l=s.up.length;u<l;u++)r[s.up[u]]=[0,-1*e]},_setZoomDelta:function(e){var r=this._zoomKeys={},s=this.keyCodes,u,l;for(u=0,l=s.zoomIn.length;u<l;u++)r[s.zoomIn[u]]=e;for(u=0,l=s.zoomOut.length;u<l;u++)r[s.zoomOut[u]]=-e},_addHooks:function(){N(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Q(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var r=e.keyCode,s=this._map,u;if(r in this._panKeys){if(!s._panAnim||!s._panAnim._inProgress)if(u=this._panKeys[r],e.shiftKey&&(u=x(u).multiplyBy(3)),s.options.maxBounds&&(u=s._limitOffset(x(u),s.options.maxBounds)),s.options.worldCopyJump){var l=s.wrapLatLng(s.unproject(s.project(s.getCenter()).add(u)));s.panTo(l)}else s.panBy(u)}else if(r in this._zoomKeys)s.setZoom(s.getZoom()+(e.shiftKey?3:1)*this._zoomKeys[r]);else if(r===27&&s._popup&&s._popup.options.closeOnEscapeKey)s.closePopup();else return;It(e)}}});z.addInitHook("addHandler","keyboard",Mu),z.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var xu=He.extend({addHooks:function(){N(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Q(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(e){var r=Ja(e),s=this._map.options.wheelDebounceTime;this._delta+=r,this._lastMousePos=this._map.mouseEventToContainerPoint(e),this._startTime||(this._startTime=+new Date);var u=Math.max(s-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(a(this._performZoom,this),u),It(e)},_performZoom:function(){var e=this._map,r=e.getZoom(),s=this._map.options.zoomSnap||0;e._stop();var u=this._delta/(this._map.options.wheelPxPerZoomLevel*4),l=4*Math.log(2/(1+Math.exp(-Math.abs(u))))/Math.LN2,f=s?Math.ceil(l/s)*s:l,g=e._limitZoom(r+(this._delta>0?f:-f))-r;this._delta=0,this._startTime=null,g&&(e.options.scrollWheelZoom==="center"?e.setZoom(r+g):e.setZoomAround(this._lastMousePos,r+g))}});z.addInitHook("addHandler","scrollWheelZoom",xu);var Fh=600;z.mergeOptions({tapHold:C.touchNative&&C.safari&&C.mobile,tapTolerance:15});var Su=He.extend({addHooks:function(){N(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Q(this._map._container,"touchstart",this._onDown,this)},_onDown:function(e){if(clearTimeout(this._holdTimeout),e.touches.length===1){var r=e.touches[0];this._startPos=this._newPos=new S(r.clientX,r.clientY),this._holdTimeout=setTimeout(a(function(){this._cancel(),this._isTapValid()&&(N(document,"touchend",le),N(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",r))},this),Fh),N(document,"touchend touchcancel contextmenu",this._cancel,this),N(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function e(){Q(document,"touchend",le),Q(document,"touchend touchcancel",e)},_cancel:function(){clearTimeout(this._holdTimeout),Q(document,"touchend touchcancel contextmenu",this._cancel,this),Q(document,"touchmove",this._onMove,this)},_onMove:function(e){var r=e.touches[0];this._newPos=new S(r.clientX,r.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(e,r){var s=new MouseEvent(e,{bubbles:!0,cancelable:!0,view:window,screenX:r.screenX,screenY:r.screenY,clientX:r.clientX,clientY:r.clientY});s._simulated=!0,r.target.dispatchEvent(s)}});z.addInitHook("addHandler","tapHold",Su),z.mergeOptions({touchZoom:C.touch,bounceAtZoomLimits:!0});var Nu=He.extend({addHooks:function(){P(this._map._container,"leaflet-touch-zoom"),N(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){re(this._map._container,"leaflet-touch-zoom"),Q(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(e){var r=this._map;if(!(!e.touches||e.touches.length!==2||r._animatingZoom||this._zooming)){var s=r.mouseEventToContainerPoint(e.touches[0]),u=r.mouseEventToContainerPoint(e.touches[1]);this._centerPoint=r.getSize()._divideBy(2),this._startLatLng=r.containerPointToLatLng(this._centerPoint),r.options.touchZoom!=="center"&&(this._pinchStartLatLng=r.containerPointToLatLng(s.add(u)._divideBy(2))),this._startDist=s.distanceTo(u),this._startZoom=r.getZoom(),this._moved=!1,this._zooming=!0,r._stop(),N(document,"touchmove",this._onTouchMove,this),N(document,"touchend touchcancel",this._onTouchEnd,this),le(e)}},_onTouchMove:function(e){if(!(!e.touches||e.touches.length!==2||!this._zooming)){var r=this._map,s=r.mouseEventToContainerPoint(e.touches[0]),u=r.mouseEventToContainerPoint(e.touches[1]),l=s.distanceTo(u)/this._startDist;if(this._zoom=r.getScaleZoom(l,this._startZoom),!r.options.bounceAtZoomLimits&&(this._zoom<r.getMinZoom()&&l<1||this._zoom>r.getMaxZoom()&&l>1)&&(this._zoom=r._limitZoom(this._zoom)),r.options.touchZoom==="center"){if(this._center=this._startLatLng,l===1)return}else{var f=s._add(u)._divideBy(2)._subtract(this._centerPoint);if(l===1&&f.x===0&&f.y===0)return;this._center=r.unproject(r.project(this._pinchStartLatLng,this._zoom).subtract(f),this._zoom)}this._moved||(r._moveStart(!0,!1),this._moved=!0),we(this._animRequest);var g=a(r._move,r,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=pe(g,this,!0),le(e)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,we(this._animRequest),Q(document,"touchmove",this._onTouchMove,this),Q(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});z.addInitHook("addHandler","touchZoom",Nu),z.BoxZoom=bu,z.DoubleClickZoom=Cu,z.Drag=Tu,z.Keyboard=Mu,z.ScrollWheelZoom=xu,z.TapHold=Su,z.TouchZoom=Nu,t.Bounds=te,t.Browser=C,t.CRS=Ke,t.Canvas=Du,t.Circle=Do,t.CircleMarker=_r,t.Class=Ye,t.Control=Ae,t.DivIcon=vu,t.DivOverlay=ze,t.DomEvent=th,t.DomUtil=Xf,t.Draggable=ot,t.Evented=fn,t.FeatureGroup=Qe,t.GeoJSON=Xe,t.GridLayer=bn,t.Handler=He,t.Icon=zt,t.ImageOverlay=br,t.LatLng=q,t.LatLngBounds=me,t.Layer=Pe,t.LayerGroup=Ht,t.LineUtil=ph,t.Map=z,t.Marker=yr,t.Mixin=uh,t.Path=st,t.Point=S,t.PolyUtil=ch,t.Polygon=Ut,t.Polyline=Je,t.Popup=Cr,t.PosAnimation=Xa,t.Projection=gh,t.Rectangle=Iu,t.Renderer=et,t.SVG=Tn,t.SVGOverlay=mu,t.TileLayer=Zt,t.Tooltip=Tr,t.Transformation=Zi,t.Util=wf,t.VideoOverlay=gu,t.bind=a,t.bounds=ge,t.canvas=wu,t.circle=Ih,t.circleMarker=Eh,t.control=wn,t.divIcon=Ph,t.extend=i,t.featureGroup=_h,t.geoJSON=pu,t.geoJson=Th,t.gridLayer=Rh,t.icon=Dh,t.imageOverlay=Mh,t.latLng=H,t.latLngBounds=ie,t.layerGroup=yh,t.map=nh,t.marker=wh,t.point=x,t.polygon=Ch,t.polyline=bh,t.popup=Nh,t.rectangle=Lh,t.setOptions=D,t.stamp=d,t.svg=Eu,t.svgOverlay=Sh,t.tileLayer=yu,t.tooltip=Ah,t.transformation=hn,t.version=n,t.videoOverlay=xh;var Bh=window.L;t.noConflict=function(){return window.L=Bh,this},window.L=t})});var To=null;var Fu=1,Mn=Symbol("SIGNAL");function G(t){let n=To;return To=t,n}function xo(){return To}var So={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Bu(t){if(!(Oo(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Fu)){if(!t.producerMustRecompute(t)&&!Ao(t)){Mo(t);return}t.producerRecomputeValue(t),Mo(t)}}function Mo(t){t.dirty=!1,t.lastCleanEpoch=Fu}function No(t){return t&&(t.nextProducerIndex=0),G(t)}function ju(t,n){if(G(n),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Oo(t))for(let i=t.nextProducerIndex;i<t.producerNode.length;i++)Ro(t.producerNode[i],t.producerIndexOfThis[i]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Ao(t){ko(t);for(let n=0;n<t.producerNode.length;n++){let i=t.producerNode[n],o=t.producerLastReadVersion[n];if(o!==i.version||(Bu(i),o!==i.version))return!0}return!1}function Po(t){if(ko(t),Oo(t))for(let n=0;n<t.producerNode.length;n++)Ro(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Ro(t,n){if(rp(t),t.liveConsumerNode.length===1&&ip(t))for(let o=0;o<t.producerNode.length;o++)Ro(t.producerNode[o],t.producerIndexOfThis[o]);let i=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[i],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[i],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){let o=t.liveConsumerIndexOfThis[n],a=t.liveConsumerNode[n];ko(a),a.producerIndexOfThis[o]=n}}function Oo(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function ko(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function rp(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function ip(t){return t.producerNode!==void 0}function op(){throw new Error}var sp=op;function Lo(t){sp=t}var Fo;function xn(){return Fo}function tt(t){let n=Fo;return Fo=t,n}var Sr=Symbol("NotFound");function U(t){return typeof t=="function"}function Nr(t){let i=t(o=>{Error.call(o),o.stack=new Error().stack});return i.prototype=Object.create(Error.prototype),i.prototype.constructor=i,i}var Ar=Nr(t=>function(i){t(this),this.message=i?`${i.length} errors occurred during unsubscription:
${i.map((o,a)=>`${a+1}) ${o.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=i});function Sn(t,n){if(t){let i=t.indexOf(n);0<=i&&t.splice(i,1)}}var he=class t{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;let{_parentage:i}=this;if(i)if(this._parentage=null,Array.isArray(i))for(let c of i)c.remove(this);else i.remove(this);let{initialTeardown:o}=this;if(U(o))try{o()}catch(c){n=c instanceof Ar?c.errors:[c]}let{_finalizers:a}=this;if(a){this._finalizers=null;for(let c of a)try{Vu(c)}catch(d){n=n??[],d instanceof Ar?n=[...n,...d.errors]:n.push(d)}}if(n)throw new Ar(n)}}add(n){var i;if(n&&n!==this)if(this.closed)Vu(n);else{if(n instanceof t){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=(i=this._finalizers)!==null&&i!==void 0?i:[]).push(n)}}_hasParent(n){let{_parentage:i}=this;return i===n||Array.isArray(i)&&i.includes(n)}_addParent(n){let{_parentage:i}=this;this._parentage=Array.isArray(i)?(i.push(n),i):i?[i,n]:n}_removeParent(n){let{_parentage:i}=this;i===n?this._parentage=null:Array.isArray(i)&&Sn(i,n)}remove(n){let{_finalizers:i}=this;i&&Sn(i,n),n instanceof t&&n._removeParent(this)}};he.EMPTY=(()=>{let t=new he;return t.closed=!0,t})();var Bo=he.EMPTY;function Pr(t){return t instanceof he||t&&"closed"in t&&U(t.remove)&&U(t.add)&&U(t.unsubscribe)}function Vu(t){U(t)?t():t.unsubscribe()}var Re={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Gt={setTimeout(t,n,...i){let{delegate:o}=Gt;return o?.setTimeout?o.setTimeout(t,n,...i):setTimeout(t,n,...i)},clearTimeout(t){let{delegate:n}=Gt;return(n?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Rr(t){Gt.setTimeout(()=>{let{onUnhandledError:n}=Re;if(n)n(t);else throw t})}function jo(){}var Hu=Vo("C",void 0,void 0);function zu(t){return Vo("E",void 0,t)}function Uu(t){return Vo("N",t,void 0)}function Vo(t,n,i){return{kind:t,value:n,error:i}}var Ct=null;function qt(t){if(Re.useDeprecatedSynchronousErrorHandling){let n=!Ct;if(n&&(Ct={errorThrown:!1,error:null}),t(),n){let{errorThrown:i,error:o}=Ct;if(Ct=null,i)throw o}}else t()}function $u(t){Re.useDeprecatedSynchronousErrorHandling&&Ct&&(Ct.errorThrown=!0,Ct.error=t)}var Tt=class extends he{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,Pr(n)&&n.add(this)):this.destination=_p}static create(n,i,o){return new Yt(n,i,o)}next(n){this.isStopped?zo(Uu(n),this):this._next(n)}error(n){this.isStopped?zo(zu(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?zo(Hu,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},vp=Function.prototype.bind;function Ho(t,n){return vp.call(t,n)}var Uo=class{constructor(n){this.partialObserver=n}next(n){let{partialObserver:i}=this;if(i.next)try{i.next(n)}catch(o){Or(o)}}error(n){let{partialObserver:i}=this;if(i.error)try{i.error(n)}catch(o){Or(o)}else Or(n)}complete(){let{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(i){Or(i)}}},Yt=class extends Tt{constructor(n,i,o){super();let a;if(U(n)||!n)a={next:n??void 0,error:i??void 0,complete:o??void 0};else{let c;this&&Re.useDeprecatedNextContext?(c=Object.create(n),c.unsubscribe=()=>this.unsubscribe(),a={next:n.next&&Ho(n.next,c),error:n.error&&Ho(n.error,c),complete:n.complete&&Ho(n.complete,c)}):a=n}this.destination=new Uo(a)}};function Or(t){Re.useDeprecatedSynchronousErrorHandling?$u(t):Rr(t)}function yp(t){throw t}function zo(t,n){let{onStoppedNotification:i}=Re;i&&Gt.setTimeout(()=>i(t,n))}var _p={closed:!0,next:jo,error:yp,complete:jo};var Kt=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Zu(t){return t}function Wu(t){return t.length===0?Zu:t.length===1?t[0]:function(i){return t.reduce((o,a)=>a(o),i)}}var ue=(()=>{class t{constructor(i){i&&(this._subscribe=i)}lift(i){let o=new t;return o.source=this,o.operator=i,o}subscribe(i,o,a){let c=wp(i)?i:new Yt(i,o,a);return qt(()=>{let{operator:d,source:h}=this;c.add(d?d.call(c,h):h?this._subscribe(c):this._trySubscribe(c))}),c}_trySubscribe(i){try{return this._subscribe(i)}catch(o){i.error(o)}}forEach(i,o){return o=Gu(o),new o((a,c)=>{let d=new Yt({next:h=>{try{i(h)}catch(p){c(p),d.unsubscribe()}},error:c,complete:a});this.subscribe(d)})}_subscribe(i){var o;return(o=this.source)===null||o===void 0?void 0:o.subscribe(i)}[Kt](){return this}pipe(...i){return Wu(i)(this)}toPromise(i){return i=Gu(i),new i((o,a)=>{let c;this.subscribe(d=>c=d,d=>a(d),()=>o(c))})}}return t.create=n=>new t(n),t})();function Gu(t){var n;return(n=t??Re.Promise)!==null&&n!==void 0?n:Promise}function Dp(t){return t&&U(t.next)&&U(t.error)&&U(t.complete)}function wp(t){return t&&t instanceof Tt||Dp(t)&&Pr(t)}function Ep(t){return U(t?.lift)}function _e(t){return n=>{if(Ep(n))return n.lift(function(i){try{return t(i,this)}catch(o){this.error(o)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ce(t,n,i,o,a){return new $o(t,n,i,o,a)}var $o=class extends Tt{constructor(n,i,o,a,c,d){super(n),this.onFinalize=c,this.shouldUnsubscribe=d,this._next=i?function(h){try{i(h)}catch(p){n.error(p)}}:super._next,this._error=a?function(h){try{a(h)}catch(p){n.error(p)}finally{this.unsubscribe()}}:super._error,this._complete=o?function(){try{o()}catch(h){n.error(h)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:i}=this;super.unsubscribe(),!i&&((n=this.onFinalize)===null||n===void 0||n.call(this))}}};var qu=Nr(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Mt=(()=>{class t extends ue{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(i){let o=new kr(this,this);return o.operator=i,o}_throwIfClosed(){if(this.closed)throw new qu}next(i){qt(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let o of this.currentObservers)o.next(i)}})}error(i){qt(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=i;let{observers:o}=this;for(;o.length;)o.shift().error(i)}})}complete(){qt(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:i}=this;for(;i.length;)i.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var i;return((i=this.observers)===null||i===void 0?void 0:i.length)>0}_trySubscribe(i){return this._throwIfClosed(),super._trySubscribe(i)}_subscribe(i){return this._throwIfClosed(),this._checkFinalizedStatuses(i),this._innerSubscribe(i)}_innerSubscribe(i){let{hasError:o,isStopped:a,observers:c}=this;return o||a?Bo:(this.currentObservers=null,c.push(i),new he(()=>{this.currentObservers=null,Sn(c,i)}))}_checkFinalizedStatuses(i){let{hasError:o,thrownError:a,isStopped:c}=this;o?i.error(a):c&&i.complete()}asObservable(){let i=new ue;return i.source=this,i}}return t.create=(n,i)=>new kr(n,i),t})(),kr=class extends Mt{constructor(n,i){super(),this.destination=n,this.source=i}next(n){var i,o;(o=(i=this.destination)===null||i===void 0?void 0:i.next)===null||o===void 0||o.call(i,n)}error(n){var i,o;(o=(i=this.destination)===null||i===void 0?void 0:i.error)===null||o===void 0||o.call(i,n)}complete(){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||i===void 0||i.call(n)}_subscribe(n){var i,o;return(o=(i=this.source)===null||i===void 0?void 0:i.subscribe(n))!==null&&o!==void 0?o:Bo}};var Nn=class extends Mt{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){let i=super._subscribe(n);return!i.closed&&n.next(this._value),i}getValue(){let{hasError:n,thrownError:i,_value:o}=this;if(n)throw i;return this._throwIfClosed(),o}next(n){super.next(this._value=n)}};function Yu(t){return t&&U(t.schedule)}function Ip(t){return t[t.length-1]}function Ku(t){return Yu(Ip(t))?t.pop():void 0}function Ju(t,n,i,o){function a(c){return c instanceof i?c:new i(function(d){d(c)})}return new(i||(i=Promise))(function(c,d){function h(_){try{m(o.next(_))}catch(E){d(E)}}function p(_){try{m(o.throw(_))}catch(E){d(E)}}function m(_){_.done?c(_.value):a(_.value).then(h,p)}m((o=o.apply(t,n||[])).next())})}function Qu(t){var n=typeof Symbol=="function"&&Symbol.iterator,i=n&&t[n],o=0;if(i)return i.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function xt(t){return this instanceof xt?(this.v=t,this):new xt(t)}function Xu(t,n,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=i.apply(t,n||[]),a,c=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",d),a[Symbol.asyncIterator]=function(){return this},a;function d(D){return function(j){return Promise.resolve(j).then(D,E)}}function h(D,j){o[D]&&(a[D]=function(M){return new Promise(function(Z,W){c.push([D,M,Z,W])>1||p(D,M)})},j&&(a[D]=j(a[D])))}function p(D,j){try{m(o[D](j))}catch(M){b(c[0][3],M)}}function m(D){D.value instanceof xt?Promise.resolve(D.value.v).then(_,E):b(c[0][2],D)}function _(D){p("next",D)}function E(D){p("throw",D)}function b(D,j){D(j),c.shift(),c.length&&p(c[0][0],c[0][1])}}function ec(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t[Symbol.asyncIterator],i;return n?n.call(t):(t=typeof Qu=="function"?Qu(t):t[Symbol.iterator](),i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i);function o(c){i[c]=t[c]&&function(d){return new Promise(function(h,p){d=t[c](d),a(h,p,d.done,d.value)})}}function a(c,d,h,p){Promise.resolve(p).then(function(m){c({value:m,done:h})},d)}}var Lr=t=>t&&typeof t.length=="number"&&typeof t!="function";function Fr(t){return U(t?.then)}function Br(t){return U(t[Kt])}function jr(t){return Symbol.asyncIterator&&U(t?.[Symbol.asyncIterator])}function Vr(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function bp(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Hr=bp();function zr(t){return U(t?.[Hr])}function Ur(t){return Xu(this,arguments,function*(){let i=t.getReader();try{for(;;){let{value:o,done:a}=yield xt(i.read());if(a)return yield xt(void 0);yield yield xt(o)}}finally{i.releaseLock()}})}function $r(t){return U(t?.getReader)}function Te(t){if(t instanceof ue)return t;if(t!=null){if(Br(t))return Cp(t);if(Lr(t))return Tp(t);if(Fr(t))return Mp(t);if(jr(t))return tc(t);if(zr(t))return xp(t);if($r(t))return Sp(t)}throw Vr(t)}function Cp(t){return new ue(n=>{let i=t[Kt]();if(U(i.subscribe))return i.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Tp(t){return new ue(n=>{for(let i=0;i<t.length&&!n.closed;i++)n.next(t[i]);n.complete()})}function Mp(t){return new ue(n=>{t.then(i=>{n.closed||(n.next(i),n.complete())},i=>n.error(i)).then(null,Rr)})}function xp(t){return new ue(n=>{for(let i of t)if(n.next(i),n.closed)return;n.complete()})}function tc(t){return new ue(n=>{Np(t,n).catch(i=>n.error(i))})}function Sp(t){return tc(Ur(t))}function Np(t,n){var i,o,a,c;return Ju(this,void 0,void 0,function*(){try{for(i=ec(t);o=yield i.next(),!o.done;){let d=o.value;if(n.next(d),n.closed)return}}catch(d){a={error:d}}finally{try{o&&!o.done&&(c=i.return)&&(yield c.call(i))}finally{if(a)throw a.error}}n.complete()})}function Me(t,n,i,o=0,a=!1){let c=n.schedule(function(){i(),a?t.add(this.schedule(null,o)):this.unsubscribe()},o);if(t.add(c),!a)return c}function Zr(t,n=0){return _e((i,o)=>{i.subscribe(Ce(o,a=>Me(o,t,()=>o.next(a),n),()=>Me(o,t,()=>o.complete(),n),a=>Me(o,t,()=>o.error(a),n)))})}function Wr(t,n=0){return _e((i,o)=>{o.add(t.schedule(()=>i.subscribe(o),n))})}function nc(t,n){return Te(t).pipe(Wr(n),Zr(n))}function rc(t,n){return Te(t).pipe(Wr(n),Zr(n))}function ic(t,n){return new ue(i=>{let o=0;return n.schedule(function(){o===t.length?i.complete():(i.next(t[o++]),i.closed||this.schedule())})})}function oc(t,n){return new ue(i=>{let o;return Me(i,n,()=>{o=t[Hr](),Me(i,n,()=>{let a,c;try{({value:a,done:c}=o.next())}catch(d){i.error(d);return}c?i.complete():i.next(a)},0,!0)}),()=>U(o?.return)&&o.return()})}function Gr(t,n){if(!t)throw new Error("Iterable cannot be null");return new ue(i=>{Me(i,n,()=>{let o=t[Symbol.asyncIterator]();Me(i,n,()=>{o.next().then(a=>{a.done?i.complete():i.next(a.value)})},0,!0)})})}function sc(t,n){return Gr(Ur(t),n)}function ac(t,n){if(t!=null){if(Br(t))return nc(t,n);if(Lr(t))return ic(t,n);if(Fr(t))return rc(t,n);if(jr(t))return Gr(t,n);if(zr(t))return oc(t,n);if($r(t))return sc(t,n)}throw Vr(t)}function An(t,n){return n?ac(t,n):Te(t)}function qr(...t){let n=Ku(t);return An(t,n)}function $e(t,n){return _e((i,o)=>{let a=0;i.subscribe(Ce(o,c=>{o.next(t.call(n,c,a++))}))})}function uc(t,n,i,o,a,c,d,h){let p=[],m=0,_=0,E=!1,b=()=>{E&&!p.length&&!m&&n.complete()},D=M=>m<o?j(M):p.push(M),j=M=>{c&&n.next(M),m++;let Z=!1;Te(i(M,_++)).subscribe(Ce(n,W=>{a?.(W),c?D(W):n.next(W)},()=>{Z=!0},void 0,()=>{if(Z)try{for(m--;p.length&&m<o;){let W=p.shift();d?Me(n,d,()=>j(W)):j(W)}b()}catch(W){n.error(W)}}))};return t.subscribe(Ce(n,D,()=>{E=!0,b()})),()=>{h?.()}}function Yr(t,n,i=1/0){return U(n)?Yr((o,a)=>$e((c,d)=>n(o,c,a,d))(Te(t(o,a))),i):(typeof n=="number"&&(i=n),_e((o,a)=>uc(o,a,t,i)))}function Zo(t,n){return _e((i,o)=>{let a=0;i.subscribe(Ce(o,c=>t.call(n,c,a++)&&o.next(c)))})}function Wo(t,n){return U(n)?Yr(t,n,1):Yr(t,1)}function Kr(t){return _e((n,i)=>{try{n.subscribe(i)}finally{i.add(t)}})}function Go(t,n){return _e((i,o)=>{let a=null,c=0,d=!1,h=()=>d&&!a&&o.complete();i.subscribe(Ce(o,p=>{a?.unsubscribe();let m=0,_=c++;Te(t(p,_)).subscribe(a=Ce(o,E=>o.next(n?n(p,E,_,m++):E),()=>{a=null,h()}))},()=>{d=!0,h()}))})}var O=class extends Error{code;constructor(n,i){super(Pp(n,i)),this.code=n}};function Ap(t){return`NG0${Math.abs(t)}`}function Pp(t,n){return`${Ap(t)}${n?": "+n:""}`}function Zc(t){return{toString:t}.toString()}function X(t){for(let n in t)if(t[n]===X)return n;throw Error("Could not find renamed property on target object.")}function Le(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(Le).join(", ")}]`;if(t==null)return""+t;let n=t.overriddenName||t.name;if(n)return`${n}`;let i=t.toString();if(i==null)return""+i;let o=i.indexOf(`
`);return o>=0?i.slice(0,o):i}function cc(t,n){return t?n?`${t} ${n}`:t:n||""}var Rp=X({__forward_ref__:X});function Wc(t){return t.__forward_ref__=Wc,t.toString=function(){return Le(this())},t}function ke(t){return Op(t)?t():t}function Op(t){return typeof t=="function"&&t.hasOwnProperty(Rp)&&t.__forward_ref__===Wc}function J(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Un(t){return{providers:t.providers||[],imports:t.imports||[]}}function Os(t){return lc(t,Gc)||lc(t,qc)}function lc(t,n){return t.hasOwnProperty(n)?t[n]:null}function kp(t){let n=t&&(t[Gc]||t[qc]);return n||null}function dc(t){return t&&(t.hasOwnProperty(fc)||t.hasOwnProperty(Lp))?t[fc]:null}var Gc=X({\u0275prov:X}),fc=X({\u0275inj:X}),qc=X({ngInjectableDef:X}),Lp=X({ngInjectorDef:X}),A=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(n,i){this._desc=n,this.\u0275prov=void 0,typeof i=="number"?this.__NG_ELEMENT_ID__=i:i!==void 0&&(this.\u0275prov=J({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Yc(t){return t&&!!t.\u0275providers}var Fp=X({\u0275cmp:X}),Bp=X({\u0275dir:X}),jp=X({\u0275pipe:X});var hc=X({\u0275fac:X}),On=X({__NG_ELEMENT_ID__:X}),pc=X({__NG_ENV_ID__:X});function Vp(t){return typeof t=="string"?t:t==null?"":String(t)}function Hp(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Vp(t)}function Kc(t,n){throw new O(-200,t)}function ks(t,n){throw new O(-201,!1)}var F=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(F||{}),ts;function Qc(){return ts}function xe(t){let n=ts;return ts=t,n}function Jc(t,n,i){let o=Os(t);if(o&&o.providedIn=="root")return o.value===void 0?o.value=o.factory():o.value;if(i&F.Optional)return null;if(n!==void 0)return n;ks(t,"Injector")}var zp={},St=zp,Up="__NG_DI_FLAG__",ni=class{injector;constructor(n){this.injector=n}retrieve(n,i){let o=i;return this.injector.get(n,o.optional?Sr:St,o)}},ri="ngTempTokenPath",$p="ngTokenPath",Zp=/\n/gm,Wp="\u0275",gc="__source";function Gp(t,n=F.Default){if(xn()===void 0)throw new O(-203,!1);if(xn()===null)return Jc(t,void 0,n);{let i=xn(),o;return i instanceof ni?o=i.injector:o=i,o.get(t,n&F.Optional?null:void 0,n)}}function V(t,n=F.Default){return(Qc()||Gp)(ke(t),n)}function R(t,n=F.Default){return V(t,mi(n))}function mi(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function ns(t){let n=[];for(let i=0;i<t.length;i++){let o=ke(t[i]);if(Array.isArray(o)){if(o.length===0)throw new O(900,!1);let a,c=F.Default;for(let d=0;d<o.length;d++){let h=o[d],p=qp(h);typeof p=="number"?p===-1?a=h.token:c|=p:a=h}n.push(V(a,c))}else n.push(V(o))}return n}function qp(t){return t[Up]}function Yp(t,n,i,o){let a=t[ri];throw n[gc]&&a.unshift(n[gc]),t.message=Kp(`
`+t.message,a,i,o),t[$p]=a,t[ri]=null,t}function Kp(t,n,i,o=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==Wp?t.slice(2):t;let a=Le(n);if(Array.isArray(n))a=n.map(Le).join(" -> ");else if(typeof n=="object"){let c=[];for(let d in n)if(n.hasOwnProperty(d)){let h=n[d];c.push(d+":"+(typeof h=="string"?JSON.stringify(h):Le(h)))}a=`{${c.join(", ")}}`}return`${i}${o?"("+o+")":""}[${a}]: ${t.replace(Zp,`
  `)}`}function kn(t,n){let i=t.hasOwnProperty(hc);return i?t[hc]:null}function Ls(t,n){t.forEach(i=>Array.isArray(i)?Ls(i,n):n(i))}function Xc(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}var tn={},Ze=[],ii=new A(""),el=new A("",-1),tl=new A(""),oi=class{get(n,i=St){if(i===St){let o=new Error(`NullInjectorError: No provider for ${Le(n)}!`);throw o.name="NullInjectorError",o}return i}};function Fs(t){return t[Fp]||null}function Qp(t){return t[Bp]||null}function Jp(t){return t[jp]||null}function Bs(t){return{\u0275providers:t}}function Xp(...t){return{\u0275providers:nl(!0,t),\u0275fromNgModule:!0}}function nl(t,...n){let i=[],o=new Set,a,c=d=>{i.push(d)};return Ls(n,d=>{let h=d;rs(h,c,[],o)&&(a||=[],a.push(h))}),a!==void 0&&rl(a,c),i}function rl(t,n){for(let i=0;i<t.length;i++){let{ngModule:o,providers:a}=t[i];js(a,c=>{n(c,o)})}}function rs(t,n,i,o){if(t=ke(t),!t)return!1;let a=null,c=dc(t),d=!c&&Fs(t);if(!c&&!d){let p=t.ngModule;if(c=dc(p),c)a=p;else return!1}else{if(d&&!d.standalone)return!1;a=t}let h=o.has(a);if(d){if(h)return!1;if(o.add(a),d.dependencies){let p=typeof d.dependencies=="function"?d.dependencies():d.dependencies;for(let m of p)rs(m,n,i,o)}}else if(c){if(c.imports!=null&&!h){o.add(a);let m;try{Ls(c.imports,_=>{rs(_,n,i,o)&&(m||=[],m.push(_))})}finally{}m!==void 0&&rl(m,n)}if(!h){let m=kn(a)||(()=>new a);n({provide:a,useFactory:m,deps:Ze},a),n({provide:tl,useValue:a,multi:!0},a),n({provide:ii,useValue:()=>V(a),multi:!0},a)}let p=c.providers;if(p!=null&&!h){let m=t;js(p,_=>{n(_,m)})}}else return!1;return a!==t&&t.providers!==void 0}function js(t,n){for(let i of t)Yc(i)&&(i=i.\u0275providers),Array.isArray(i)?js(i,n):n(i)}var eg=X({provide:String,useValue:X});function il(t){return t!==null&&typeof t=="object"&&eg in t}function tg(t){return!!(t&&t.useExisting)}function ng(t){return!!(t&&t.useFactory)}function is(t){return typeof t=="function"}var vi=new A(""),Qr={},mc={},qo;function Vs(){return qo===void 0&&(qo=new oi),qo}var nt=class{},Ln=class extends nt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(n,i,o,a){super(),this.parent=i,this.source=o,this.scopes=a,ss(n,d=>this.processProvider(d)),this.records.set(el,Qt(void 0,this)),a.has("environment")&&this.records.set(nt,Qt(void 0,this));let c=this.records.get(vi);c!=null&&typeof c.value=="string"&&this.scopes.add(c.value),this.injectorDefTypes=new Set(this.get(tl,Ze,F.Self))}retrieve(n,i){let o=i;return this.get(n,o.optional?Sr:St,o)}destroy(){Rn(this),this._destroyed=!0;let n=G(null);try{for(let o of this._ngOnDestroyHooks)o.ngOnDestroy();let i=this._onDestroyHooks;this._onDestroyHooks=[];for(let o of i)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),G(n)}}onDestroy(n){return Rn(this),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){Rn(this);let i=tt(this),o=xe(void 0),a;try{return n()}finally{tt(i),xe(o)}}get(n,i=St,o=F.Default){if(Rn(this),n.hasOwnProperty(pc))return n[pc](this);o=mi(o);let a,c=tt(this),d=xe(void 0);try{if(!(o&F.SkipSelf)){let p=this.records.get(n);if(p===void 0){let m=ug(n)&&Os(n);m&&this.injectableDefInScope(m)?p=Qt(os(n),Qr):p=null,this.records.set(n,p)}if(p!=null)return this.hydrate(n,p,o)}let h=o&F.Self?Vs():this.parent;return i=o&F.Optional&&i===St?null:i,h.get(n,i)}catch(h){if(h.name==="NullInjectorError"){if((h[ri]=h[ri]||[]).unshift(Le(n)),c)throw h;return Yp(h,n,"R3InjectorError",this.source)}else throw h}finally{xe(d),tt(c)}}resolveInjectorInitializers(){let n=G(null),i=tt(this),o=xe(void 0),a;try{let c=this.get(ii,Ze,F.Self);for(let d of c)d()}finally{tt(i),xe(o),G(n)}}toString(){let n=[],i=this.records;for(let o of i.keys())n.push(Le(o));return`R3Injector[${n.join(", ")}]`}processProvider(n){n=ke(n);let i=is(n)?n:ke(n&&n.provide),o=ig(n);if(!is(n)&&n.multi===!0){let a=this.records.get(i);a||(a=Qt(void 0,Qr,!0),a.factory=()=>ns(a.multi),this.records.set(i,a)),i=n,a.multi.push(n)}this.records.set(i,o)}hydrate(n,i,o){let a=G(null);try{return i.value===mc?Kc(Le(n)):i.value===Qr&&(i.value=mc,i.value=i.factory(void 0,o)),typeof i.value=="object"&&i.value&&ag(i.value)&&this._ngOnDestroyHooks.add(i.value),i.value}finally{G(a)}}injectableDefInScope(n){if(!n.providedIn)return!1;let i=ke(n.providedIn);return typeof i=="string"?i==="any"||this.scopes.has(i):this.injectorDefTypes.has(i)}removeOnDestroy(n){let i=this._onDestroyHooks.indexOf(n);i!==-1&&this._onDestroyHooks.splice(i,1)}};function os(t){let n=Os(t),i=n!==null?n.factory:kn(t);if(i!==null)return i;if(t instanceof A)throw new O(204,!1);if(t instanceof Function)return rg(t);throw new O(204,!1)}function rg(t){if(t.length>0)throw new O(204,!1);let i=kp(t);return i!==null?()=>i.factory(t):()=>new t}function ig(t){if(il(t))return Qt(void 0,t.useValue);{let n=og(t);return Qt(n,Qr)}}function og(t,n,i){let o;if(is(t)){let a=ke(t);return kn(a)||os(a)}else if(il(t))o=()=>ke(t.useValue);else if(ng(t))o=()=>t.useFactory(...ns(t.deps||[]));else if(tg(t))o=(a,c)=>V(ke(t.useExisting),c!==void 0&&c&F.Optional?F.Optional:void 0);else{let a=ke(t&&(t.useClass||t.provide));if(sg(t))o=()=>new a(...ns(t.deps));else return kn(a)||os(a)}return o}function Rn(t){if(t.destroyed)throw new O(205,!1)}function Qt(t,n,i=!1){return{factory:t,value:n,multi:i?[]:void 0}}function sg(t){return!!t.deps}function ag(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function ug(t){return typeof t=="function"||typeof t=="object"&&t instanceof A}function ss(t,n){for(let i of t)Array.isArray(i)?ss(i,n):i&&Yc(i)?ss(i.\u0275providers,n):n(i)}function yi(t,n){let i;t instanceof Ln?(Rn(t),i=t):i=new ni(t);let o,a=tt(i),c=xe(void 0);try{return n()}finally{tt(a),xe(c)}}function cg(){return Qc()!==void 0||xn()!=null}var mt=0,Y=1,B=2,Fe=3,ut=4,vt=5,as=6,vc=7,Be=8,Fn=9,lt=10,dt=11,Bn=12,yc=13,$n=14,ft=15,si=16,Jt=17,Hs=18,_i=19,ol=20,ct=21,Yo=22,ai=23,Se=24,Ko=25,ht=26,sl=1;var us=7,lg=8,ui=9,Nt=10;function At(t){return Array.isArray(t)&&typeof t[sl]=="object"}function sn(t){return Array.isArray(t)&&t[sl]===!0}function al(t){return(t.flags&4)!==0}function zs(t){return t.componentOffset>-1}function dg(t){return(t.flags&1)===1}function Rt(t){return!!t.template}function ci(t){return(t[B]&512)!==0}function an(t){return(t[B]&256)===256}var cs=class{previousValue;currentValue;firstChange;constructor(n,i,o){this.previousValue=n,this.currentValue=i,this.firstChange=o}isFirstChange(){return this.firstChange}};function ul(t,n,i,o){n!==null?n.applyValueToInputSignal(n,o):t[i]=o}function fg(t){return t.type.prototype.ngOnChanges&&(t.setInput=pg),hg}function hg(){let t=ll(this),n=t?.current;if(n){let i=t.previous;if(i===tn)t.previous=n;else for(let o in n)i[o]=n[o];t.current=null,this.ngOnChanges(n)}}function pg(t,n,i,o,a){let c=this.declaredInputs[o],d=ll(t)||gg(t,{previous:tn,current:null}),h=d.current||(d.current={}),p=d.previous,m=p[c];h[c]=new cs(m&&m.currentValue,i,p===tn),ul(t,n,a,i)}var cl="__ngSimpleChanges__";function ll(t){return t[cl]||null}function gg(t,n){return t[cl]=n}var _c=null;var ee=function(t,n=null,i){_c?.(t,n,i)},mg="svg",vg="math";function Zn(t){for(;Array.isArray(t);)t=t[mt];return t}function Wn(t,n){return Zn(n[t.index])}function yg(t,n){return t.data[n]}function nn(t,n){let i=n[t];return At(i)?i:i[mt]}function Us(t){return(t[B]&128)===128}function Dc(t,n){return n==null?null:t[n]}function dl(t){t[Jt]=0}function fl(t){t[B]&1024||(t[B]|=1024,Us(t)&&wi(t))}function Di(t){return!!(t[B]&9216||t[Se]?.dirty)}function wc(t){t[lt].changeDetectionScheduler?.notify(8),t[B]&64&&(t[B]|=1024),Di(t)&&wi(t)}function wi(t){t[lt].changeDetectionScheduler?.notify(0);let n=rn(t);for(;n!==null&&!(n[B]&8192||(n[B]|=8192,!Us(n)));)n=rn(n)}function hl(t,n){if(an(t))throw new O(911,!1);t[ct]===null&&(t[ct]=[]),t[ct].push(n)}function _g(t,n){if(t[ct]===null)return;let i=t[ct].indexOf(n);i!==-1&&t[ct].splice(i,1)}function rn(t){let n=t[Fe];return sn(n)?n[Fe]:n}var K={lFrame:Dl(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var ls=!1;function Dg(){return K.lFrame.elementDepthCount}function wg(){K.lFrame.elementDepthCount++}function Eg(){K.lFrame.elementDepthCount--}function Ig(){return K.bindingsEnabled}function bg(){return K.skipHydrationRootTNode!==null}function Cg(t){return K.skipHydrationRootTNode===t}function Tg(){K.skipHydrationRootTNode=null}function pt(){return K.lFrame.lView}function $s(){return K.lFrame.tView}function Gn(){let t=pl();for(;t!==null&&t.type===64;)t=t.parent;return t}function pl(){return K.lFrame.currentTNode}function Mg(){let t=K.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}function Ei(t,n){let i=K.lFrame;i.currentTNode=t,i.isParent=n}function gl(){return K.lFrame.isParent}function xg(){K.lFrame.isParent=!1}function ml(){return ls}function Ec(t){let n=ls;return ls=t,n}function Sg(t){return K.lFrame.bindingIndex=t}function Ng(){return K.lFrame.inI18n}function Ag(t,n){let i=K.lFrame;i.bindingIndex=i.bindingRootIndex=t,ds(n)}function Pg(){return K.lFrame.currentDirectiveIndex}function ds(t){K.lFrame.currentDirectiveIndex=t}function vl(t){K.lFrame.currentQueryIndex=t}function Rg(t){let n=t[Y];return n.type===2?n.declTNode:n.type===1?t[vt]:null}function yl(t,n,i){if(i&F.SkipSelf){let a=n,c=t;for(;a=a.parent,a===null&&!(i&F.Host);)if(a=Rg(c),a===null||(c=c[$n],a.type&10))break;if(a===null)return!1;n=a,t=c}let o=K.lFrame=_l();return o.currentTNode=n,o.lView=t,!0}function Zs(t){let n=_l(),i=t[Y];K.lFrame=n,n.currentTNode=i.firstChild,n.lView=t,n.tView=i,n.contextLView=t,n.bindingIndex=i.bindingStartIndex,n.inI18n=!1}function _l(){let t=K.lFrame,n=t===null?null:t.child;return n===null?Dl(t):n}function Dl(t){let n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=n),n}function wl(){let t=K.lFrame;return K.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var El=wl;function Ws(){let t=wl();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Og(){return K.lFrame.selectedIndex}function Pt(t){K.lFrame.selectedIndex=t}function kg(){return K.lFrame.currentNamespace}var Il=!0;function bl(){return Il}function Cl(t){Il=t}function Lg(t,n,i){let{ngOnChanges:o,ngOnInit:a,ngDoCheck:c}=n.type.prototype;if(o){let d=fg(n);(i.preOrderHooks??=[]).push(t,d),(i.preOrderCheckHooks??=[]).push(t,d)}a&&(i.preOrderHooks??=[]).push(0-t,a),c&&((i.preOrderHooks??=[]).push(t,c),(i.preOrderCheckHooks??=[]).push(t,c))}function Fg(t,n){for(let i=n.directiveStart,o=n.directiveEnd;i<o;i++){let c=t.data[i].type.prototype,{ngAfterContentInit:d,ngAfterContentChecked:h,ngAfterViewInit:p,ngAfterViewChecked:m,ngOnDestroy:_}=c;d&&(t.contentHooks??=[]).push(-i,d),h&&((t.contentHooks??=[]).push(i,h),(t.contentCheckHooks??=[]).push(i,h)),p&&(t.viewHooks??=[]).push(-i,p),m&&((t.viewHooks??=[]).push(i,m),(t.viewCheckHooks??=[]).push(i,m)),_!=null&&(t.destroyHooks??=[]).push(i,_)}}function Jr(t,n,i){Tl(t,n,3,i)}function Xr(t,n,i,o){(t[B]&3)===i&&Tl(t,n,i,o)}function Qo(t,n){let i=t[B];(i&3)===n&&(i&=16383,i+=1,t[B]=i)}function Tl(t,n,i,o){let a=o!==void 0?t[Jt]&65535:0,c=o??-1,d=n.length-1,h=0;for(let p=a;p<d;p++)if(typeof n[p+1]=="number"){if(h=n[p],o!=null&&h>=o)break}else n[p]<0&&(t[Jt]+=65536),(h<c||c==-1)&&(Bg(t,i,n,p),t[Jt]=(t[Jt]&4294901760)+p+2),p++}function Ic(t,n){ee(4,t,n);let i=G(null);try{n.call(t)}finally{G(i),ee(5,t,n)}}function Bg(t,n,i,o){let a=i[o]<0,c=i[o+1],d=a?-i[o]:i[o],h=t[d];a?t[B]>>14<t[Jt]>>16&&(t[B]&3)===n&&(t[B]+=16384,Ic(h,c)):Ic(h,c)}var en=-1,jn=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(n,i,o){this.factory=n,this.canSeeViewProviders=i,this.injectImpl=o}};function jg(t){return(t.flags&8)!==0}function Vg(t){return(t.flags&16)!==0}function Hg(t,n,i){let o=0;for(;o<i.length;){let a=i[o];if(typeof a=="number"){if(a!==0)break;o++;let c=i[o++],d=i[o++],h=i[o++];t.setAttribute(n,d,h,c)}else{let c=a,d=i[++o];Ug(c)?t.setProperty(n,c,d):t.setAttribute(n,c,d),o++}}return o}function zg(t){return t===3||t===4||t===6}function Ug(t){return t.charCodeAt(0)===64}function Ml(t,n){if(!(n===null||n.length===0))if(t===null||t.length===0)t=n.slice();else{let i=-1;for(let o=0;o<n.length;o++){let a=n[o];typeof a=="number"?i=a:i===0||(i===-1||i===2?bc(t,i,a,null,n[++o]):bc(t,i,a,null,null))}}return t}function bc(t,n,i,o,a){let c=0,d=t.length;if(n===-1)d=-1;else for(;c<t.length;){let h=t[c++];if(typeof h=="number"){if(h===n){d=-1;break}else if(h>n){d=c-1;break}}}for(;c<t.length;){let h=t[c];if(typeof h=="number")break;if(h===i){a!==null&&(t[c+1]=a);return}c++,a!==null&&c++}d!==-1&&(t.splice(d,0,n),c=d+1),t.splice(c++,0,i),a!==null&&t.splice(c++,0,a)}function $g(t){return t!==en}function fs(t){return t&32767}function Zg(t){return t>>16}function hs(t,n){let i=Zg(t),o=n;for(;i>0;)o=o[$n],i--;return o}var ps=!0;function Cc(t){let n=ps;return ps=t,n}var Wg=256,xl=Wg-1,Sl=5,Gg=0,We={};function qg(t,n,i){let o;typeof i=="string"?o=i.charCodeAt(0)||0:i.hasOwnProperty(On)&&(o=i[On]),o==null&&(o=i[On]=Gg++);let a=o&xl,c=1<<a;n.data[t+(a>>Sl)]|=c}function Nl(t,n){let i=Al(t,n);if(i!==-1)return i;let o=n[Y];o.firstCreatePass&&(t.injectorIndex=n.length,Jo(o.data,t),Jo(n,null),Jo(o.blueprint,null));let a=Pl(t,n),c=t.injectorIndex;if($g(a)){let d=fs(a),h=hs(a,n),p=h[Y].data;for(let m=0;m<8;m++)n[c+m]=h[d+m]|p[d+m]}return n[c+8]=a,c}function Jo(t,n){t.push(0,0,0,0,0,0,0,0,n)}function Al(t,n){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||n[t.injectorIndex+8]===null?-1:t.injectorIndex}function Pl(t,n){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let i=0,o=null,a=n;for(;a!==null;){if(o=Fl(a),o===null)return en;if(i++,a=a[$n],o.injectorIndex!==-1)return o.injectorIndex|i<<16}return en}function Yg(t,n,i){qg(t,n,i)}function Rl(t,n,i){if(i&F.Optional||t!==void 0)return t;ks(n,"NodeInjector")}function Ol(t,n,i,o){if(i&F.Optional&&o===void 0&&(o=null),(i&(F.Self|F.Host))===0){let a=t[Fn],c=xe(void 0);try{return a?a.get(n,o,i&F.Optional):Jc(n,o,i&F.Optional)}finally{xe(c)}}return Rl(o,n,i)}function kl(t,n,i,o=F.Default,a){if(t!==null){if(n[B]&2048&&!(o&F.Self)){let d=em(t,n,i,o,We);if(d!==We)return d}let c=Ll(t,n,i,o,We);if(c!==We)return c}return Ol(n,i,o,a)}function Ll(t,n,i,o,a){let c=Jg(i);if(typeof c=="function"){if(!yl(n,t,o))return o&F.Host?Rl(a,i,o):Ol(n,i,o,a);try{let d;if(d=c(o),d==null&&!(o&F.Optional))ks(i);else return d}finally{El()}}else if(typeof c=="number"){let d=null,h=Al(t,n),p=en,m=o&F.Host?n[ft][vt]:null;for((h===-1||o&F.SkipSelf)&&(p=h===-1?Pl(t,n):n[h+8],p===en||!Mc(o,!1)?h=-1:(d=n[Y],h=fs(p),n=hs(p,n)));h!==-1;){let _=n[Y];if(Tc(c,h,_.data)){let E=Kg(h,n,i,d,o,m);if(E!==We)return E}p=n[h+8],p!==en&&Mc(o,n[Y].data[h+8]===m)&&Tc(c,h,n)?(d=_,h=fs(p),n=hs(p,n)):h=-1}}return a}function Kg(t,n,i,o,a,c){let d=n[Y],h=d.data[t+8],p=o==null?zs(h)&&ps:o!=d&&(h.type&3)!==0,m=a&F.Host&&c===h,_=Qg(h,d,i,p,m);return _!==null?gs(n,d,_,h,a):We}function Qg(t,n,i,o,a){let c=t.providerIndexes,d=n.data,h=c&1048575,p=t.directiveStart,m=t.directiveEnd,_=c>>20,E=o?h:h+_,b=a?h+_:m;for(let D=E;D<b;D++){let j=d[D];if(D<p&&i===j||D>=p&&j.type===i)return D}if(a){let D=d[p];if(D&&Rt(D)&&D.type===i)return p}return null}function gs(t,n,i,o,a){let c=t[i],d=n.data;if(c instanceof jn){let h=c;h.resolving&&Kc(Hp(d[i]));let p=Cc(h.canSeeViewProviders);h.resolving=!0;let m,_=h.injectImpl?xe(h.injectImpl):null,E=yl(t,o,F.Default);try{c=t[i]=h.factory(void 0,a,d,t,o),n.firstCreatePass&&i>=o.directiveStart&&Lg(i,d[i],n)}finally{_!==null&&xe(_),Cc(p),h.resolving=!1,El()}}return c}function Jg(t){if(typeof t=="string")return t.charCodeAt(0)||0;let n=t.hasOwnProperty(On)?t[On]:void 0;return typeof n=="number"?n>=0?n&xl:Xg:n}function Tc(t,n,i){let o=1<<t;return!!(i[n+(t>>Sl)]&o)}function Mc(t,n){return!(t&F.Self)&&!(t&F.Host&&n)}var li=class{_tNode;_lView;constructor(n,i){this._tNode=n,this._lView=i}get(n,i,o){return kl(this._tNode,this._lView,n,mi(o),i)}};function Xg(){return new li(Gn(),pt())}function em(t,n,i,o,a){let c=t,d=n;for(;c!==null&&d!==null&&d[B]&2048&&!ci(d);){let h=Ll(c,d,i,o|F.Self,We);if(h!==We)return h;let p=c.parent;if(!p){let m=d[ol];if(m){let _=m.get(i,We,o);if(_!==We)return _}p=Fl(d),d=d[$n]}c=p}return a}function Fl(t){let n=t[Y],i=n.type;return i===2?n.declTNode:i===1?t[vt]:null}function xc(t,n=null,i=null,o){let a=tm(t,n,i,o);return a.resolveInjectorInitializers(),a}function tm(t,n=null,i=null,o,a=new Set){let c=[i||Ze,Xp(t)];return o=o||(typeof t=="object"?void 0:Le(t)),new Ln(c,n||Vs(),o||null,a)}var Vn=class t{static THROW_IF_NOT_FOUND=St;static NULL=new oi;static create(n,i){if(Array.isArray(n))return xc({name:""},i,n,"");{let o=n.name??"";return xc({name:o},n.parent,n.providers,o)}}static \u0275prov=J({token:t,providedIn:"any",factory:()=>V(el)});static __NG_ELEMENT_ID__=-1};var nm=new A("");nm.__NG_ELEMENT_ID__=t=>{let n=Gn();if(n===null)throw new O(204,!1);if(n.type&2)return n.value;if(t&F.Optional)return null;throw new O(204,!1)};var Bl=!1,Gs=(()=>{class t{static __NG_ELEMENT_ID__=rm;static __NG_ENV_ID__=i=>i}return t})(),ms=class extends Gs{_lView;constructor(n){super(),this._lView=n}onDestroy(n){let i=this._lView;return an(i)?(n(),()=>{}):(hl(i,n),()=>_g(i,n))}};function rm(){return new ms(pt())}var Hn=class{},qs=new A("",{providedIn:"root",factory:()=>!1});var jl=new A(""),Vl=new A(""),Ot=(()=>{class t{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new Nn(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let i=this.taskId++;return this.pendingTasks.add(i),i}has(i){return this.pendingTasks.has(i)}remove(i){this.pendingTasks.delete(i),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=J({token:t,providedIn:"root",factory:()=>new t})}return t})();var vs=class extends Mt{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(n=!1){super(),this.__isAsync=n,cg()&&(this.destroyRef=R(Gs,{optional:!0})??void 0,this.pendingTasks=R(Ot,{optional:!0})??void 0)}emit(n){let i=G(null);try{super.next(n)}finally{G(i)}}subscribe(n,i,o){let a=n,c=i||(()=>null),d=o;if(n&&typeof n=="object"){let p=n;a=p.next?.bind(p),c=p.error?.bind(p),d=p.complete?.bind(p)}this.__isAsync&&(c=this.wrapInTimeout(c),a&&(a=this.wrapInTimeout(a)),d&&(d=this.wrapInTimeout(d)));let h=super.subscribe({next:a,error:c,complete:d});return n instanceof he&&n.add(h),h}wrapInTimeout(n){return i=>{let o=this.pendingTasks?.add();setTimeout(()=>{try{n(i)}finally{o!==void 0&&this.pendingTasks?.remove(o)}})}}},at=vs;function di(...t){}function Hl(t){let n,i;function o(){t=di;try{i!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(i),n!==void 0&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{t(),o()}),typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(()=>{t(),o()})),()=>o()}function Sc(t){return queueMicrotask(()=>t()),()=>{t=di}}var Ys="isAngularZone",fi=Ys+"_ID",im=0,de=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new at(!1);onMicrotaskEmpty=new at(!1);onStable=new at(!1);onError=new at(!1);constructor(n){let{enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:a=!1,scheduleInRootZone:c=Bl}=n;if(typeof Zone>"u")throw new O(908,!1);Zone.assertZonePatched();let d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!a&&o,d.shouldCoalesceRunChangeDetection=a,d.callbackScheduled=!1,d.scheduleInRootZone=c,am(d)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Ys)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new O(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new O(909,!1)}run(n,i,o){return this._inner.run(n,i,o)}runTask(n,i,o,a){let c=this._inner,d=c.scheduleEventTask("NgZoneEvent: "+a,n,om,di,di);try{return c.runTask(d,i,o)}finally{c.cancelTask(d)}}runGuarded(n,i,o){return this._inner.runGuarded(n,i,o)}runOutsideAngular(n){return this._outer.run(n)}},om={};function Ks(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function sm(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function n(){Hl(()=>{t.callbackScheduled=!1,ys(t),t.isCheckStableRunning=!0,Ks(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{n()}):t._outer.run(()=>{n()}),ys(t)}function am(t){let n=()=>{sm(t)},i=im++;t._inner=t._inner.fork({name:"angular",properties:{[Ys]:!0,[fi]:i,[fi+i]:!0},onInvokeTask:(o,a,c,d,h,p)=>{if(um(p))return o.invokeTask(c,d,h,p);try{return Nc(t),o.invokeTask(c,d,h,p)}finally{(t.shouldCoalesceEventChangeDetection&&d.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&n(),Ac(t)}},onInvoke:(o,a,c,d,h,p,m)=>{try{return Nc(t),o.invoke(c,d,h,p,m)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!cm(p)&&n(),Ac(t)}},onHasTask:(o,a,c,d)=>{o.hasTask(c,d),a===c&&(d.change=="microTask"?(t._hasPendingMicrotasks=d.microTask,ys(t),Ks(t)):d.change=="macroTask"&&(t.hasPendingMacrotasks=d.macroTask))},onHandleError:(o,a,c,d)=>(o.handleError(c,d),t.runOutsideAngular(()=>t.onError.emit(d)),!1)})}function ys(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Nc(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Ac(t){t._nesting--,Ks(t)}var _s=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new at;onMicrotaskEmpty=new at;onStable=new at;onError=new at;run(n,i,o){return n.apply(i,o)}runGuarded(n,i,o){return n.apply(i,o)}runOutsideAngular(n){return n()}runTask(n,i,o,a){return n.apply(i,o)}};function um(t){return zl(t,"__ignore_ng_zone__")}function cm(t){return zl(t,"__scheduler_tick__")}function zl(t,n){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[n]===!0}var gt=class{_console=console;handleError(n){this._console.error("ERROR",n)}},lm=new A("",{providedIn:"root",factory:()=>{let t=R(de),n=R(gt);return i=>t.runOutsideAngular(()=>n.handleError(i))}});function dm(){return Ul(Gn(),pt())}function Ul(t,n){return new $l(Wn(t,n))}var $l=(()=>{class t{nativeElement;constructor(i){this.nativeElement=i}static __NG_ELEMENT_ID__=dm}return t})();function fm(t){return(t.flags&128)===128}var Zl=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Zl||{}),Wl=new Map,hm=0;function pm(){return hm++}function gm(t){Wl.set(t[_i],t)}function Ds(t){Wl.delete(t[_i])}var Pc="__ngContext__";function Ii(t,n){At(n)?(t[Pc]=n[_i],gm(n)):t[Pc]=n}function Gl(t){return Yl(t[Bn])}function ql(t){return Yl(t[ut])}function Yl(t){for(;t!==null&&!sn(t);)t=t[ut];return t}var ws;function Kl(t){ws=t}function mm(){if(ws!==void 0)return ws;if(typeof document<"u")return document;throw new O(210,!1)}var Qs=new A("",{providedIn:"root",factory:()=>vm}),vm="ng",Js=new A(""),qn=new A("",{providedIn:"platform",factory:()=>"unknown"});var Xs=new A("",{providedIn:"root",factory:()=>mm().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var ym="h",_m="b";var Ql=!1,Dm=new A("",{providedIn:"root",factory:()=>Ql});var Jl=function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t}(Jl||{}),bi=new A(""),Rc=new Set;function Xl(t){Rc.has(t)||(Rc.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var wm=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=J({token:t,providedIn:"root",factory:()=>new t})}return t})();var Em=()=>null;function ed(t,n,i=!1){return Em(t,n,i)}function td(t,n){let i=t.contentQueries;if(i!==null){let o=G(null);try{for(let a=0;a<i.length;a+=2){let c=i[a],d=i[a+1];if(d!==-1){let h=t.data[d];vl(c),h.contentQueries(2,n[d],d)}}}finally{G(o)}}}function Es(t,n,i){vl(0);let o=G(null);try{n(t,i)}finally{G(o)}}function nd(t,n,i){if(al(n)){let o=G(null);try{let a=n.directiveStart,c=n.directiveEnd;for(let d=a;d<c;d++){let h=t.data[d];if(h.contentQueries){let p=i[d];h.contentQueries(1,p,d)}}}finally{G(o)}}}var Ge=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Ge||{});function Im(t,n,i){let o=t.length;for(;;){let a=t.indexOf(n,i);if(a===-1)return a;if(a===0||t.charCodeAt(a-1)<=32){let c=n.length;if(a+c===o||t.charCodeAt(a+c)<=32)return a}i=a+1}}var rd="ng-template";function bm(t,n,i,o){let a=0;if(o){for(;a<n.length&&typeof n[a]=="string";a+=2)if(n[a]==="class"&&Im(n[a+1].toLowerCase(),i,0)!==-1)return!0}else if(ea(t))return!1;if(a=n.indexOf(1,a),a>-1){let c;for(;++a<n.length&&typeof(c=n[a])=="string";)if(c.toLowerCase()===i)return!0}return!1}function ea(t){return t.type===4&&t.value!==rd}function Cm(t,n,i){let o=t.type===4&&!i?rd:t.value;return n===o}function Tm(t,n,i){let o=4,a=t.attrs,c=a!==null?Sm(a):0,d=!1;for(let h=0;h<n.length;h++){let p=n[h];if(typeof p=="number"){if(!d&&!Oe(o)&&!Oe(p))return!1;if(d&&Oe(p))continue;d=!1,o=p|o&1;continue}if(!d)if(o&4){if(o=2|o&1,p!==""&&!Cm(t,p,i)||p===""&&n.length===1){if(Oe(o))return!1;d=!0}}else if(o&8){if(a===null||!bm(t,a,p,i)){if(Oe(o))return!1;d=!0}}else{let m=n[++h],_=Mm(p,a,ea(t),i);if(_===-1){if(Oe(o))return!1;d=!0;continue}if(m!==""){let E;if(_>c?E="":E=a[_+1].toLowerCase(),o&2&&m!==E){if(Oe(o))return!1;d=!0}}}}return Oe(o)||d}function Oe(t){return(t&1)===0}function Mm(t,n,i,o){if(n===null)return-1;let a=0;if(o||!i){let c=!1;for(;a<n.length;){let d=n[a];if(d===t)return a;if(d===3||d===6)c=!0;else if(d===1||d===2){let h=n[++a];for(;typeof h=="string";)h=n[++a];continue}else{if(d===4)break;if(d===0){a+=4;continue}}a+=c?1:2}return-1}else return Nm(n,t)}function xm(t,n,i=!1){for(let o=0;o<n.length;o++)if(Tm(t,n[o],i))return!0;return!1}function Sm(t){for(let n=0;n<t.length;n++){let i=t[n];if(zg(i))return n}return t.length}function Nm(t,n){let i=t.indexOf(4);if(i>-1)for(i++;i<t.length;){let o=t[i];if(typeof o=="number")return-1;if(o===n)return i;i++}return-1}function Oc(t,n){return t?":not("+n.trim()+")":n}function Am(t){let n=t[0],i=1,o=2,a="",c=!1;for(;i<t.length;){let d=t[i];if(typeof d=="string")if(o&2){let h=t[++i];a+="["+d+(h.length>0?'="'+h+'"':"")+"]"}else o&8?a+="."+d:o&4&&(a+=" "+d);else a!==""&&!Oe(d)&&(n+=Oc(c,a),a=""),o=d,c=c||!Oe(o);i++}return a!==""&&(n+=Oc(c,a)),n}function Pm(t){return t.map(Am).join(",")}function Rm(t){let n=[],i=[],o=1,a=2;for(;o<t.length;){let c=t[o];if(typeof c=="string")a===2?c!==""&&n.push(c,t[++o]):a===8&&i.push(c);else{if(!Oe(a))break;a=c}o++}return i.length&&n.push(1,...i),n}var id={};function Om(t,n){return t.createText(n)}function od(t,n,i){return t.createElement(n,i)}function Is(t,n,i,o,a){t.insertBefore(n,i,o,a)}function sd(t,n,i){t.appendChild(n,i)}function kc(t,n,i,o,a){o!==null?Is(t,n,i,o,a):sd(t,n,i)}function km(t,n,i){t.removeChild(null,n,i)}function Lm(t,n,i){t.setAttribute(n,"style",i)}function Fm(t,n,i){i===""?t.removeAttribute(n,"class"):t.setAttribute(n,"class",i)}function ad(t,n,i){let{mergedAttrs:o,classes:a,styles:c}=i;o!==null&&Hg(t,n,o),a!==null&&Fm(t,n,a),c!==null&&Lm(t,n,c)}function ud(t,n,i,o,a,c,d,h,p,m,_){let E=ht+o,b=E+a,D=Bm(E,b),j=typeof m=="function"?m():m;return D[Y]={type:t,blueprint:D,template:i,queries:null,viewQuery:h,declTNode:n,data:D.slice().fill(null,E),bindingStartIndex:E,expandoStartIndex:b,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof c=="function"?c():c,pipeRegistry:typeof d=="function"?d():d,firstChild:null,schemas:p,consts:j,incompleteFirstPass:!1,ssrId:_}}function Bm(t,n){let i=[];for(let o=0;o<n;o++)i.push(o<t?null:id);return i}function jm(t){let n=t.tView;return n===null||n.incompleteFirstPass?t.tView=ud(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function cd(t,n,i,o,a,c,d,h,p,m,_){let E=n.blueprint.slice();return E[mt]=a,E[B]=o|4|128|8|64|1024,(m!==null||t&&t[B]&2048)&&(E[B]|=2048),dl(E),E[Fe]=E[$n]=t,E[Be]=i,E[lt]=d||t&&t[lt],E[dt]=h||t&&t[dt],E[Fn]=p||t&&t[Fn]||null,E[vt]=c,E[_i]=pm(),E[as]=_,E[ol]=m,E[ft]=n.type==2?t[ft]:E,E}function Vm(t,n,i){let o=Wn(n,t),a=jm(i),c=t[lt].rendererFactory,d=Hm(t,cd(t,a,null,ld(i),o,n,null,c.createRenderer(o,i),null,null,null));return t[n.index]=d}function ld(t){let n=16;return t.signals?n=4096:t.onPush&&(n=64),n}function dd(t,n,i,o){if(i===0)return-1;let a=n.length;for(let c=0;c<i;c++)n.push(o),t.blueprint.push(o),t.data.push(null);return a}function Hm(t,n){return t[Bn]?t[yc][ut]=n:t[Bn]=n,t[yc]=n,n}function zm(t,n,i,o){if(!o)if((n[B]&3)===3){let c=t.preOrderCheckHooks;c!==null&&Jr(n,c,i)}else{let c=t.preOrderHooks;c!==null&&Xr(n,c,0,i)}Pt(i)}var Ci=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Ci||{});function bs(t,n,i,o){let a=G(null);try{let[c,d,h]=t.inputs[i],p=null;(d&Ci.SignalBased)!==0&&(p=n[c][Mn]),p!==null&&p.transformFn!==void 0?o=p.transformFn(o):h!==null&&(o=h.call(n,o)),t.setInput!==null?t.setInput(n,p,o,i,c):ul(n,p,c,o)}finally{G(a)}}function fd(t,n,i,o,a){let c=Og(),d=o&2;try{Pt(-1),d&&n.length>ht&&zm(t,n,ht,!1),ee(d?2:0,a),i(o,a)}finally{Pt(c),ee(d?3:1,a)}}function hd(t,n,i){Gm(t,n,i),(i.flags&64)===64&&qm(t,n,i)}function Um(t,n,i=Wn){let o=n.localNames;if(o!==null){let a=n.index+1;for(let c=0;c<o.length;c+=2){let d=o[c+1],h=d===-1?i(n,t):t[d];t[a++]=h}}}function $m(t,n,i,o){let c=o.get(Dm,Ql)||i===Ge.ShadowDom,d=t.selectRootElement(n,c);return Zm(d),d}function Zm(t){Wm(t)}var Wm=()=>null;function Gm(t,n,i){let o=i.directiveStart,a=i.directiveEnd;zs(i)&&Vm(n,i,t.data[o+i.componentOffset]),t.firstCreatePass||Nl(i,n);let c=i.initialInputs;for(let d=o;d<a;d++){let h=t.data[d],p=gs(n,t,d,i);if(Ii(p,n),c!==null&&Qm(n,d-o,p,h,i,c),Rt(h)){let m=nn(i.index,n);m[Be]=gs(n,t,d,i)}}}function qm(t,n,i){let o=i.directiveStart,a=i.directiveEnd,c=i.index,d=Pg();try{Pt(c);for(let h=o;h<a;h++){let p=t.data[h],m=n[h];ds(h),(p.hostBindings!==null||p.hostVars!==0||p.hostAttrs!==null)&&Ym(p,m)}}finally{Pt(-1),ds(d)}}function Ym(t,n){t.hostBindings!==null&&t.hostBindings(1,n)}function Km(t,n){let i=t.directiveRegistry,o=null;if(i)for(let a=0;a<i.length;a++){let c=i[a];xm(n,c.selectors,!1)&&(o??=[],Rt(c)?o.unshift(c):o.push(c))}return o}function Qm(t,n,i,o,a,c){let d=c[n];if(d!==null)for(let h=0;h<d.length;h+=2){let p=d[h],m=d[h+1];bs(o,i,p,m)}}function Jm(t,n){let i=t[Fn],o=i?i.get(gt,null):null;o&&o.handleError(n)}function pd(t,n,i,o,a){let c=t.inputs?.[o],d=t.hostDirectiveInputs?.[o],h=!1;if(d)for(let p=0;p<d.length;p+=2){let m=d[p],_=d[p+1],E=n.data[m];bs(E,i[m],_,a),h=!0}if(c)for(let p of c){let m=i[p],_=n.data[p];bs(_,m,o,a),h=!0}return h}function Xm(t,n){let i=nn(n,t),o=i[Y];ev(o,i);let a=i[mt];a!==null&&i[as]===null&&(i[as]=ed(a,i[Fn])),ee(18),gd(o,i,i[Be]),ee(19,i[Be])}function ev(t,n){for(let i=n.length;i<t.blueprint.length;i++)n.push(t.blueprint[i])}function gd(t,n,i){Zs(n);try{let o=t.viewQuery;o!==null&&Es(1,o,i);let a=t.template;a!==null&&fd(t,n,a,1,i),t.firstCreatePass&&(t.firstCreatePass=!1),n[Hs]?.finishViewCreation(t),t.staticContentQueries&&td(t,n),t.staticViewQueries&&Es(2,t.viewQuery,i);let c=t.components;c!==null&&tv(n,c)}catch(o){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),o}finally{n[B]&=-5,Ws()}}function tv(t,n){for(let i=0;i<n.length;i++)Xm(t,n[i])}var nv;function md(t,n){return nv(t,n)}var un=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(un||{});function vd(t){return(t.flags&32)===32}function Xt(t,n,i,o,a){if(o!=null){let c,d=!1;sn(o)?c=o:At(o)&&(d=!0,o=o[mt]);let h=Zn(o);t===0&&i!==null?a==null?sd(n,i,h):Is(n,i,h,a||null,!0):t===1&&i!==null?Is(n,i,h,a||null,!0):t===2?km(n,h,d):t===3&&n.destroyNode(h),c!=null&&gv(n,t,c,i,a)}}function rv(t,n){yd(t,n),n[mt]=null,n[vt]=null}function yd(t,n){n[lt].changeDetectionScheduler?.notify(9),ra(t,n,n[dt],2,null,null)}function iv(t){let n=t[Bn];if(!n)return Xo(t[Y],t);for(;n;){let i=null;if(At(n))i=n[Bn];else{let o=n[Nt];o&&(i=o)}if(!i){for(;n&&!n[ut]&&n!==t;)At(n)&&Xo(n[Y],n),n=n[Fe];n===null&&(n=t),At(n)&&Xo(n[Y],n),i=n&&n[ut]}n=i}}function ta(t,n){let i=t[ui],o=i.indexOf(n);i.splice(o,1)}function ov(t,n){if(an(n))return;let i=n[dt];i.destroyNode&&ra(t,n,i,3,null,null),iv(n)}function Xo(t,n){if(an(n))return;let i=G(null);try{n[B]&=-129,n[B]|=256,n[Se]&&Po(n[Se]),av(t,n),sv(t,n),n[Y].type===1&&n[dt].destroy();let o=n[si];if(o!==null&&sn(n[Fe])){o!==n[Fe]&&ta(o,n);let a=n[Hs];a!==null&&a.detachView(t)}Ds(n)}finally{G(i)}}function sv(t,n){let i=t.cleanup,o=n[vc];if(i!==null)for(let d=0;d<i.length-1;d+=2)if(typeof i[d]=="string"){let h=i[d+3];h>=0?o[h]():o[-h].unsubscribe(),d+=2}else{let h=o[i[d+1]];i[d].call(h)}o!==null&&(n[vc]=null);let a=n[ct];if(a!==null){n[ct]=null;for(let d=0;d<a.length;d++){let h=a[d];h()}}let c=n[ai];if(c!==null){n[ai]=null;for(let d of c)d.destroy()}}function av(t,n){let i;if(t!=null&&(i=t.destroyHooks)!=null)for(let o=0;o<i.length;o+=2){let a=n[i[o]];if(!(a instanceof jn)){let c=i[o+1];if(Array.isArray(c))for(let d=0;d<c.length;d+=2){let h=a[c[d]],p=c[d+1];ee(4,h,p);try{p.call(h)}finally{ee(5,h,p)}}else{ee(4,a,c);try{c.call(a)}finally{ee(5,a,c)}}}}}function uv(t,n,i){return cv(t,n.parent,i)}function cv(t,n,i){let o=n;for(;o!==null&&o.type&168;)n=o,o=n.parent;if(o===null)return i[mt];if(zs(o)){let{encapsulation:a}=t.data[o.directiveStart+o.componentOffset];if(a===Ge.None||a===Ge.Emulated)return null}return Wn(o,i)}function lv(t,n,i){return fv(t,n,i)}function dv(t,n,i){return t.type&40?Wn(t,i):null}var fv=dv,Lc;function _d(t,n,i,o){let a=uv(t,o,n),c=n[dt],d=o.parent||n[vt],h=lv(d,o,n);if(a!=null)if(Array.isArray(i))for(let p=0;p<i.length;p++)kc(c,a,i[p],h,!1);else kc(c,a,i,h,!1);Lc!==void 0&&Lc(c,o,n,i,a)}function hv(t,n){if(n!==null){let o=t[ft][vt],a=n.projection;return o.projection[a]}return null}function na(t,n,i,o,a,c,d){for(;i!=null;){if(i.type===128){i=i.next;continue}let h=o[i.index],p=i.type;if(d&&n===0&&(h&&Ii(Zn(h),o),i.flags|=2),!vd(i))if(p&8)na(t,n,i.child,o,a,c,!1),Xt(n,t,a,h,c);else if(p&32){let m=md(i,o),_;for(;_=m();)Xt(n,t,a,_,c);Xt(n,t,a,h,c)}else p&16?pv(t,n,o,i,a,c):Xt(n,t,a,h,c);i=d?i.projectionNext:i.next}}function ra(t,n,i,o,a,c){na(i,o,t.firstChild,n,a,c,!1)}function pv(t,n,i,o,a,c){let d=i[ft],p=d[vt].projection[o.projection];if(Array.isArray(p))for(let m=0;m<p.length;m++){let _=p[m];Xt(n,t,a,_,c)}else{let m=p,_=d[Fe];fm(o)&&(m.flags|=128),na(t,n,m,_,a,c,!0)}}function gv(t,n,i,o,a){let c=i[us],d=Zn(i);c!==d&&Xt(n,t,o,c,a);for(let h=Nt;h<i.length;h++){let p=i[h];ra(p[Y],p,t,n,o,c)}}function hi(t,n,i,o,a=!1){for(;i!==null;){if(i.type===128){i=a?i.projectionNext:i.next;continue}let c=n[i.index];c!==null&&o.push(Zn(c)),sn(c)&&mv(c,o);let d=i.type;if(d&8)hi(t,n,i.child,o);else if(d&32){let h=md(i,n),p;for(;p=h();)o.push(p)}else if(d&16){let h=hv(n,i);if(Array.isArray(h))o.push(...h);else{let p=rn(n[ft]);hi(p[Y],p,h,o,!0)}}i=a?i.projectionNext:i.next}return o}function mv(t,n){for(let i=Nt;i<t.length;i++){let o=t[i],a=o[Y].firstChild;a!==null&&hi(o[Y],o,a,n)}t[us]!==t[mt]&&n.push(t[us])}function Dd(t){if(t[Ko]!==null){for(let n of t[Ko])n.impl.addSequence(n);t[Ko].length=0}}var wd=[];function vv(t){return t[Se]??yv(t)}function yv(t){let n=wd.pop()??Object.create(Dv);return n.lView=t,n}function _v(t){t.lView[Se]!==t&&(t.lView=null,wd.push(t))}var Dv=Ue(ye({},So),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{wi(t.lView)},consumerOnSignalRead(){this.lView[Se]=this}});function wv(t){let n=t[Se]??Object.create(Ev);return n.lView=t,n}var Ev=Ue(ye({},So),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let n=rn(t.lView);for(;n&&!Ed(n[Y]);)n=rn(n);n&&fl(n)},consumerOnSignalRead(){this.lView[Se]=this}});function Ed(t){return t.type!==2}function Id(t){if(t[ai]===null)return;let n=!0;for(;n;){let i=!1;for(let o of t[ai])o.dirty&&(i=!0,o.zone===null||Zone.current===o.zone?o.run():o.zone.run(()=>o.run()));n=i&&!!(t[B]&8192)}}var Iv=100;function bd(t,n=!0,i=0){let a=t[lt].rendererFactory,c=!1;c||a.begin?.();try{bv(t,i)}catch(d){throw n&&Jm(t,d),d}finally{c||a.end?.()}}function bv(t,n){let i=ml();try{Ec(!0),Cs(t,n);let o=0;for(;Di(t);){if(o===Iv)throw new O(103,!1);o++,Cs(t,1)}}finally{Ec(i)}}function Cv(t,n,i,o){if(an(n))return;let a=n[B],c=!1,d=!1;Zs(n);let h=!0,p=null,m=null;c||(Ed(t)?(m=vv(n),p=No(m)):xo()===null?(h=!1,m=wv(n),p=No(m)):n[Se]&&(Po(n[Se]),n[Se]=null));try{dl(n),Sg(t.bindingStartIndex),i!==null&&fd(t,n,i,2,o);let _=(a&3)===3;if(!c)if(_){let D=t.preOrderCheckHooks;D!==null&&Jr(n,D,null)}else{let D=t.preOrderHooks;D!==null&&Xr(n,D,0,null),Qo(n,0)}if(d||Tv(n),Id(n),Cd(n,0),t.contentQueries!==null&&td(t,n),!c)if(_){let D=t.contentCheckHooks;D!==null&&Jr(n,D)}else{let D=t.contentHooks;D!==null&&Xr(n,D,1),Qo(n,1)}xv(t,n);let E=t.components;E!==null&&Md(n,E,0);let b=t.viewQuery;if(b!==null&&Es(2,b,o),!c)if(_){let D=t.viewCheckHooks;D!==null&&Jr(n,D)}else{let D=t.viewHooks;D!==null&&Xr(n,D,2),Qo(n,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),n[Yo]){for(let D of n[Yo])D();n[Yo]=null}c||(Dd(n),n[B]&=-73)}catch(_){throw c||wi(n),_}finally{m!==null&&(ju(m,p),h&&_v(m)),Ws()}}function Cd(t,n){for(let i=Gl(t);i!==null;i=ql(i))for(let o=Nt;o<i.length;o++){let a=i[o];Td(a,n)}}function Tv(t){for(let n=Gl(t);n!==null;n=ql(n)){if(!(n[B]&2))continue;let i=n[ui];for(let o=0;o<i.length;o++){let a=i[o];fl(a)}}}function Mv(t,n,i){ee(18);let o=nn(n,t);Td(o,i),ee(19,o[Be])}function Td(t,n){Us(t)&&Cs(t,n)}function Cs(t,n){let o=t[Y],a=t[B],c=t[Se],d=!!(n===0&&a&16);if(d||=!!(a&64&&n===0),d||=!!(a&1024),d||=!!(c?.dirty&&Ao(c)),d||=!1,c&&(c.dirty=!1),t[B]&=-9217,d)Cv(o,t,o.template,t[Be]);else if(a&8192){Id(t),Cd(t,1);let h=o.components;h!==null&&Md(t,h,1),Dd(t)}}function Md(t,n,i){for(let o=0;o<n.length;o++)Mv(t,n[o],i)}function xv(t,n){let i=t.hostBindingOpCodes;if(i!==null)try{for(let o=0;o<i.length;o++){let a=i[o];if(a<0)Pt(~a);else{let c=a,d=i[++o],h=i[++o];Ag(d,c);let p=n[c];ee(24,p),h(2,p),ee(25,p)}}}finally{Pt(-1)}}function xd(t,n){let i=ml()?64:1088;for(t[lt].changeDetectionScheduler?.notify(n);t;){t[B]|=i;let o=rn(t);if(ci(t)&&!o)return t;t=o}return null}function Sv(t,n){if(t.length<=Nt)return;let i=Nt+n,o=t[i];if(o){let a=o[si];a!==null&&a!==t&&ta(a,o),n>0&&(t[i-1][ut]=o[ut]);let c=Xc(t,Nt+n);rv(o[Y],o);let d=c[Hs];d!==null&&d.detachView(c[Y]),o[Fe]=null,o[ut]=null,o[B]&=-129}return o}function Nv(t,n){let i=t[ui],o=n[Fe];if(At(o))t[B]|=2;else{let a=o[Fe][ft];n[ft]!==a&&(t[B]|=2)}i===null?t[ui]=[n]:i.push(n)}var Av=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let n=this._lView,i=n[Y];return hi(i,n,i.firstChild,[])}constructor(n,i,o=!0){this._lView=n,this._cdRefInjectingView=i,this.notifyErrorHandler=o}get context(){return this._lView[Be]}set context(n){this._lView[Be]=n}get destroyed(){return an(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let n=this._lView[Fe];if(sn(n)){let i=n[lg],o=i?i.indexOf(this):-1;o>-1&&(Sv(n,o),Xc(i,o))}this._attachedToViewContainer=!1}ov(this._lView[Y],this._lView)}onDestroy(n){hl(this._lView,n)}markForCheck(){xd(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[B]&=-129}reattach(){wc(this._lView),this._lView[B]|=128}detectChanges(){this._lView[B]|=1024,bd(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new O(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let n=ci(this._lView),i=this._lView[si];i!==null&&!n&&ta(i,this._lView),yd(this._lView[Y],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new O(902,!1);this._appRef=n;let i=ci(this._lView),o=this._lView[si];o!==null&&!i&&Nv(o,this._lView),wc(this._lView)}};function Sd(t,n,i,o,a){let c=t.data[n];if(c===null)c=Pv(t,n,i,o,a),Ng()&&(c.flags|=32);else if(c.type&64){c.type=i,c.value=o,c.attrs=a;let d=Mg();c.injectorIndex=d===null?-1:d.injectorIndex}return Ei(c,!0),c}function Pv(t,n,i,o,a){let c=pl(),d=gl(),h=d?c:c&&c.parent,p=t.data[n]=Ov(t,h,i,n,o,a);return Rv(t,p,c,d),p}function Rv(t,n,i,o){t.firstChild===null&&(t.firstChild=n),i!==null&&(o?i.child==null&&n.parent!==null&&(i.child=n):i.next===null&&(i.next=n,n.prev=i))}function Ov(t,n,i,o,a,c){let d=n?n.injectorIndex:-1,h=0;return bg()&&(h|=128),{type:i,index:o,insertBeforeIndex:null,injectorIndex:d,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:h,providerIndexes:0,value:a,attrs:c,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var iI=new RegExp(`^(\\d+)*(${_m}|${ym})*(.*)`);var kv=class{},Nd=class{},Ts=class{resolveComponentFactory(n){throw Error(`No component factory found for ${Le(n)}.`)}},ia=class{static NULL=new Ts},on=class{};var Lv=(()=>{class t{static \u0275prov=J({token:t,providedIn:"root",factory:()=>null})}return t})();var es={},Ms=class{injector;parentInjector;constructor(n,i){this.injector=n,this.parentInjector=i}get(n,i,o){o=mi(o);let a=this.injector.get(n,es,o);return a!==es||i===es?a:this.parentInjector.get(n,i,o)}};function Fc(t,n,i){let o=i?t.styles:null,a=i?t.classes:null,c=0;if(n!==null)for(let d=0;d<n.length;d++){let h=n[d];if(typeof h=="number")c=h;else if(c==1)a=cc(a,h);else if(c==2){let p=h,m=n[++d];o=cc(o,p+": "+m+";")}}i?t.styles=o:t.stylesWithoutHost=o,i?t.classes=a:t.classesWithoutHost=a}function Ti(t,n=F.Default){let i=pt();if(i===null)return V(t,n);let o=Gn();return kl(o,i,ke(t),n)}function Fv(t,n,i,o,a){let c=o===null?null:{"":-1},d=a(t,i);if(d!==null){let h,p=null,m=null,_=jv(d);_===null?h=d:[h,p,m]=_,zv(t,n,i,h,c,p,m)}c!==null&&o!==null&&Bv(i,o,c)}function Bv(t,n,i){let o=t.localNames=[];for(let a=0;a<n.length;a+=2){let c=i[n[a+1]];if(c==null)throw new O(-301,!1);o.push(n[a],c)}}function jv(t){let n=null,i=!1;for(let d=0;d<t.length;d++){let h=t[d];if(d===0&&Rt(h)&&(n=h),h.findHostDirectiveDefs!==null){i=!0;break}}if(!i)return null;let o=null,a=null,c=null;for(let d of t)d.findHostDirectiveDefs!==null&&(o??=[],a??=new Map,c??=new Map,Vv(d,o,c,a)),d===n&&(o??=[],o.push(d));return o!==null?(o.push(...n===null?t:t.slice(1)),[o,a,c]):null}function Vv(t,n,i,o){let a=n.length;t.findHostDirectiveDefs(t,n,o),i.set(t,[a,n.length-1])}function Hv(t,n,i){n.componentOffset=i,(t.components??=[]).push(n.index)}function zv(t,n,i,o,a,c,d){let h=o.length,p=!1;for(let b=0;b<h;b++){let D=o[b];!p&&Rt(D)&&(p=!0,Hv(t,i,b)),Yg(Nl(i,n),t,D.type)}qv(i,t.data.length,h);for(let b=0;b<h;b++){let D=o[b];D.providersResolver&&D.providersResolver(D)}let m=!1,_=!1,E=dd(t,n,h,null);h>0&&(i.directiveToIndex=new Map);for(let b=0;b<h;b++){let D=o[b];if(i.mergedAttrs=Ml(i.mergedAttrs,D.hostAttrs),$v(t,i,n,E,D),Gv(E,D,a),d!==null&&d.has(D)){let[M,Z]=d.get(D);i.directiveToIndex.set(D.type,[E,M+i.directiveStart,Z+i.directiveStart])}else(c===null||!c.has(D))&&i.directiveToIndex.set(D.type,E);D.contentQueries!==null&&(i.flags|=4),(D.hostBindings!==null||D.hostAttrs!==null||D.hostVars!==0)&&(i.flags|=64);let j=D.type.prototype;!m&&(j.ngOnChanges||j.ngOnInit||j.ngDoCheck)&&((t.preOrderHooks??=[]).push(i.index),m=!0),!_&&(j.ngOnChanges||j.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(i.index),_=!0),E++}Uv(t,i,c)}function Uv(t,n,i){for(let o=n.directiveStart;o<n.directiveEnd;o++){let a=t.data[o];if(i===null||!i.has(a))Bc(0,n,a,o),Bc(1,n,a,o),Vc(n,o,!1);else{let c=i.get(a);jc(0,n,c,o),jc(1,n,c,o),Vc(n,o,!0)}}}function Bc(t,n,i,o){let a=t===0?i.inputs:i.outputs;for(let c in a)if(a.hasOwnProperty(c)){let d;t===0?d=n.inputs??={}:d=n.outputs??={},d[c]??=[],d[c].push(o),Ad(n,c)}}function jc(t,n,i,o){let a=t===0?i.inputs:i.outputs;for(let c in a)if(a.hasOwnProperty(c)){let d=a[c],h;t===0?h=n.hostDirectiveInputs??={}:h=n.hostDirectiveOutputs??={},h[d]??=[],h[d].push(o,c),Ad(n,d)}}function Ad(t,n){n==="class"?t.flags|=8:n==="style"&&(t.flags|=16)}function Vc(t,n,i){let{attrs:o,inputs:a,hostDirectiveInputs:c}=t;if(o===null||!i&&a===null||i&&c===null||ea(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let d=null,h=0;for(;h<o.length;){let p=o[h];if(p===0){h+=4;continue}else if(p===5){h+=2;continue}else if(typeof p=="number")break;if(!i&&a.hasOwnProperty(p)){let m=a[p];for(let _ of m)if(_===n){d??=[],d.push(p,o[h+1]);break}}else if(i&&c.hasOwnProperty(p)){let m=c[p];for(let _=0;_<m.length;_+=2)if(m[_]===n){d??=[],d.push(m[_+1],o[h+1]);break}}h+=2}t.initialInputs??=[],t.initialInputs.push(d)}function $v(t,n,i,o,a){t.data[o]=a;let c=a.factory||(a.factory=kn(a.type,!0)),d=new jn(c,Rt(a),Ti);t.blueprint[o]=d,i[o]=d,Zv(t,n,o,dd(t,i,a.hostVars,id),a)}function Zv(t,n,i,o,a){let c=a.hostBindings;if(c){let d=t.hostBindingOpCodes;d===null&&(d=t.hostBindingOpCodes=[]);let h=~n.index;Wv(d)!=h&&d.push(h),d.push(i,o,c)}}function Wv(t){let n=t.length;for(;n>0;){let i=t[--n];if(typeof i=="number"&&i<0)return i}return 0}function Gv(t,n,i){if(i){if(n.exportAs)for(let o=0;o<n.exportAs.length;o++)i[n.exportAs[o]]=t;Rt(n)&&(i[""]=t)}}function qv(t,n,i){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+i,t.providerIndexes=n}function Pd(t,n,i,o,a,c,d,h){let p=n.consts,m=Dc(p,d),_=Sd(n,t,2,o,m);return c&&Fv(n,i,_,Dc(p,h),a),_.mergedAttrs=Ml(_.mergedAttrs,_.attrs),_.attrs!==null&&Fc(_,_.attrs,!1),_.mergedAttrs!==null&&Fc(_,_.mergedAttrs,!0),n.queries!==null&&n.queries.elementStart(n,_),_}function Rd(t,n){Fg(t,n),al(n)&&t.queries.elementEnd(n)}var xs=class extends ia{ngModule;constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){let i=Fs(n);return new Ss(i,this.ngModule)}};function Yv(t){return Object.keys(t).map(n=>{let[i,o,a]=t[n],c={propName:i,templateName:n,isSignal:(o&Ci.SignalBased)!==0};return a&&(c.transform=a),c})}function Kv(t){return Object.keys(t).map(n=>({propName:t[n],templateName:n}))}function Qv(t,n,i){let o=n instanceof nt?n:n?.injector;return o&&t.getStandaloneInjector!==null&&(o=t.getStandaloneInjector(o)||o),o?new Ms(i,o):i}function Jv(t){let n=t.get(on,null);if(n===null)throw new O(407,!1);let i=t.get(Lv,null),o=t.get(Hn,null);return{rendererFactory:n,sanitizer:i,changeDetectionScheduler:o}}function Xv(t,n){let i=(t.selectors[0][0]||"div").toLowerCase();return od(n,i,i==="svg"?mg:i==="math"?vg:null)}var Ss=class extends Nd{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=Yv(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=Kv(this.componentDef.outputs),this.cachedOutputs}constructor(n,i){super(),this.componentDef=n,this.ngModule=i,this.componentType=n.type,this.selector=Pm(n.selectors),this.ngContentSelectors=n.ngContentSelectors??[],this.isBoundToModule=!!i}create(n,i,o,a){ee(22);let c=G(null);try{let d=this.componentDef,h=o?["ng-version","19.2.14"]:Rm(this.componentDef.selectors[0]),p=ud(0,null,null,1,0,null,null,null,null,[h],null),m=Qv(d,a||this.ngModule,n),_=Jv(m),E=_.rendererFactory.createRenderer(null,d),b=o?$m(E,o,d.encapsulation,m):Xv(d,E),D=cd(null,p,null,512|ld(d),null,null,_,E,m,null,ed(b,m,!0));D[ht]=b,Zs(D);let j=null;try{let M=Pd(ht,p,D,"#host",()=>[this.componentDef],!0,0);b&&(ad(E,b,M),Ii(b,D)),hd(p,D,M),nd(p,M,D),Rd(p,M),i!==void 0&&ey(M,this.ngContentSelectors,i),j=nn(M.index,D),D[Be]=j[Be],gd(p,D,null)}catch(M){throw j!==null&&Ds(j),Ds(D),M}finally{ee(23),Ws()}return new Ns(this.componentType,D)}finally{G(c)}}},Ns=class extends kv{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(n,i){super(),this._rootLView=i,this._tNode=yg(i[Y],ht),this.location=Ul(this._tNode,i),this.instance=nn(this._tNode.index,i)[Be],this.hostView=this.changeDetectorRef=new Av(i,void 0,!1),this.componentType=n}setInput(n,i){let o=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),i))return;let a=this._rootLView,c=pd(o,a[Y],a,n,i);this.previousInputValues.set(n,i);let d=nn(o.index,a);xd(d,1)}get injector(){return new li(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}};function ey(t,n,i){let o=t.projection=[];for(let a=0;a<n.length;a++){let c=i[a];o.push(c!=null&&c.length?Array.from(c):null)}}var As=class{};var pi=class extends As{injector;componentFactoryResolver=new xs(this);instance=null;constructor(n){super();let i=new Ln([...n.providers,{provide:As,useValue:this},{provide:ia,useValue:this.componentFactoryResolver}],n.parent||Vs(),n.debugName,new Set(["environment"]));this.injector=i,n.runEnvironmentInitializers&&i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}};function ty(t,n,i=null){return new pi({providers:t,parent:n,debugName:i,runEnvironmentInitializers:!0}).injector}var ny=(()=>{class t{_injector;cachedInjectors=new Map;constructor(i){this._injector=i}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){let o=nl(!1,i.type),a=o.length>0?ty([o],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,a)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(let i of this.cachedInjectors.values())i!==null&&i.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=J({token:t,providedIn:"environment",factory:()=>new t(V(nt))})}return t})();function Od(t){return Zc(()=>{let n=ay(t),i=Ue(ye({},n),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Zl.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:n.standalone?a=>a.get(ny).getOrCreateStandaloneInjector(i):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Ge.Emulated,styles:t.styles||Ze,_:null,schemas:t.schemas||null,tView:null,id:""});n.standalone&&Xl("NgStandalone"),uy(i);let o=t.dependencies;return i.directiveDefs=Hc(o,!1),i.pipeDefs=Hc(o,!0),i.id=cy(i),i})}function ry(t){return Fs(t)||Qp(t)}function iy(t){return t!==null}function Yn(t){return Zc(()=>({type:t.type,bootstrap:t.bootstrap||Ze,declarations:t.declarations||Ze,imports:t.imports||Ze,exports:t.exports||Ze,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function oy(t,n){if(t==null)return tn;let i={};for(let o in t)if(t.hasOwnProperty(o)){let a=t[o],c,d,h,p;Array.isArray(a)?(h=a[0],c=a[1],d=a[2]??c,p=a[3]||null):(c=a,d=a,h=Ci.None,p=null),i[c]=[o,h,p],n[c]=d}return i}function sy(t){if(t==null)return tn;let n={};for(let i in t)t.hasOwnProperty(i)&&(n[t[i]]=i);return n}function ay(t){let n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputConfig:t.inputs||tn,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||Ze,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:oy(t.inputs,n),outputs:sy(t.outputs),debugInfo:null}}function uy(t){t.features?.forEach(n=>n(t))}function Hc(t,n){if(!t)return null;let i=n?Jp:ry;return()=>(typeof t=="function"?t():t).map(o=>i(o)).filter(iy)}function cy(t){let n=0,i=typeof t.consts=="function"?"":t.consts,o=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,i,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let c of o.join("|"))n=Math.imul(31,n)+c.charCodeAt(0)<<0;return n+=2147483648,"c"+n}var kd=new A("");var ly=(()=>{class t{static \u0275prov=J({token:t,providedIn:"root",factory:()=>new Ps})}return t})(),Ps=class{queuedEffectCount=0;queues=new Map;schedule(n){this.enqueue(n)}remove(n){let i=n.zone,o=this.queues.get(i);o.has(n)&&(o.delete(n),this.queuedEffectCount--)}enqueue(n){let i=n.zone;this.queues.has(i)||this.queues.set(i,new Set);let o=this.queues.get(i);o.has(n)||(this.queuedEffectCount++,o.add(n))}flush(){for(;this.queuedEffectCount>0;)for(let[n,i]of this.queues)n===null?this.flushQueue(i):n.run(()=>this.flushQueue(i))}flushQueue(n){for(let i of n)n.delete(i),this.queuedEffectCount--,i.run()}};function Ld(t){return!!t&&typeof t.then=="function"}function dy(t){return!!t&&typeof t.subscribe=="function"}var fy=new A("");var Fd=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((i,o)=>{this.resolve=i,this.reject=o});appInits=R(fy,{optional:!0})??[];injector=R(Vn);constructor(){}runInitializers(){if(this.initialized)return;let i=[];for(let a of this.appInits){let c=yi(this.injector,a);if(Ld(c))i.push(c);else if(dy(c)){let d=new Promise((h,p)=>{c.subscribe({complete:h,error:p})});i.push(d)}}let o=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{o()}).catch(a=>{this.reject(a)}),i.length===0&&o(),this.initialized=!0}static \u0275fac=function(o){return new(o||t)};static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),hy=new A("");function py(){Lo(()=>{throw new O(600,!1)})}function gy(t){return t.isBoundToModule}var my=10;var zn=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=R(lm);afterRenderManager=R(wm);zonelessEnabled=R(qs);rootEffectScheduler=R(ly);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new Mt;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=R(Ot).hasPendingTasks.pipe($e(i=>!i));constructor(){R(bi,{optional:!0})}whenStable(){let i;return new Promise(o=>{i=this.isStable.subscribe({next:a=>{a&&o()}})}).finally(()=>{i.unsubscribe()})}_injector=R(nt);_rendererFactory=null;get injector(){return this._injector}bootstrap(i,o){return this.bootstrapImpl(i,o)}bootstrapImpl(i,o,a=Vn.NULL){ee(10);let c=i instanceof Nd;if(!this._injector.get(Fd).done){let D="";throw new O(405,D)}let h;c?h=i:h=this._injector.get(ia).resolveComponentFactory(i),this.componentTypes.push(h.componentType);let p=gy(h)?void 0:this._injector.get(As),m=o||h.selector,_=h.create(a,[],m,p),E=_.location.nativeElement,b=_.injector.get(kd,null);return b?.registerApplication(E),_.onDestroy(()=>{this.detachView(_.hostView),ei(this.components,_),b?.unregisterApplication(E)}),this._loadComponent(_),ee(11,_),_}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){ee(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Jl.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new O(101,!1);let i=G(null);try{this._runningTick=!0,this.synchronize()}catch(o){this.internalErrorHandler(o)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,G(i),this.afterTick.next(),ee(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(on,null,{optional:!0}));let i=0;for(;this.dirtyFlags!==0&&i++<my;)ee(14),this.synchronizeOnce(),ee(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let i=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:o,notifyErrorHandler:a}of this.allViews)vy(o,a,i,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:i})=>Di(i))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(i){let o=i;this._views.push(o),o.attachToAppRef(this)}detachView(i){let o=i;ei(this._views,o),o.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i),this._injector.get(hy,[]).forEach(a=>a(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>ei(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new O(406,!1);let i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(o){return new(o||t)};static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ei(t,n){let i=t.indexOf(n);i>-1&&t.splice(i,1)}function vy(t,n,i,o){if(!i&&!Di(t))return;bd(t,n,i&&!o?0:1)}function zc(t,n,i,o,a){pd(n,t,i,a?"class":"style",o)}function Mi(t,n,i,o){let a=pt(),c=$s(),d=ht+t,h=a[dt],p=c.firstCreatePass?Pd(d,c,a,n,Km,Ig(),i,o):c.data[d],m=yy(c,a,p,h,n,t);a[d]=m;let _=dg(p);return Ei(p,!0),ad(h,m,p),!vd(p)&&bl()&&_d(c,a,m,p),(Dg()===0||_)&&Ii(m,a),wg(),_&&(hd(c,a,p),nd(c,p,a)),o!==null&&Um(a,p),Mi}function xi(){let t=Gn();gl()?xg():(t=t.parent,Ei(t,!1));let n=t;Cg(n)&&Tg(),Eg();let i=$s();return i.firstCreatePass&&Rd(i,n),n.classesWithoutHost!=null&&jg(n)&&zc(i,n,pt(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&Vg(n)&&zc(i,n,pt(),n.stylesWithoutHost,!1),xi}function oa(t,n,i,o){return Mi(t,n,i,o),xi(),oa}var yy=(t,n,i,o,a,c)=>(Cl(!0),od(o,a,kg()));var gi="en-US";var _y=gi;function Dy(t){typeof t=="string"&&(_y=t.toLowerCase().replace(/_/g,"-"))}function Bd(t,n=""){let i=pt(),o=$s(),a=t+ht,c=o.firstCreatePass?Sd(o,a,1,n,null):o.data[a],d=wy(o,i,c,n,t);i[a]=d,bl()&&_d(o,i,d,c),Ei(c,!1)}var wy=(t,n,i,o,a)=>(Cl(!0),Om(n[dt],o));var Ey=(()=>{class t{zone=R(de);changeDetectionScheduler=R(Hn);applicationRef=R(zn);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(o){return new(o||t)};static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Iy=new A("",{factory:()=>!1});function jd({ngZoneFactory:t,ignoreChangesOutsideZone:n,scheduleInRootZone:i}){return t??=()=>new de(Ue(ye({},Hd()),{scheduleInRootZone:i})),[{provide:de,useFactory:t},{provide:ii,multi:!0,useFactory:()=>{let o=R(Ey,{optional:!0});return()=>o.initialize()}},{provide:ii,multi:!0,useFactory:()=>{let o=R(by);return()=>{o.initialize()}}},n===!0?{provide:jl,useValue:!0}:[],{provide:Vl,useValue:i??Bl}]}function Vd(t){let n=t?.ignoreChangesOutsideZone,i=t?.scheduleInRootZone,o=jd({ngZoneFactory:()=>{let a=Hd(t);return a.scheduleInRootZone=i,a.shouldCoalesceEventChangeDetection&&Xl("NgZone_CoalesceEvent"),new de(a)},ignoreChangesOutsideZone:n,scheduleInRootZone:i});return Bs([{provide:Iy,useValue:!0},{provide:qs,useValue:!1},o])}function Hd(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var by=(()=>{class t{subscription=new he;initialized=!1;zone=R(de);pendingTasks=R(Ot);initialize(){if(this.initialized)return;this.initialized=!0;let i=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(i=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{de.assertNotInAngularZone(),queueMicrotask(()=>{i!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(i),i=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{de.assertInAngularZone(),i??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(o){return new(o||t)};static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Cy=(()=>{class t{appRef=R(zn);taskService=R(Ot);ngZone=R(de);zonelessEnabled=R(qs);tracing=R(bi,{optional:!0});disableScheduling=R(jl,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new he;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(fi):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(R(Vl,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof _s||!this.zoneIsDefined)}notify(i){if(!this.zonelessEnabled&&i===5)return;let o=!1;switch(i){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,o=!0;break}case 12:{this.appRef.dirtyFlags|=16,o=!0;break}case 13:{this.appRef.dirtyFlags|=2,o=!0;break}case 11:{o=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(o))return;let a=this.useMicrotaskScheduler?Sc:Hl;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>a(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>a(()=>this.tick()))}shouldScheduleTick(i){return!(this.disableScheduling&&!i||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(fi+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let i=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(o){throw this.taskService.remove(i),o}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Sc(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(i)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let i=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(i)}}static \u0275fac=function(o){return new(o||t)};static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Ty(){return typeof $localize<"u"&&$localize.locale||gi}var zd=new A("",{providedIn:"root",factory:()=>R(zd,F.Optional|F.SkipSelf)||Ty()});var Rs=new A(""),My=new A("");function Pn(t){return!t.moduleRef}function xy(t){let n=Pn(t)?t.r3Injector:t.moduleRef.injector,i=n.get(de);return i.run(()=>{Pn(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let o=n.get(gt,null),a;if(i.runOutsideAngular(()=>{a=i.onError.subscribe({next:c=>{o.handleError(c)}})}),Pn(t)){let c=()=>n.destroy(),d=t.platformInjector.get(Rs);d.add(c),n.onDestroy(()=>{a.unsubscribe(),d.delete(c)})}else{let c=()=>t.moduleRef.destroy(),d=t.platformInjector.get(Rs);d.add(c),t.moduleRef.onDestroy(()=>{ei(t.allPlatformModules,t.moduleRef),a.unsubscribe(),d.delete(c)})}return Ny(o,i,()=>{let c=n.get(Fd);return c.runInitializers(),c.donePromise.then(()=>{let d=n.get(zd,gi);if(Dy(d||gi),!n.get(My,!0))return Pn(t)?n.get(zn):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(Pn(t)){let p=n.get(zn);return t.rootComponent!==void 0&&p.bootstrap(t.rootComponent),p}else return Sy(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function Sy(t,n){let i=t.injector.get(zn);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(o=>i.bootstrap(o));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(i);else throw new O(-403,!1);n.push(t)}function Ny(t,n,i){try{let o=i();return Ld(o)?o.catch(a=>{throw n.runOutsideAngular(()=>t.handleError(a)),a}):o}catch(o){throw n.runOutsideAngular(()=>t.handleError(o)),o}}var ti=null;function Ay(t=[],n){return Vn.create({name:n,providers:[{provide:vi,useValue:"platform"},{provide:Rs,useValue:new Set([()=>ti=null])},...t]})}function Py(t=[]){if(ti)return ti;let n=Ay(t);return ti=n,py(),Ry(n),n}function Ry(t){let n=t.get(Js,null);yi(t,()=>{n?.forEach(i=>i())})}function Ud(t){ee(8);try{let{rootComponent:n,appProviders:i,platformProviders:o}=t,a=Py(o),c=[jd({}),{provide:Hn,useExisting:Cy},...i||[]],d=new pi({providers:c,parent:a,debugName:"",runEnvironmentInitializers:!1});return xy({r3Injector:d.injector,platformInjector:a,rootComponent:n})}catch(n){return Promise.reject(n)}finally{ee(9)}}var Uc=class{[Mn];constructor(n){this[Mn]=n}destroy(){this[Mn].destroy()}};var Ne=new A("");var $d=null;function Jn(){return $d}function sa(t){$d??=t}var Qn=class{};var Si=(()=>{class t{static \u0275fac=function(o){return new(o||t)};static \u0275mod=Yn({type:t});static \u0275inj=Un({})}return t})();function Xn(t,n){n=encodeURIComponent(n);for(let i of t.split(";")){let o=i.indexOf("="),[a,c]=o==-1?[i,""]:[i.slice(0,o),i.slice(o+1)];if(a.trim()===n)return decodeURIComponent(c)}return null}var aa="browser",Zd="server";function Ni(t){return t===Zd}var kt=class{};var Ri=new A(""),da=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(i,o){this._zone=o,i.forEach(a=>{a.manager=this}),this._plugins=i.slice().reverse()}addEventListener(i,o,a,c){return this._findPluginFor(o).addEventListener(i,o,a,c)}getZone(){return this._zone}_findPluginFor(i){let o=this._eventNameToPlugin.get(i);if(o)return o;if(o=this._plugins.find(c=>c.supports(i)),!o)throw new O(5101,!1);return this._eventNameToPlugin.set(i,o),o}static \u0275fac=function(o){return new(o||t)(V(Ri),V(de))};static \u0275prov=J({token:t,factory:t.\u0275fac})}return t})(),er=class{_doc;constructor(n){this._doc=n}manager},Ai="ng-app-id";function Wd(t){for(let n of t)n.remove()}function Gd(t,n){let i=n.createElement("style");return i.textContent=t,i}function ky(t,n,i,o){let a=t.head?.querySelectorAll(`style[${Ai}="${n}"],link[${Ai}="${n}"]`);if(a)for(let c of a)c.removeAttribute(Ai),c instanceof HTMLLinkElement?o.set(c.href.slice(c.href.lastIndexOf("/")+1),{usage:0,elements:[c]}):c.textContent&&i.set(c.textContent,{usage:0,elements:[c]})}function ca(t,n){let i=n.createElement("link");return i.setAttribute("rel","stylesheet"),i.setAttribute("href",t),i}var fa=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(i,o,a,c={}){this.doc=i,this.appId=o,this.nonce=a,this.isServer=Ni(c),ky(i,o,this.inline,this.external),this.hosts.add(i.head)}addStyles(i,o){for(let a of i)this.addUsage(a,this.inline,Gd);o?.forEach(a=>this.addUsage(a,this.external,ca))}removeStyles(i,o){for(let a of i)this.removeUsage(a,this.inline);o?.forEach(a=>this.removeUsage(a,this.external))}addUsage(i,o,a){let c=o.get(i);c?c.usage++:o.set(i,{usage:1,elements:[...this.hosts].map(d=>this.addElement(d,a(i,this.doc)))})}removeUsage(i,o){let a=o.get(i);a&&(a.usage--,a.usage<=0&&(Wd(a.elements),o.delete(i)))}ngOnDestroy(){for(let[,{elements:i}]of[...this.inline,...this.external])Wd(i);this.hosts.clear()}addHost(i){this.hosts.add(i);for(let[o,{elements:a}]of this.inline)a.push(this.addElement(i,Gd(o,this.doc)));for(let[o,{elements:a}]of this.external)a.push(this.addElement(i,ca(o,this.doc)))}removeHost(i){this.hosts.delete(i)}addElement(i,o){return this.nonce&&o.setAttribute("nonce",this.nonce),this.isServer&&o.setAttribute(Ai,this.appId),i.appendChild(o)}static \u0275fac=function(o){return new(o||t)(V(Ne),V(Qs),V(Xs,8),V(qn))};static \u0275prov=J({token:t,factory:t.\u0275fac})}return t})(),ua={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},ha=/%COMP%/g;var Yd="%COMP%",Ly=`_nghost-${Yd}`,Fy=`_ngcontent-${Yd}`,By=!0,jy=new A("",{providedIn:"root",factory:()=>By});function Vy(t){return Fy.replace(ha,t)}function Hy(t){return Ly.replace(ha,t)}function Kd(t,n){return n.map(i=>i.replace(ha,t))}var pa=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(i,o,a,c,d,h,p,m=null,_=null){this.eventManager=i,this.sharedStylesHost=o,this.appId=a,this.removeStylesOnCompDestroy=c,this.doc=d,this.platformId=h,this.ngZone=p,this.nonce=m,this.tracingService=_,this.platformIsServer=Ni(h),this.defaultRenderer=new tr(i,d,p,this.platformIsServer,this.tracingService)}createRenderer(i,o){if(!i||!o)return this.defaultRenderer;this.platformIsServer&&o.encapsulation===Ge.ShadowDom&&(o=Ue(ye({},o),{encapsulation:Ge.Emulated}));let a=this.getOrCreateRenderer(i,o);return a instanceof Pi?a.applyToHost(i):a instanceof nr&&a.applyStyles(),a}getOrCreateRenderer(i,o){let a=this.rendererByCompId,c=a.get(o.id);if(!c){let d=this.doc,h=this.ngZone,p=this.eventManager,m=this.sharedStylesHost,_=this.removeStylesOnCompDestroy,E=this.platformIsServer,b=this.tracingService;switch(o.encapsulation){case Ge.Emulated:c=new Pi(p,m,o,this.appId,_,d,h,E,b);break;case Ge.ShadowDom:return new la(p,m,i,o,d,h,this.nonce,E,b);default:c=new nr(p,m,o,_,d,h,E,b);break}a.set(o.id,c)}return c}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(i){this.rendererByCompId.delete(i)}static \u0275fac=function(o){return new(o||t)(V(da),V(fa),V(Qs),V(jy),V(Ne),V(qn),V(de),V(Xs),V(bi,8))};static \u0275prov=J({token:t,factory:t.\u0275fac})}return t})(),tr=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(n,i,o,a,c){this.eventManager=n,this.doc=i,this.ngZone=o,this.platformIsServer=a,this.tracingService=c}destroy(){}destroyNode=null;createElement(n,i){return i?this.doc.createElementNS(ua[i]||i,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,i){(qd(n)?n.content:n).appendChild(i)}insertBefore(n,i,o){n&&(qd(n)?n.content:n).insertBefore(i,o)}removeChild(n,i){i.remove()}selectRootElement(n,i){let o=typeof n=="string"?this.doc.querySelector(n):n;if(!o)throw new O(-5104,!1);return i||(o.textContent=""),o}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,i,o,a){if(a){i=a+":"+i;let c=ua[a];c?n.setAttributeNS(c,i,o):n.setAttribute(i,o)}else n.setAttribute(i,o)}removeAttribute(n,i,o){if(o){let a=ua[o];a?n.removeAttributeNS(a,i):n.removeAttribute(`${o}:${i}`)}else n.removeAttribute(i)}addClass(n,i){n.classList.add(i)}removeClass(n,i){n.classList.remove(i)}setStyle(n,i,o,a){a&(un.DashCase|un.Important)?n.style.setProperty(i,o,a&un.Important?"important":""):n.style[i]=o}removeStyle(n,i,o){o&un.DashCase?n.style.removeProperty(i):n.style[i]=""}setProperty(n,i,o){n!=null&&(n[i]=o)}setValue(n,i){n.nodeValue=i}listen(n,i,o,a){if(typeof n=="string"&&(n=Jn().getGlobalEventTarget(this.doc,n),!n))throw new O(5102,!1);let c=this.decoratePreventDefault(o);return this.tracingService?.wrapEventListener&&(c=this.tracingService.wrapEventListener(n,i,c)),this.eventManager.addEventListener(n,i,c,a)}decoratePreventDefault(n){return i=>{if(i==="__ngUnwrap__")return n;(this.platformIsServer?this.ngZone.runGuarded(()=>n(i)):n(i))===!1&&i.preventDefault()}}};function qd(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var la=class extends tr{sharedStylesHost;hostEl;shadowRoot;constructor(n,i,o,a,c,d,h,p,m){super(n,c,d,p,m),this.sharedStylesHost=i,this.hostEl=o,this.shadowRoot=o.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let _=a.styles;_=Kd(a.id,_);for(let b of _){let D=document.createElement("style");h&&D.setAttribute("nonce",h),D.textContent=b,this.shadowRoot.appendChild(D)}let E=a.getExternalStyles?.();if(E)for(let b of E){let D=ca(b,c);h&&D.setAttribute("nonce",h),this.shadowRoot.appendChild(D)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,i){return super.appendChild(this.nodeOrShadowRoot(n),i)}insertBefore(n,i,o){return super.insertBefore(this.nodeOrShadowRoot(n),i,o)}removeChild(n,i){return super.removeChild(null,i)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},nr=class extends tr{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(n,i,o,a,c,d,h,p,m){super(n,c,d,h,p),this.sharedStylesHost=i,this.removeStylesOnCompDestroy=a;let _=o.styles;this.styles=m?Kd(m,_):_,this.styleUrls=o.getExternalStyles?.(m)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Pi=class extends nr{contentAttr;hostAttr;constructor(n,i,o,a,c,d,h,p,m){let _=a+"-"+o.id;super(n,i,o,c,d,h,p,m,_),this.contentAttr=Vy(_),this.hostAttr=Hy(_)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,i){let o=super.createElement(n,i);return super.setAttribute(o,this.contentAttr,""),o}};var Oi=class t extends Qn{supportsDOMEvents=!0;static makeCurrent(){sa(new t)}onAndCancel(n,i,o,a){return n.addEventListener(i,o,a),()=>{n.removeEventListener(i,o,a)}}dispatchEvent(n,i){n.dispatchEvent(i)}remove(n){n.remove()}createElement(n,i){return i=i||this.getDefaultDocument(),i.createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,i){return i==="window"?window:i==="document"?n:i==="body"?n.body:null}getBaseHref(n){let i=zy();return i==null?null:Uy(i)}resetBaseElement(){rr=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return Xn(document.cookie,n)}},rr=null;function zy(){return rr=rr||document.head.querySelector("base"),rr?rr.getAttribute("href"):null}function Uy(t){return new URL(t,document.baseURI).pathname}var $y=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(o){return new(o||t)};static \u0275prov=J({token:t,factory:t.\u0275fac})}return t})(),Jd=(()=>{class t extends er{constructor(i){super(i)}supports(i){return!0}addEventListener(i,o,a,c){return i.addEventListener(o,a,c),()=>this.removeEventListener(i,o,a,c)}removeEventListener(i,o,a,c){return i.removeEventListener(o,a,c)}static \u0275fac=function(o){return new(o||t)(V(Ne))};static \u0275prov=J({token:t,factory:t.\u0275fac})}return t})(),Qd=["alt","control","meta","shift"],Zy={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Wy={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},Xd=(()=>{class t extends er{constructor(i){super(i)}supports(i){return t.parseEventName(i)!=null}addEventListener(i,o,a,c){let d=t.parseEventName(o),h=t.eventCallback(d.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Jn().onAndCancel(i,d.domEventName,h,c))}static parseEventName(i){let o=i.toLowerCase().split("."),a=o.shift();if(o.length===0||!(a==="keydown"||a==="keyup"))return null;let c=t._normalizeKey(o.pop()),d="",h=o.indexOf("code");if(h>-1&&(o.splice(h,1),d="code."),Qd.forEach(m=>{let _=o.indexOf(m);_>-1&&(o.splice(_,1),d+=m+".")}),d+=c,o.length!=0||c.length===0)return null;let p={};return p.domEventName=a,p.fullKey=d,p}static matchEventFullKeyCode(i,o){let a=Zy[i.key]||i.key,c="";return o.indexOf("code.")>-1&&(a=i.code,c="code."),a==null||!a?!1:(a=a.toLowerCase(),a===" "?a="space":a==="."&&(a="dot"),Qd.forEach(d=>{if(d!==a){let h=Wy[d];h(i)&&(c+=d+".")}}),c+=a,c===o)}static eventCallback(i,o,a){return c=>{t.matchEventFullKeyCode(c,i)&&a.runGuarded(()=>o(c))}}static _normalizeKey(i){return i==="esc"?"escape":i}static \u0275fac=function(o){return new(o||t)(V(Ne))};static \u0275prov=J({token:t,factory:t.\u0275fac})}return t})();function ga(t,n){return Ud(ye({rootComponent:t},Gy(n)))}function Gy(t){return{appProviders:[...Jy,...t?.providers??[]],platformProviders:Qy}}function qy(){Oi.makeCurrent()}function Yy(){return new gt}function Ky(){return Kl(document),document}var Qy=[{provide:qn,useValue:aa},{provide:Js,useValue:qy,multi:!0},{provide:Ne,useFactory:Ky}];var Jy=[{provide:vi,useValue:"root"},{provide:gt,useFactory:Yy},{provide:Ri,useClass:Jd,multi:!0,deps:[Ne]},{provide:Ri,useClass:Xd,multi:!0,deps:[Ne]},pa,fa,da,{provide:on,useExisting:pa},{provide:kt,useClass:$y},[]];var ln=class{},ir=class{},yt=class t{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(n){n?typeof n=="string"?this.lazyInit=()=>{this.headers=new Map,n.split(`
`).forEach(i=>{let o=i.indexOf(":");if(o>0){let a=i.slice(0,o),c=i.slice(o+1).trim();this.addHeaderEntry(a,c)}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((i,o)=>{this.addHeaderEntry(o,i)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([i,o])=>{this.setHeaderEntries(i,o)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();let i=this.headers.get(n.toLowerCase());return i&&i.length>0?i[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,i){return this.clone({name:n,value:i,op:"a"})}set(n,i){return this.clone({name:n,value:i,op:"s"})}delete(n,i){return this.clone({name:n,value:i,op:"d"})}maybeSetNormalizedName(n,i){this.normalizedNames.has(i)||this.normalizedNames.set(i,n)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(i=>{this.headers.set(i,n.headers.get(i)),this.normalizedNames.set(i,n.normalizedNames.get(i))})}clone(n){let i=new t;return i.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,i.lazyUpdate=(this.lazyUpdate||[]).concat([n]),i}applyUpdate(n){let i=n.name.toLowerCase();switch(n.op){case"a":case"s":let o=n.value;if(typeof o=="string"&&(o=[o]),o.length===0)return;this.maybeSetNormalizedName(n.name,i);let a=(n.op==="a"?this.headers.get(i):void 0)||[];a.push(...o),this.headers.set(i,a);break;case"d":let c=n.value;if(!c)this.headers.delete(i),this.normalizedNames.delete(i);else{let d=this.headers.get(i);if(!d)return;d=d.filter(h=>c.indexOf(h)===-1),d.length===0?(this.headers.delete(i),this.normalizedNames.delete(i)):this.headers.set(i,d)}break}}addHeaderEntry(n,i){let o=n.toLowerCase();this.maybeSetNormalizedName(n,o),this.headers.has(o)?this.headers.get(o).push(i):this.headers.set(o,[i])}setHeaderEntries(n,i){let o=(Array.isArray(i)?i:[i]).map(c=>c.toString()),a=n.toLowerCase();this.headers.set(a,o),this.maybeSetNormalizedName(n,a)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(i=>n(this.normalizedNames.get(i),this.headers.get(i)))}};var Li=class{encodeKey(n){return ef(n)}encodeValue(n){return ef(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}};function Xy(t,n){let i=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(a=>{let c=a.indexOf("="),[d,h]=c==-1?[n.decodeKey(a),""]:[n.decodeKey(a.slice(0,c)),n.decodeValue(a.slice(c+1))],p=i.get(d)||[];p.push(h),i.set(d,p)}),i}var e_=/%(\d[a-f0-9])/gi,t_={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function ef(t){return encodeURIComponent(t).replace(e_,(n,i)=>t_[i]??n)}function ki(t){return`${t}`}var rt=class t{map;encoder;updates=null;cloneFrom=null;constructor(n={}){if(this.encoder=n.encoder||new Li,n.fromString){if(n.fromObject)throw new O(2805,!1);this.map=Xy(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(i=>{let o=n.fromObject[i],a=Array.isArray(o)?o.map(ki):[ki(o)];this.map.set(i,a)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();let i=this.map.get(n);return i?i[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,i){return this.clone({param:n,value:i,op:"a"})}appendAll(n){let i=[];return Object.keys(n).forEach(o=>{let a=n[o];Array.isArray(a)?a.forEach(c=>{i.push({param:o,value:c,op:"a"})}):i.push({param:o,value:a,op:"a"})}),this.clone(i)}set(n,i){return this.clone({param:n,value:i,op:"s"})}delete(n,i){return this.clone({param:n,value:i,op:"d"})}toString(){return this.init(),this.keys().map(n=>{let i=this.encoder.encodeKey(n);return this.map.get(n).map(o=>i+"="+this.encoder.encodeValue(o)).join("&")}).filter(n=>n!=="").join("&")}clone(n){let i=new t({encoder:this.encoder});return i.cloneFrom=this.cloneFrom||this,i.updates=(this.updates||[]).concat(n),i}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":let i=(n.op==="a"?this.map.get(n.param):void 0)||[];i.push(ki(n.value)),this.map.set(n.param,i);break;case"d":if(n.value!==void 0){let o=this.map.get(n.param)||[],a=o.indexOf(ki(n.value));a!==-1&&o.splice(a,1),o.length>0?this.map.set(n.param,o):this.map.delete(n.param)}else{this.map.delete(n.param);break}}}),this.cloneFrom=this.updates=null)}};var Fi=class{map=new Map;set(n,i){return this.map.set(n,i),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}};function n_(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function tf(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function nf(t){return typeof Blob<"u"&&t instanceof Blob}function rf(t){return typeof FormData<"u"&&t instanceof FormData}function r_(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var of="Content-Type",sf="Accept",uf="X-Request-URL",cf="text/plain",lf="application/json",i_=`${lf}, ${cf}, */*`,cn=class t{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(n,i,o,a){this.url=i,this.method=n.toUpperCase();let c;if(n_(this.method)||a?(this.body=o!==void 0?o:null,c=a):c=o,c&&(this.reportProgress=!!c.reportProgress,this.withCredentials=!!c.withCredentials,c.responseType&&(this.responseType=c.responseType),c.headers&&(this.headers=c.headers),c.context&&(this.context=c.context),c.params&&(this.params=c.params),this.transferCache=c.transferCache),this.headers??=new yt,this.context??=new Fi,!this.params)this.params=new rt,this.urlWithParams=i;else{let d=this.params.toString();if(d.length===0)this.urlWithParams=i;else{let h=i.indexOf("?"),p=h===-1?"?":h<i.length-1?"&":"";this.urlWithParams=i+p+d}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||tf(this.body)||nf(this.body)||rf(this.body)||r_(this.body)?this.body:this.body instanceof rt?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||rf(this.body)?null:nf(this.body)?this.body.type||null:tf(this.body)?null:typeof this.body=="string"?cf:this.body instanceof rt?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?lf:null}clone(n={}){let i=n.method||this.method,o=n.url||this.url,a=n.responseType||this.responseType,c=n.transferCache??this.transferCache,d=n.body!==void 0?n.body:this.body,h=n.withCredentials??this.withCredentials,p=n.reportProgress??this.reportProgress,m=n.headers||this.headers,_=n.params||this.params,E=n.context??this.context;return n.setHeaders!==void 0&&(m=Object.keys(n.setHeaders).reduce((b,D)=>b.set(D,n.setHeaders[D]),m)),n.setParams&&(_=Object.keys(n.setParams).reduce((b,D)=>b.set(D,n.setParams[D]),_)),new t(i,o,d,{params:_,headers:m,context:E,reportProgress:p,responseType:a,withCredentials:h,transferCache:c})}},Lt=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Lt||{}),dn=class{headers;status;statusText;url;ok;type;constructor(n,i=200,o="OK"){this.headers=n.headers||new yt,this.status=n.status!==void 0?n.status:i,this.statusText=n.statusText||o,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}},Bi=class t extends dn{constructor(n={}){super(n)}type=Lt.ResponseHeader;clone(n={}){return new t({headers:n.headers||this.headers,status:n.status!==void 0?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}},or=class t extends dn{body;constructor(n={}){super(n),this.body=n.body!==void 0?n.body:null}type=Lt.Response;clone(n={}){return new t({body:n.body!==void 0?n.body:this.body,headers:n.headers||this.headers,status:n.status!==void 0?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}},sr=class extends dn{name="HttpErrorResponse";message;error;ok=!1;constructor(n){super(n,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${n.url||"(unknown url)"}`:this.message=`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}},o_=200,s_=204;function ma(t,n){return{body:n,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var Vi=(()=>{class t{handler;constructor(i){this.handler=i}request(i,o,a={}){let c;if(i instanceof cn)c=i;else{let p;a.headers instanceof yt?p=a.headers:p=new yt(a.headers);let m;a.params&&(a.params instanceof rt?m=a.params:m=new rt({fromObject:a.params})),c=new cn(i,o,a.body!==void 0?a.body:null,{headers:p,context:a.context,params:m,reportProgress:a.reportProgress,responseType:a.responseType||"json",withCredentials:a.withCredentials,transferCache:a.transferCache})}let d=qr(c).pipe(Wo(p=>this.handler.handle(p)));if(i instanceof cn||a.observe==="events")return d;let h=d.pipe(Zo(p=>p instanceof or));switch(a.observe||"body"){case"body":switch(c.responseType){case"arraybuffer":return h.pipe($e(p=>{if(p.body!==null&&!(p.body instanceof ArrayBuffer))throw new O(2806,!1);return p.body}));case"blob":return h.pipe($e(p=>{if(p.body!==null&&!(p.body instanceof Blob))throw new O(2807,!1);return p.body}));case"text":return h.pipe($e(p=>{if(p.body!==null&&typeof p.body!="string")throw new O(2808,!1);return p.body}));case"json":default:return h.pipe($e(p=>p.body))}case"response":return h;default:throw new O(2809,!1)}}delete(i,o={}){return this.request("DELETE",i,o)}get(i,o={}){return this.request("GET",i,o)}head(i,o={}){return this.request("HEAD",i,o)}jsonp(i,o){return this.request("JSONP",i,{params:new rt().append(o,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(i,o={}){return this.request("OPTIONS",i,o)}patch(i,o,a={}){return this.request("PATCH",i,ma(a,o))}post(i,o,a={}){return this.request("POST",i,ma(a,o))}put(i,o,a={}){return this.request("PUT",i,ma(a,o))}static \u0275fac=function(o){return new(o||t)(V(ln))};static \u0275prov=J({token:t,factory:t.\u0275fac})}return t})();var a_=new A("");function df(t,n){return n(t)}function u_(t,n){return(i,o)=>n.intercept(i,{handle:a=>t(a,o)})}function c_(t,n,i){return(o,a)=>yi(i,()=>n(o,c=>t(c,a)))}var ff=new A(""),ya=new A(""),hf=new A(""),_a=new A("",{providedIn:"root",factory:()=>!0});function l_(){let t=null;return(n,i)=>{t===null&&(t=(R(ff,{optional:!0})??[]).reduceRight(u_,df));let o=R(Ot);if(R(_a)){let c=o.add();return t(n,i).pipe(Kr(()=>o.remove(c)))}else return t(n,i)}}var ji=(()=>{class t extends ln{backend;injector;chain=null;pendingTasks=R(Ot);contributeToStability=R(_a);constructor(i,o){super(),this.backend=i,this.injector=o}handle(i){if(this.chain===null){let o=Array.from(new Set([...this.injector.get(ya),...this.injector.get(hf,[])]));this.chain=o.reduceRight((a,c)=>c_(a,c,this.injector),df)}if(this.contributeToStability){let o=this.pendingTasks.add();return this.chain(i,a=>this.backend.handle(a)).pipe(Kr(()=>this.pendingTasks.remove(o)))}else return this.chain(i,o=>this.backend.handle(o))}static \u0275fac=function(o){return new(o||t)(V(ir),V(nt))};static \u0275prov=J({token:t,factory:t.\u0275fac})}return t})();var d_=/^\)\]\}',?\n/,f_=RegExp(`^${uf}:`,"m");function h_(t){return"responseURL"in t&&t.responseURL?t.responseURL:f_.test(t.getAllResponseHeaders())?t.getResponseHeader(uf):null}var va=(()=>{class t{xhrFactory;constructor(i){this.xhrFactory=i}handle(i){if(i.method==="JSONP")throw new O(-2800,!1);let o=this.xhrFactory;return(o.\u0275loadImpl?An(o.\u0275loadImpl()):qr(null)).pipe(Go(()=>new ue(c=>{let d=o.build();if(d.open(i.method,i.urlWithParams),i.withCredentials&&(d.withCredentials=!0),i.headers.forEach((M,Z)=>d.setRequestHeader(M,Z.join(","))),i.headers.has(sf)||d.setRequestHeader(sf,i_),!i.headers.has(of)){let M=i.detectContentTypeHeader();M!==null&&d.setRequestHeader(of,M)}if(i.responseType){let M=i.responseType.toLowerCase();d.responseType=M!=="json"?M:"text"}let h=i.serializeBody(),p=null,m=()=>{if(p!==null)return p;let M=d.statusText||"OK",Z=new yt(d.getAllResponseHeaders()),W=h_(d)||i.url;return p=new Bi({headers:Z,status:d.status,statusText:M,url:W}),p},_=()=>{let{headers:M,status:Z,statusText:W,url:Ft}=m(),ae=null;Z!==s_&&(ae=typeof d.response>"u"?d.responseText:d.response),Z===0&&(Z=ae?o_:0);let _t=Z>=200&&Z<300;if(i.responseType==="json"&&typeof ae=="string"){let ur=ae;ae=ae.replace(d_,"");try{ae=ae!==""?JSON.parse(ae):null}catch(cr){ae=ur,_t&&(_t=!1,ae={error:cr,text:ae})}}_t?(c.next(new or({body:ae,headers:M,status:Z,statusText:W,url:Ft||void 0})),c.complete()):c.error(new sr({error:ae,headers:M,status:Z,statusText:W,url:Ft||void 0}))},E=M=>{let{url:Z}=m(),W=new sr({error:M,status:d.status||0,statusText:d.statusText||"Unknown Error",url:Z||void 0});c.error(W)},b=!1,D=M=>{b||(c.next(m()),b=!0);let Z={type:Lt.DownloadProgress,loaded:M.loaded};M.lengthComputable&&(Z.total=M.total),i.responseType==="text"&&d.responseText&&(Z.partialText=d.responseText),c.next(Z)},j=M=>{let Z={type:Lt.UploadProgress,loaded:M.loaded};M.lengthComputable&&(Z.total=M.total),c.next(Z)};return d.addEventListener("load",_),d.addEventListener("error",E),d.addEventListener("timeout",E),d.addEventListener("abort",E),i.reportProgress&&(d.addEventListener("progress",D),h!==null&&d.upload&&d.upload.addEventListener("progress",j)),d.send(h),c.next({type:Lt.Sent}),()=>{d.removeEventListener("error",E),d.removeEventListener("abort",E),d.removeEventListener("load",_),d.removeEventListener("timeout",E),i.reportProgress&&(d.removeEventListener("progress",D),h!==null&&d.upload&&d.upload.removeEventListener("progress",j)),d.readyState!==d.DONE&&d.abort()}})))}static \u0275fac=function(o){return new(o||t)(V(kt))};static \u0275prov=J({token:t,factory:t.\u0275fac})}return t})(),pf=new A(""),p_="XSRF-TOKEN",g_=new A("",{providedIn:"root",factory:()=>p_}),m_="X-XSRF-TOKEN",v_=new A("",{providedIn:"root",factory:()=>m_}),ar=class{},y_=(()=>{class t{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(i,o){this.doc=i,this.cookieName=o}getToken(){let i=this.doc.cookie||"";return i!==this.lastCookieString&&(this.parseCount++,this.lastToken=Xn(i,this.cookieName),this.lastCookieString=i),this.lastToken}static \u0275fac=function(o){return new(o||t)(V(Ne),V(g_))};static \u0275prov=J({token:t,factory:t.\u0275fac})}return t})();function __(t,n){let i=t.url.toLowerCase();if(!R(pf)||t.method==="GET"||t.method==="HEAD"||i.startsWith("http://")||i.startsWith("https://"))return n(t);let o=R(ar).getToken(),a=R(v_);return o!=null&&!t.headers.has(a)&&(t=t.clone({headers:t.headers.set(a,o)})),n(t)}var Da=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(Da||{});function D_(t,n){return{\u0275kind:t,\u0275providers:n}}function gf(...t){let n=[Vi,va,ji,{provide:ln,useExisting:ji},{provide:ir,useFactory:()=>R(a_,{optional:!0})??R(va)},{provide:ya,useValue:__,multi:!0},{provide:pf,useValue:!0},{provide:ar,useClass:y_}];for(let i of t)n.push(...i.\u0275providers);return Bs(n)}var af=new A("");function mf(){return D_(Da.LegacyInterceptors,[{provide:af,useFactory:l_},{provide:ya,useExisting:af,multi:!0}])}var wa=(()=>{class t{static \u0275fac=function(o){return new(o||t)};static \u0275mod=Yn({type:t});static \u0275inj=Un({providers:[gf(mf())]})}return t})();var vf={providers:[Vd({eventCoalescing:!0})]};var qe=np(_f());var Df={production:!0,apiBaseUrl:"https://hard-dulcinea-splendid-daf5b94a.koyeb.app"};var zi=class t{constructor(n){this.http=n}map;clickMarker;clickCircle;userMarkers=[];users=[];loading=!1;ngAfterViewInit(){this.initMap()}initMap(){this.map=qe.map("map").setView([23.685,90.3563],7),qe.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:18,attribution:"\xA9 OpenStreetMap contributors"}).addTo(this.map),this.map.on("click",n=>this.onMapClick(n))}onMapClick(n){let{lat:i,lng:o}=n.latlng;this.clearPreviousClickElements(),this.clickCircle=qe.circle([i,o],{color:"red",fillColor:"#f03",fillOpacity:.2,radius:5500}).addTo(this.map),this.map.setView([i,o],12,{animate:!0,duration:.5}),this.getNearbyUsers(i,o)}clearPreviousClickElements(){this.clickMarker&&(this.map.removeLayer(this.clickMarker),this.clickMarker=void 0),this.clickCircle&&(this.map.removeLayer(this.clickCircle),this.clickCircle=void 0)}clearUserMarkers(){this.userMarkers.forEach(n=>{this.map.removeLayer(n)}),this.userMarkers=[]}getNearbyUsers(n,i){this.loading=!0,this.users=[],this.clearUserMarkers(),this.http.post(`${Df.apiBaseUrl}/api/nearby`,{lat:n,long:i}).subscribe({next:o=>{this.users=o.users,this.addUserMarkers(o.users),this.loading=!1},error:o=>{console.error("Error fetching nearby users:",o),this.loading=!1}})}addUserMarkers(n){(n||[]).forEach(i=>{let o=qe.marker([i.lat,i.long],{icon:qe.icon({iconUrl:"https://unpkg.com/leaflet@1.7.1/dist/images/marker-icon.png",shadowUrl:"https://unpkg.com/leaflet@1.7.1/dist/images/marker-shadow.png",iconSize:[20,32],iconAnchor:[10,32],popupAnchor:[1,-34],shadowSize:[32,32]})}).addTo(this.map);o.bindPopup(`
        <div style="text-align: center;">
          <strong>${i.name}</strong>
        </div>
      `),this.userMarkers.push(o)})}static \u0275fac=function(i){return new(i||t)(Ti(Vi))};static \u0275cmp=Od({type:t,selectors:[["app-root"]],decls:3,vars:0,consts:[["id","map-title"],["id","map"]],template:function(i,o){i&1&&(Mi(0,"div",0),Bd(1,` Click any location to show the users list of that location.
`),xi(),oa(2,"div",1))},dependencies:[Si,wa],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%], app-root[_ngcontent-%COMP%]{height:100%;margin:0;padding:0}#map-title[_ngcontent-%COMP%]{position:absolute;z-index:1000;width:100%;text-align:center;background:#ffffffe6;font-size:1.2rem;padding:10px 0;top:0;left:0;box-shadow:0 2px 4px #0000001a}#map[_ngcontent-%COMP%]{position:absolute;inset:40px 0 0;width:100vw;height:calc(100vh - 40px)}"]})};ga(zi,vf).catch(t=>console.error(t));
